{"version":3,"sources":["style.lib/images/table_background_3.jpg","style.lib/globalStyles.js","style.lib/PalleteStyles.js","services/StorageService.js","stateProvider/DataManager.js","view/HomePage.jsx","view/Categories/CategoriesBrowser.jsx","view/GoogleMapsApi/GoogleMapEmbed.js","view/Locations/AddLocation.jsx","view/Locations/EditLocation.jsx","view/Locations/RemoveLocation.jsx","view/Locations/ViewLocation.jsx","view/Locations/LocationsMenu.jsx","view/Locations/LocationsTopBar.jsx","view/Locations/Location.jsx","view/Locations/LocationsList.jsx","view/Locations/FilterLocations.jsx","view/Locations/LocationsBrowser.jsx","view/MainMenu.jsx","view/TopBar.jsx","view/List.jsx","view/Filter.jsx","view/Profile.jsx","view/ProfilesBrowser.jsx","view/MainBottomBar.jsx","view/App.jsx","index.js"],"names":["module","exports","GlobalStyles","createGlobalStyle","main_palete_theme","palette","primary","light","main","dark","secondary","error","warning","info","success","top_menu","text_color","text_color_light","text_color_dark","header","text_hoover_color","add_button","table_row_style","selected","regular","regular_light","very_light","surface_background","regular_medium","overrides","MuiTooltip","tooltip","fontSize","color","backgroundColor","createMuiTheme","purple","contrastText","contrastThreshold","tonalOffset","fetchListLS","list_name","a","ls_list_Json","window","localStorage","getItem","ls_list","JSON","parse","Array","isArray","length","Error","storeListLS","list","console","log","is_list_ok","list_name_ok","ls_list_json","stringify","setItem","StateDataManager","React","createContext","Provider","WrapperDataManager","children","useState","id","name","address","lat","lng","category","original_Locations_list","set_original_Locations_list","filtered_Locations_list","update_Locations_filtered_list","locations_filter_text","set_locations_filter_text","locations_edited_flag","set_locations_edited_flag","locations_sort_order","set_locations_sort_order","locations_sort_by_category","set_locations_sort_by_category","selected_location","update_selected_location","zoom","selected_map_location","update_selected_map_location","categories_list","set_categories_list","selected_category","update_selected_category","loading_lists","set_loading_lists","error_message","set_error_message","states","actions","fetchDataFromLocalStorage","api","ls_selected_map_location","message","ls_original_Locations_list","marker","obj","ls_categories_list","useEffect","value","HomePage","Box","Title","Image","src","srcset","alt","styled","div","img","h1","CategoriesBrowser","useContext","columns","title","field","type","cellStyle","data","local_categories_list","update_local_categories_list","selected_row","set_selected_row","red","tableIcons","Add","forwardRef","props","ref","Fab","style","background","aria-label","Check","Clear","Delete","DeleteOutline","DetailPanel","ChevronRight","Edit","Export","SaveAlt","Filter","FilterList","FirstPage","LastPage","NextPage","PreviousPage","ChevronLeft","ResetSearch","Search","SortArrow","ArrowDownward","ThirdStateCheck","Remove","ViewColumn","storeData","MainBox","ContentBox","TableTitleStyle","components","Toolbar","MainTableToolBar","onRowClick","evt","selectedRow","options","sorting","searchFieldStyle","borderRadius","headerStyle","pageSizeOptions","rowStyle","rowData","tableData","height","textAlign","fontFamily","icons","localization","body","editRow","saveTooltip","cancelTooltip","deleteText","addTooltip","deleteTooltip","editTooltip","emptyDataSourceMessage","filterRow","filterTooltip","pagination","labelDisplayedRows","toolbar","nRowsSelected","editable","onRowAdd","newData","Promise","resolve","setTimeout","prevState","push","blue","onRowUpdate","oldData","indexOf","onRowDelete","splice","minWidth","maxWidth","width","position","boxShadow","maxHeight","margin","padding","paddingTop","display","flexDirection","alignItems","justifyContent","args","apply","GOOGLE_MAPS_URL","process","Map","withScriptjs","withGoogleMap","setCoordinates","onMapLoad","setAddress","google","geocoder","set_geocoder","current_location","set_current_location","maps","Geocoder","onPositionChanged","newLocation","LatLng","geocodeGetAddress","latlng","strAddress","geocode","results","status","formatted_address","err","e","center","onMapIdle","onClick","event","displayStr","latLng","getCoordinates","LocationsMap","map","_map","nextProps","nextState","this","setState","MapBox","isMarkerShown","googleMapURL","loadingElement","LoadingElementBox","containerElement","ContainerElementBox","mapElement","MapElementBox","onDoubleClick","handleMapChange","Component","GoogleMapContainer","location","set_location","MapDetailsBox","MapDetails","minHeight","marginLeft","paddingLeft","marginRight","paddingRight","paddingBottom","marginTop","fontWeight","AddLocation","useStyles","selected_action","new_location","set_new_location","validation","errors","set_errors","submitting","set_submitting","submit_text","set_submit_text","tooltip_open","set_tooltip_open","validation_success","history","useHistory","useMemo","green","handleChange","target","handleBlur","i","error_msg","magenta","validValue","found","some","element","validateField","validName","Number","isNaN","validateNameExists","FormBox","LocationForm","onSubmit","preventDefault","nameFound","validAddress","validLat","validLng","validCategory","coordinate_lat","coordinate_lng","validateForm","new_list","addLoaction","stopPropagation","FormControl","required","fullWidth","InputLabel","htmlFor","Input","placeholder","onChange","onBlur","ErrorText","CoordinatesBox","CoordinatesBoxLabel","CoordinatesInnerBox","CoordinatesInput","min","max","Tooltip","toolTipText","open","Select","labelId","defaultValue","autoWidth","onMouseEnter","onMouseLeave","onOpen","item","MenuItem","key","FormHelperText","SubmitText","SubmitBox","Button","disabled","variant","size","makeStyles","theme","container","flexWrap","lineHeight","textField","spacing","dense","menu","form","formControl","formControlLabel","flexFlow","paddingleft","wordWrap","EditLocation","findIndex","el","heigt","RemoveLocation","inputProps","readOnly","ViewLocation","match","top","left","right","LocationsMenu","Nav","StyledLink","to","Link","ul","LocationsTopBar","Text","Logo","spin","keyframes","Location","TextsBox","Title2","MsgText","cursor","create_list_ui","items","CardItem","LocationsList","overflowX","overflowY","FilterLocations","num_elements","set_num_elements","items_count","sortList","curr_filtered_Locations_list","new_order","by_category","is_asc","filtered_list","sort","b","toLowerCase","keyA","keyB","trim","filter","includes","Header","placement","PopperProps","popperOptions","modifiers","offset","enabled","SearchBar","txt","ActionsBar","handleRequestSort","SortRounded","handleRequestGroupByCategory","CategoryRounded","button","outline","border","transition","LocationsBrowser","withStyles","useLocation","MenuContentBox","MenuBox","ManageLocationsBox","pathname","h4","input","h2","span","h5","p","BottomNavigation","htmlFontSize","fontfamily","fontweight","bottom","icon","fontsize","textSizeAdjust","actionButtonLabel","classes","setValue","newValue","showLabels","className","BottomNavigationAction","component","label","createBrowserHistory","App","MainTheme","MuiThemeProvider","AppBox","exact","path","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.dd6c95cc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/table_background_3.43458f12.jpg\";","import { createGlobalStyle } from \"styled-components\";\n\nconst GlobalStyles = createGlobalStyle`\n    @import url(\"https://fonts.googleapis.com/css?family=Expletus+Sans|Raleway|Griffy|Yanone+Kaffeesatz:400,700\");\n\n    @import url(\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\");\n    \n    @import url(\"https://fonts.googleapis.com/icon?family=Material+Icons\");\n\n    html,\n    body {\n      height: 100%;\n    }\n    html {\n      /* font-size: 10px; */\n      font-size: 12px;\n    }\n    body {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background: papayawhip;\n      background: -moz-linear-gradient(\n        top,\n        #f5f5dc 0%,\n        #d2b48c 100%\n      ); /* FF3.6-15 */\n      background: -webkit-linear-gradient(\n        top,\n        #f5f5dc 0%,\n        #d2b48c 100%\n      ); /* Chrome10-25,Safari5.1-6 */\n      background: linear-gradient(\n        to bottom,\n        #f5f5dc 0%,\n        #d2b48c 100%\n      ); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n    }\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n      /*border:aqua dashed 3px; */\n      /*color:papayawhip*/\n    }\n    li {\n      list-style-type: none;\n    }\n`;\n\nexport default GlobalStyles;\n","import React, {useMemo} from 'react';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { purple } from '@material-ui/core/colors';\r\n\r\nconst main_palete_theme = {\r\n    palette: {\r\n      primary: {\r\n        light: '#4791db',\r\n        main: '#1976d2',\r\n        dark: '#115293', \r\n        // contrastText: will be calculated to contrast with palette.primary.main\r\n      },\r\n      secondary: {\r\n        light: '#e33371',\r\n        main: '#dc004e',\r\n        dark: '#9a0036', \r\n        //contrastText: '#ffcc00',\r\n      },\r\n      error: {\r\n        light: '#e57373',\r\n        main: '#f44336',\r\n        dark: '#d32f2f', \r\n        //contrastText: '#ffcc00',\r\n      },\r\n      \r\n      warning: {\r\n        light: '#ffb74d',\r\n        main: '#ff9800',\r\n        dark: '#f57c00', \r\n        //contrastText: '#ffcc00',\r\n      },\r\n\r\n      info: {\r\n        light: '#64b5f6',\r\n        main: '#2196f3',\r\n        dark: '#1976d2', \r\n        //contrastText: '#ffcc00',\r\n      },\r\n\r\n      success: {\r\n        light: '#81c784',\r\n        main: '#4caf50',\r\n        dark: '#388e3c', \r\n        //contrastText: '#ffcc00',\r\n      },    \r\n      \r\n      top_menu: {\r\n        light: '#33eb91', //'#64b5f6',\r\n        main: '#00e676', //'#2196f3',\r\n        dark: '#00a152', //'#1976d2',  \r\n        text_color: '#FFF',\r\n        text_color_light: 'mintcream',\r\n        text_color_dark: '#263238',\r\n        //contrastText: '#ffcc00',\r\n      },\r\n      \r\n      header: {\r\n        light: '#5381ff', \r\n        main: '#2962ff',\r\n        dark: '#1c44b2', \r\n        text_color: `#18ffff` , //'#FFF',   \r\n        text_hoover_color: '#b2ff59',           \r\n      },\r\n\r\n      add_button: {\r\n        light: '#baffff', \r\n        main: '#84ffff',\r\n        dark: '#4bcbcc', \r\n        // text_color: `#18ffff` , //'#FFF',   \r\n        // text_hoover_color: '#b2ff59',           \r\n      },\r\n\r\n      table_row_style: {\r\n        //selected: `#b9f6ca`, \r\n        selected: '#84ffff',        \r\n        regular:'#ecfffd', //'#f1f8e9',    \r\n        regular_light: 'honeydew', \r\n        very_light: 'white',    \r\n      },\r\n\r\n      surface_background: {\r\n        regular: 'oldlace',\r\n        regular_light: '#fafafa', //...grayish\r\n        regular_medium: 'Cornsilk',\r\n        very_light: 'white', \r\n      },\r\n      \r\n     \r\n         \r\n       \r\n      // Used by `getContrastText()` to maximize the contrast between\r\n      // the background and the text.\r\n      //contrastThreshold: 3,\r\n\r\n      // Used by the functions below to shift a color's luminance by approximately\r\n      // two indexes within its tonal palette.\r\n      // E.g., shift from Red 500 to Red 300 or Red 700.\r\n     // tonalOffset: 0.2,\r\n      \r\n    }, //pallete\r\n\r\n    overrides: {\r\n        MuiTooltip: {\r\n          tooltip: {\r\n            fontSize: 12,\r\n            color: '#673ab7',\r\n            backgroundColor: '#40c4ff',\r\n            // color: '#18ffff',\r\n            // backgroundColor: '#2962ff',\r\n            //margin: \"150px\",\r\n          },\r\n         },\r\n      },\r\n  };\r\n\r\n\r\n// According to:\r\n// https://material-ui.com/customization/palette/#example\r\n\r\n\r\n// const MainTheme = useMemo(\r\n//     () => createMuiTheme({\r\n//         palette: {\r\n//           primary: {\r\n//             light: '#4791db',\r\n//             main: '#1976d2',\r\n//             dark: '#115293', \r\n//             // contrastText: will be calculated to contrast with palette.primary.main\r\n//           },\r\n//           secondary: {\r\n//             light: '#e33371',\r\n//             main: '#dc004e',\r\n//             dark: '#9a0036', \r\n//             //contrastText: '#ffcc00',\r\n//           },\r\n//           error: {\r\n//             light: '#e57373',\r\n//             main: '#f44336',\r\n//             dark: '#d32f2f', \r\n//             //contrastText: '#ffcc00',\r\n//           },\r\n          \r\n//           warning: {\r\n//             light: '#ffb74d',\r\n//             main: '#ff9800',\r\n//             dark: '#f57c00', \r\n//             //contrastText: '#ffcc00',\r\n//           },\r\n    \r\n//           info: {\r\n//             light: '#64b5f6',\r\n//             main: '#2196f3',\r\n//             dark: '#1976d2', \r\n//             //contrastText: '#ffcc00',\r\n//           },\r\n    \r\n//           success: {\r\n//             light: '#81c784',\r\n//             main: '#4caf50',\r\n//             dark: '#388e3c', \r\n//             //contrastText: '#ffcc00',\r\n//           },    \r\n          \r\n//           top_menu: {\r\n//             light: '#33eb91', //'#64b5f6',\r\n//             main: '#00e676', //'#2196f3',\r\n//             dark: '#00a152', //'#1976d2',  \r\n//             //contrastText: '#ffcc00',\r\n//           },\r\n          \r\n//           header: {\r\n//             light: '#5381ff', \r\n//             main: '#2962ff',\r\n//             dark: '#1c44b2',              \r\n//           },\r\n           \r\n//           // Used by `getContrastText()` to maximize the contrast between\r\n//           // the background and the text.\r\n//           contrastThreshold: 3,\r\n//           // Used by the functions below to shift a color's luminance by approximately\r\n//           // two indexes within its tonal palette.\r\n//           // E.g., shift from Red 500 to Red 300 or Red 700.\r\n//           tonalOffset: 0.2,\r\n          \r\n//         }\r\n//       }) ,\r\n//     [],\r\n//   );\r\n\r\n\r\n  \r\n\r\n // goes with const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n// const theme1 = useMemo(\r\n//     () =>\r\n//       createMuiTheme({\r\n//         palette: {\r\n//           type: prefersDarkMode ? 'dark' : 'light',\r\n//         },\r\n//       }),\r\n//     [prefersDarkMode],\r\n//   );\r\n\r\n  \r\n// let theme2 = createMuiTheme({\r\n//     palette: {\r\n//       primary: settings.theme.primaryColor.import,\r\n//       secondary: settings.theme.secondaryColor.import,\r\n//       type: settings.theme.type\r\n//     }\r\n//   });\r\nconst theme3 = {\r\n    palette: {\r\n      primary: {\r\n        light: '#4791db',\r\n        main: '#1976d2',\r\n        dark: '#115293', \r\n        // contrastText: will be calculated to contrast with palette.primary.main\r\n      },\r\n      secondary: {\r\n        light: '#e33371',\r\n        main: '#dc004e',\r\n        dark: '#9a0036', \r\n        //contrastText: '#ffcc00',\r\n      },\r\n      error: {\r\n        light: '#e57373',\r\n        main: '#f44336',\r\n        dark: '#d32f2f', \r\n        //contrastText: '#ffcc00',\r\n      },\r\n      \r\n      warning: {\r\n        light: '#ffb74d',\r\n        main: '#ff9800',\r\n        dark: '#f57c00', \r\n        //contrastText: '#ffcc00',\r\n      },\r\n\r\n      info: {\r\n        light: '#64b5f6',\r\n        main: '#2196f3',\r\n        dark: '#1976d2', \r\n        //contrastText: '#ffcc00',\r\n      },\r\n\r\n      success: {\r\n        light: '#81c784',\r\n        main: '#4caf50',\r\n        dark: '#388e3c', \r\n        //contrastText: '#ffcc00',\r\n      },    \r\n      \r\n      top_menu: {\r\n        light: '#33eb91', //'#64b5f6',\r\n        main: '#00e676', //'#2196f3',\r\n        dark: '#00a152', //'#1976d2',  \r\n        text_color: '#FFF',\r\n        //contrastText: '#ffcc00',\r\n      },\r\n      \r\n      header: {\r\n        light: '#5381ff', \r\n        main: '#2962ff',\r\n        dark: '#1c44b2',              \r\n      },\r\n       \r\n      // Used by `getContrastText()` to maximize the contrast between\r\n      // the background and the text.\r\n      contrastThreshold: 3,\r\n      // Used by the functions below to shift a color's luminance by approximately\r\n      // two indexes within its tonal palette.\r\n      // E.g., shift from Red 500 to Red 300 or Red 700.\r\n      tonalOffset: 0.2,\r\n      type: \"main\",\r\n    },\r\n  };\r\n\r\n  const theme33 = createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        // Purple and green play nicely together.\r\n        main: purple[500],\r\n      },\r\n      secondary: {\r\n        // This is green.A700 as hex.\r\n        main: '#11cb5f',\r\n      },\r\n    },\r\n  });\r\n\r\n  const theme333 = createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        // light: will be calculated from palette.primary.main,\r\n        main: '#ff4400',\r\n        // dark: will be calculated from palette.primary.main,\r\n        // contrastText: will be calculated to contrast with palette.primary.main\r\n      },\r\n      secondary: {\r\n        light: '#0066ff',\r\n        main: '#0044ff',\r\n        // dark: will be calculated from palette.secondary.main,\r\n        contrastText: '#ffcc00',\r\n      },\r\n      // Used by `getContrastText()` to maximize the contrast between\r\n      // the background and the text.\r\n      contrastThreshold: 3,\r\n      // Used by the functions below to shift a color's luminance by approximately\r\n      // two indexes within its tonal palette.\r\n      // E.g., shift from Red 500 to Red 300 or Red 700.\r\n      tonalOffset: 0.2,\r\n    },\r\n  });\r\n  \r\n// const theme = useMemo(\r\n//     () =>\r\n//       createMuiTheme({\r\n//         palette: {\r\n//           type: prefersDarkMode ? 'dark' : 'light',\r\n//         },\r\n//       }),\r\n//     [prefersDarkMode],\r\n//   );\r\n\r\n\r\n\r\n\r\nexport { main_palete_theme as default};\r\n//export {main_palete_theme};","//const data_url = \"https://api.myjson.com/bins/yt3d9\";\n//const data_url = \"https://api.myjson.com/bins/wzf3c\";\n\nconst fetchAllProfiles1 = data_url => {\n  console.log(`in Api fetchAllProfiles1`);\n\n  console.log(`Api fetchAllProfiles1 calling fetch`);\n  fetch(data_url)\n    .then(res => {\n      console.log(`Api fetchAllProfiles1 after fetch`);\n      if (res.ok) {\n        console.log(`Api fetchAllProfiles1 json OK`);\n        console.log(res);\n        // here we return a promise with json format\n        return res.json();\n      }\n      throw new Error(\n        `Api fetchAllProfiles1 Network Fetch response was not ok ${\n          res.error.message\n        }`\n      );\n    })\n    // .then(data => {\n    //   console.log(`2nd then fetchDataFromNetwork dataK`);\n    //   console.table(data);\n    //   return data;\n    // })\n    .catch(error => {\n      console.error(`Api fetchAllProfiles1 failed: ${error.message}`);\n      throw new Error(`Api fetchAllProfiles1 failed: ${error.message}`);\n    });\n\n  // Note: it's important to handle errors here\n  // instead of a catch() block so that we don't swallow\n  // exceptions from actual bugs in components\n};\n\n// a general promises API simulating network communication\nconst fetchAllProfiles2 = async data_url => {\n  try {\n    const res = await fetch(data_url);\n    console.log(`Api fetchAllProfiles2 after fetch res`);\n    console.log(res);\n\n    console.log(`Api fetchAllProfiles2 BEFORE fetch json`);\n    const json = await res.json();\n    console.log(`Api fetchAllProfiles2 AFTER fetch json`);\n\n    if (json) {\n      console.log(`Api fetchAllProfiles2 after fetch json`);\n      console.table(json);\n      return json;\n    } else {\n      throw new Error(\n        `Api fetchAllProfiles2 Network Fetch response was not ok : ${\n          res.error.message\n        }`\n      );\n    }\n  } catch (error) {\n    console.error(`Api fetchDataFromNetwork fetch op failed: ${error.message}`);\n    throw new Error(\n      `Api fetchDataFromNetwork fetch op failed: ${error.message}`\n    );\n  }\n};\n\n//export async function fetchAllProfiles3() {\nasync function fetchAllProfiles3(data_url) {\n  const response = await fetch(data_url);\n  if (!response.ok)\n    throw new Error(`Api fetchAllProfiles3 failed: ${response.error.message}`);\n  return await response.json();\n}\n\n//////////////////////////////////////////////////////////////////////////////\n//                   Local Storage handlres\n//////////////////////////////////////////////////////////////////////////////\n\n//export async function fetchListLS(list_name) {\n  const fetchListLS = async (list_name) => {\n    let ls_list;\n\n    try{\n      const ls_list_Json = window.localStorage.getItem(list_name);\n      ls_list = JSON.parse(ls_list_Json);\n     \n      const is_list_ok = (  typeof ls_list != \"undefined\" \n                            && ls_list != null  \n                            && Array.isArray(ls_list) \n                            && ls_list.length != null  \n                            && ls_list.length > 0 );\n      if(!is_list_ok)\n        throw new Error(`Api fetchListLS returned an empty list: ${ls_list_Json}`);\n    } catch (err) {\n      throw new Error(`Api fetchListLS: ${err}`);\n    }\n\n    return ls_list;\n  }\n\n//export async function storeListLS(list_name) {\n  const storeListLS = async (list_name, list) => {\n\n    console.log(`LOCAL STORAGE storeListLS GOT input list: `, list);\n\n  try{    \n    const is_list_ok = ( typeof list != \"undefined\"  \n                        && list != null  \n                        && Array.isArray(list) \n                        && list.length != null  \n                        && list.length > 0 );\n    \n    const list_name_ok = ( typeof list_name != \"undefined\"  \n                          && list_name != null  \n                          && list_name.length != null  \n                          && list_name.length > 0 );\n\n\n    if(!is_list_ok && list_name_ok)\n          throw new Error(`Api LOCAL STORAGE  storeListLS received empty list or list_name: ${list_name}`);\n\n    const ls_list_json = JSON.stringify(list);\n    window.localStorage.setItem(list_name, ls_list_json);  \n    \n    console.log(`LOCAL STORAGE storeListLS stored list: `, storeListLS);\n\n  } catch (err) {\n    throw new Error(`Api LOCAL STORAGE storeListLS: ${err}`);\n  }\n\n}\n\n\nexport { fetchAllProfiles1, fetchAllProfiles2, fetchAllProfiles3, fetchListLS, storeListLS };\n","import React, { useState, useEffect } from \"react\";\n//import robots_data from \"../robots-data.json\";\n\nimport * as api from \"../services/StorageService\";\nimport marker from '@ajar/marker'; \n\n\nconst data_url = \"https://api.myjson.com/bins/yt3d9\";\n\nconst StateDataManager = React.createContext();\nconst { Provider } = StateDataManager;\n\nconst WrapperDataManager = ({ children }) => {\n  console.log(`in WrapperDataManager`);\n\n  // const [original_Locations_list, set_original_Locations_list] = useState([]);\n  const [original_Locations_list, set_original_Locations_list] = useState([\n    {\n      id: 1,\n      name: 'Demo Location',\n      address: 'ha nadiv 18, Tel Aviv',\n      // coordinates: {lat: -389.76, lng: 45.12},\n      lat: 31.776847698411576, \n      lng: 35.20543098449707, \n      category: 'Cat1',\n    }\n  ]);\n\n  const [filtered_Locations_list, update_Locations_filtered_list] = useState(original_Locations_list);\n  const [locations_filter_text, set_locations_filter_text] = useState('');\n  const [locations_edited_flag, set_locations_edited_flag] = useState(0);\n  const [locations_sort_order, set_locations_sort_order] = useState('asc');\n  const [locations_sort_by_category, set_locations_sort_by_category] = useState(false);\n\n\n\n  const [selected_location, update_selected_location] = useState(original_Locations_list[0]);\n  //({});\n  const [initial_location, update_initial_location] = useState(original_Locations_list[0]);\n  //({});\n  const [selected_map_location, update_selected_map_location] = useState( {\n    address:'',\n\n    // lat: -34.397,\n    // lng: 150.644,\n    lat: 31.776847698411576, \n    lng: 35.20543098449707, \n\n    //   zoom: 8,\n    //   zoom: 1, //World\n    //   zoom: 5, //Landmass/continent\n    //   zoom: 10, // City\n       zoom: 13, // City\n    //   zoom: 15, //Streets\n    //   zoom: 20, //Buildings\n   });\n\n  // const [categories_list, set_categories_list] = useState([]);\n  const [categories_list, set_categories_list] = useState([\n    {\n        name: 'Cat1',\n    },\n    {\n        name: 'Cat2',\n\n    },\n    {\n        name: 'Cat3',\n\n    },\n    {\n        name: 'Cat4',\n    },\n  ]);\n\n  const [selected_category, update_selected_category] = useState(\"Cat3\");\n  \n  const [loading_lists, set_loading_lists] = useState(true);\n  const [error_message, set_error_message] = useState(null);\n\n  // const [original_list, set_original_list] = useState([]);\n  // const [filtered_list, update_filtered_list] = useState([]);\n  // const [selected_card, update_selected_card] = useState({});\n  // const [loading_profiles, set_loading_profiles] = useState(true);\n \n\n  const states = {\n    original_Locations_list,\n    filtered_Locations_list,\n    locations_filter_text, \n    locations_edited_flag, \n    locations_sort_order,\n    locations_sort_by_category, \n    selected_location,\n    selected_map_location, \n    categories_list,\n    selected_category,\n\n    loading_lists,\n    error_message,\n\n  };\n\n  const actions = {\n    set_original_Locations_list,\n    update_Locations_filtered_list,\n    set_locations_filter_text,\n    set_locations_edited_flag,\n    set_locations_sort_order,\n    set_locations_sort_by_category,\n    update_selected_location,\n    update_selected_map_location,\n    set_categories_list,\n    update_selected_category,\n\n    set_loading_lists,   \n    set_error_message,    \n  \n  };\n\n  //================================================================================\n  //    Use local storage\n  //================================================================================\n\n  const fetchDataFromLocalStorage = async () => {\n\n    const lists_loaded_counter=0;\n\n    try {\n      const ls_selected_map_location = await api.fetchListLS('selected_map_location');\n      update_selected_map_location(ls_selected_map_location);\n      \n      console.log(`DataManager fetchDataFromLocalStorage ls_selected_map_location`, ls_selected_map_location);\n      } catch (err) {\n        set_error_message(err.message);\n      }   \n  \n    try {\n      const ls_original_Locations_list = await api.fetchListLS('original_Locations_list');\n      set_original_Locations_list(ls_original_Locations_list);\n      update_selected_location(ls_original_Locations_list[0]);\n      update_Locations_filtered_list( ls_original_Locations_list);\n  \n      marker.obj(original_Locations_list, `DataManager fetchDataFromLocalStorage 1 original_Locations_list`); \n      marker.obj(filtered_Locations_list, `DataManager fetchDataFromLocalStorage 1 filtered_Locations_list`);\n\n\n    } catch (err) {\n      set_error_message(err.message);\n    }   \n  \n    // try {\n    //   const ls_filtered_Locations_list = await api.fetchListLS('filtered_Locations_list');\n    //   update_Locations_filtered_list(ls_filtered_Locations_list);\n    //   lists_loaded_counter +=1;\n  \n    //   console.log(`DataManager fetchDataFromLocalStorage ls_filtered_Locations_list`, ls_filtered_Locations_list);\n    // } catch (err) {\n    //   set_error_message(err.message);\n    // }  \n\n    try {\n      const ls_categories_list = await api.fetchListLS('categories_list');     \n      set_categories_list(ls_categories_list);      \n      update_selected_category(ls_categories_list[0]);\n  \n      marker.obj( ls_categories_list, `DataManager fetchDataFromLocalStorage 1 ls_categories_list`);\n\n\n    } catch (err) {\n        set_error_message(err.message);\n    }            \n    \n                  \n    // update_selected_location(original_Locations_list[0]);\n    // update_Locations_filtered_list( original_Locations_list);\n    // update_selected_category(categories_list[0]);\n  \n    marker.obj(original_Locations_list, `DataManager fetchDataFromLocalStorage 2 original_Locations_list`); \n    marker.obj(filtered_Locations_list, `DataManager fetchDataFromLocalStorage 2 filtered_Locations_list`);\n    marker.obj( categories_list, `DataManager fetchDataFromLocalStorage 2 categories_list`);\n\n    set_loading_lists(false);\n\n  };\n\n\n  // The effect hook called useEffect is used to fetch the data from the API\n  // The promise resolving happens with async/await.\n\n  async function fetchData(data_url) {\n    try {\n      const web_list = await api.fetchAllProfiles3(data_url);\n\n     // console.log(`MANAGER fetchData web_list:`);\n     // console.table(web_list);\n\n     // console.log(`MANAGER fetchData calling setWebList:`);\n      if (web_list) {\n        console.log(`MANAGER fetchData weblist valid:`);\n       // console.table(web_list);\n\n       // Theses no longer exixt:\n       //-----------------------------------\n        //set_original_list(web_list);\n        //update_filtered_list(web_list);\n       // update_selected_card(web_list[0]);\n\n       // set_loading_profiles(false);\n       //------------------------------------\n\n        //console.log(`MANAGER fetchData web_list[0]:`);\n        //console.log(web_list[0]);\n      } else {\n        console.log(`MANAGER fetchData weblist NOT valid:`);\n        set_error_message(`MANAGER fetchData weblist NOT valid:`);\n        /*\n        set_original_list(robots_data);\n        update_filtered_list(robots_data);\n        update_selected_card(robots_data[0]);\n        set_loading_profiles(false);\n        */\n      }\n    } catch (err) {\n      set_error_message(err.message);\n    }\n  }\n\n\n  // We only want to fetch data when the component mounts.\n  // That’s why you can provide an empty array as second argument\n  // to the effect hook\n  // to avoid activating it on component updates\n  // but only for the mounting of the component.\n\n  useEffect(() => {\n    console.log(`useEffect calling fetchDataFromLocalStorage`);\n    fetchDataFromLocalStorage();\n\n    \n    marker.obj(original_Locations_list, `DataManager fetchDataFromLocalStorage 3 original_Locations_list`); \n    marker.obj(filtered_Locations_list, `DataManager fetchDataFromLocalStorage 3 filtered_Locations_list`);\n    marker.obj( categories_list, `DataManager fetchDataFromLocalStorage 3 categories_list`);\n\n  //fetchData(data_url);\n  //  console.log(`useEffect calling fetchData`);\n  //   fetchData(data_url);\n\n}, []);\n\n  // WrapperDataManager adds a top Provider layer to ProfilesBrowser and all the tree ({children})\n  return <Provider value={{ ...states, ...actions }}>{children}</Provider>;\n};\n\nexport { WrapperDataManager, StateDataManager };\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst HomePage = () => {\n  return (\n    <Box>\n      <Title>Welcome location seekers!</Title>\n      <Image src=\"https://robohash.org/etaperiamqui.jpg?size=300x300&set=set1\"\n        srcset=\"https://robohash.org/etaperiamqui.jpg?size=100x100&set=set1 1x, https://robohash.org/etaperiamqui.jpg?size=200x200&set=set1 2x\"\n        alt=\"Loading...\"\n      />\n    </Box>\n  );\n};\n//     {/* src=\"https://robohash.org/eadoloresiste.jpg?size=80x80\\u0026set=set1\" /> */}\n\nexport default HomePage;\n\nconst Box = styled.div`\n  font-size: 3rem;\n  font-weight: normal;\n  font-family: \"Griffy\", cursive;\n  /* padding: 2rem 2.8rem; */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Image = styled.img`\n  height: 30rem;\n  width: 30rem;\n  background-color: thistle;\n  transition: box-shadow 150ms, margin 150ms, padding 150ms;\n  background: linear-gradient(to bottom, #f5f5dc 0%, thistle 100%);\n  border-radius: 50%;\n  margin-top: 2rem;\n  border: dotted mediumvioletred 2px;\n`;\n\nconst Image2 = styled.img`\n  background: thistle;\n  background: linear-gradient(to bottom, #f5f5dc 0%, thistle 100%);\n  border-radius: 50%;\n  margin-top: 2rem;\n  border: dotted mediumvioletred 2px;\n`;\n\n// https://css-tricks.com/how-to-do-knockout-text/\n// hiding\" the text in a browser that can do the clipping.\nconst Title = styled.h1`\n  /* font-family: \"Expletus Sans\"; */\n  /* text-align: left; */\n  font-size: 7rem;\n  text-shadow: 2px 2px 10px rgba(71, 0, 37, 0.2);\n  color: coral;\n  padding-left: 1rem;\n  background: -webkit-linear-gradient(gold, coral);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n`;\n","//import React, { Component } from \"react\";\n\nimport React,\n{\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n\n  // using React.memo to turn a componenet into a memoized component. \n  //This will force React to never re-render it, unless some of its properties change\n  // memo ,\n\n  forwardRef,\n} from \"react\";\n\n// import { Route, Switch } from \"react-router\";\n// import {\n//   useHistory,\n//   useLocation,\n//   useParams,\n// } from \"react-router-dom\";\n\n// import { createBrowserHistory } from \"history\";\n\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\nimport * as api from \"../../services/StorageService\";\nimport marker from '@ajar/marker';\n\n\n//import \"../styles.css\";\n//import styled from \"styled-components\";\nimport main_palete_theme from '../../style.lib/PalleteStyles';\n// import Image from '../../style.lib/images/table_background_1.jpg';\nimport Image from '../../style.lib/images/table_background_3.jpg';\n\n\n// Material-UI\nimport { makeStyles, styled, withStyles, createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\n\nimport AddLocationRoundedIcon from '@material-ui/icons/AddLocationRounded';\n// import AddIcon from \"@material-ui/icons/Add\";\n// import AddCircleOutlinedIcon from '@material-ui/icons/AddCircleOutlined';\n// import AddCircleRoundedIcon from '@material-ui/icons/AddCircleRounded';\n// import AddBoxRoundedIcon from '@material-ui/icons/AddBoxRounded';\n// import DeleteOutline from '@material-ui/icons/DeleteOutline';\n\n\nimport {\n  AddBox,\n  ArrowDownward,\n  Check,\n  ChevronLeft,\n  ChevronRight,\n  Clear,\n  DeleteOutline,\n  Edit,\n  FilterList,\n  FirstPage,\n  LastPage,\n  Remove,\n  SaveAlt,\n  Search,\n  ViewColumn,\n} from '@material-ui/icons/';\n\n\nimport { Tooltip, Fab, } from '@material-ui/core';\n\nimport MaterialTable, { MTableToolbar, } from 'material-table';\n\n\n// 2 ways to update the table:\n// 1) using useStateful,useSetState and the setting of columns and data is in the table\n// 2) using useState( [.. here is the setting of columns and data])\n\n//-------------------------------------------------\n//  modify hooks to use a callback like setState\n//  emulate the behavior of the 'classic' setState()\n//-------------------------------------------------\n\nconst useStateful = initial => {\n  const [value, setValue] = useState(initial);\n  // console.log(`useStateful CALLED BY SURPRIZE value`, value);\n  return {\n    value,\n    setValue\n  };\n};\n\n// Creates an statfull object\n// having state and setState \n// \n// setState is a callBack with no dependencies, \n// which calls setValue with oldValue\n// which is actually the new updated value\n// since we pass v as ()=>resolve()\n// resolve is called with the new value\n// and tries to replace it with v (new value)\n// or the result of the v function\n\nconst useSetState = initialValue => {\n  const { value, setValue } = useStateful(initialValue);\n\n  return {\n    setState: useCallback(v => {\n      return setValue(oldValue => ({\n        // ...oldValue, /// this works badly on delete, \n        /// and without it, edit updates local_categories_list a bit longer\n        ...(typeof v === 'function' ? v(oldValue) : v)\n      }));\n    }, []),\n    state: value\n  };\n};\n\n\n\n/*\nconst useSetState = initialValue => {\n  const { value, setValue } = useStateful(initialValue);\n  console.log(`====== CategoriesBrowser useSetState  value ==========\\n`,value);\n  console.log(`====== CategoriesBrowser useSetState  setValue ==========\\n`,setValue);\n\n  return {\n    setState: useCallback(v => {\n      console.log(`====== CategoriesBrowser useSetState setState useCallback v ==========\\n`,v);\n\n      return setValue((oldValue) => {\n\n        console.log(`====== CategoriesBrowser useSetState setValue F oldValue ==========\\n`,oldValue);\n        console.log(`====== CategoriesBrowser useSetState setValue F  v ==========\\n`,v);\n       return(\n          {\n        ...oldValue,\n        ...(typeof v === 'function' ? v(oldValue) : v)         \n       });\n    });\n    }, []),\n    state: value,\n  };\n};\n*/\n\n/*\nCategoriesBrowser categories_list  index.js:103 \nArray(4)0: {name: \"Cat1\"}1: {name: \"Cat2\"}2: {name: \"Cat3\"}3: {name: \"Cat4\"}length: 4\n__proto__: Array(0)\n\nindex.js:63 CategoriesBrowser \nlocal_categories_list                                                                       \nObject\n  setState: ƒ (v)\n  state: Array(4)0: {name: \"Cat1\"}1: {name: \"Cat2\"}2: {name: \"Cat3\"}3: {name: \"Cat4\"}\nlength: 4\n__proto__: Array(0)__proto__: Object\n\n//====== CategoriesBrowser useSetState setState  ==========\n\n                                                                                            \nCategoriesBrowser onRowUpdate oldData  \nObject\n  name: \"Mehmet\"\n  surname: \"Baran\"\n  birthYear: 1987\n  birthCity: 63\n  tableData:\n      id: 0\n      editing: undefined\n      __proto__: Object\n  __proto__: Object\n\nCategoriesBrowser onRowUpdate newData\nObject\nname: \"new3333\"\nsurname: \"Baran\"\nbirthYear: 1987\nbirthCity: 63__proto__: Object\n\n\n*/\n\n//========================================================================\n//          CategoriesBrowser\n//          using MaterialTable: \n//          URL: https://material-table.com/#/docs/features/editable\n//========================================================================\n\nconst CategoriesBrowser = () => {\n  const { loading_lists,\n    categories_list, set_categories_list,\n    set_error_message,\n  } = useContext(StateDataManager);\n\n  // using useState:\n  //-----------------------------------------------------------------------\n  const [local_categories_list, update_local_categories_list] = useState(\n    {\n      columns: [\n        {\n          title: 'Category',\n          field: 'name', type: 'string',\n          cellStyle: {\n            //backgroundColor: '#039be5',\n            //color: '#FFF',\n            fontSize: `1.1rem`,\n\n          },\n        },\n\n        // { title: 'Surname', field: 'surname' },\n        // { title: 'Birth Year', field: 'birthYear', type: 'numeric' },\n        // {\n        //   title: 'Birth Place',\n        //   field: 'birthCity',\n        //   lookup: { 34: 'İstanbul', 63: 'Şanlıurfa' },\n        // },\n      ],\n\n      data: categories_list,\n\n    });\n\n  // using useStateful,useSetState\n  //----------------------------------------------------------\n  //const local_categories_list = useSetState(categories_list);\n\n\n  const [selected_row, set_selected_row] = useState(null);\n\n\n  marker.red(`===== CategoriesBrowser render ${selected_row}======================\\n`);\n  console.log(`CategoriesBrowser categories_list\\n`, categories_list);\n  console.log(`CategoriesBrowser local_categories_list\\n`, local_categories_list);\n  console.log(`CategoriesBrowser selected_row\\n`, selected_row);\n  marker.red(`=======================================================\\n`);\n\n\n  // const history = createBrowserHistory();\n\n  // const location = useLocation();\n  // marker.obj(location, `CategoriessBrowser location \\n`);\n\n  // const history = useHistory();\n\n  //const classes = useStyles();\n\n\n  // console.log (`COLORRRRRRRRRRRR \n  // ============================================================================`,main_palete_theme);\n\n\n  const tableIcons = {\n    //Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n    Add: forwardRef((props, ref) => (\n\n      //  Spread the props to the underlying DOM element.\n      //--------------------------------------------------      \n      <Fab\n        style={{\n          background: `${main_palete_theme.palette.add_button.main}`,\n          color: `${main_palete_theme.palette.primary.dark}`,\n        }}\n        aria-label=\"Add Category\" >\n\n        <AddLocationRoundedIcon ref={ref} {...props} style={{ fontSize: 35, }} />\n        {/* <AddCircleRoundedIcon ref={ref} {...props} style={{ fontSize: 40 }} /> */}\n\n      </Fab>\n\n    )),\n\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n  };\n\n\n  const storeData = async (list_name, list) => {\n    try {\n      await api.storeListLS(list_name, list);\n\n    } catch (err) {\n      set_error_message(err.message);\n    }\n  }\n\n\n  // need this when using useState()\n  //-----------------------------------\n  useEffect(() => {\n    update_local_categories_list({ columns: local_categories_list.columns, data: categories_list });\n    //},  []);  \n  }, [categories_list, categories_list.length]);\n\n\n\n  return (\n    // <MuiThemeProvider theme={MainTheme}> \n\n    <MainBox >\n\n      {loading_lists === false ? (\n\n        <div>\n          < ContentBox >\n\n            {/* <MuiThemeProvider theme={table_theme}> */}\n\n            < MaterialTable\n              //title =\"Categories list\"\n              title={\n                //  <h4 className={classes.tableTitleStyle}>Categories list</h4>\n                <TableTitleStyle> Categories list </TableTitleStyle>\n              }\n\n              // when using useState\n              //--------------------------------------\n              columns={local_categories_list.columns}\n\n              // when using useStateful,useSetState\n              //--------------------------------------\n              // columns={[\n              //   { \n              //     title: 'Category',                    \n              //     field: 'name', type: 'string',\n              //     cellStyle: {\n              //       //backgroundColor: '#039be5',\n              //       //color: '#FFF',\n              //       fontSize:`1.1rem`,\n\n              //     }, \n              //   },\n\n              // ]}\n\n              // when using useStateful,useSetState\n              //--------------------------------------\n              // data={ categories_list }\n\n              // when using useState\n              //--------------------------------------\n              data={local_categories_list.data}\n\n\n              //...material-table/dist/material-table.js:278\n              // _this.setState(\n              //   { isLoading: true },\n              //   function () {\n              //       _this.props.data(query)\n              //       .then(function (result) {\n              //             query.totalCount = result.totalCount;\n              //             query.page = result.page;\n              // ...\n\n              //  data={[\n              //    { name: 'Mehmet', surname: 'Baran', birthYear: 1987, birthCity: 63 },\n              //    { name: 'Zerya Betül', surname: 'Baran', birthYear: 2017, birthCity: 34 },\n              //  ]}  \n\n\n              components={{\n\n                Toolbar: props => (\n                  <MainTableToolBar>\n                    <MTableToolbar  {...props} />\n                  </MainTableToolBar>\n                ),\n\n              }}\n\n\n              onRowClick={((evt, selectedRow) => set_selected_row({ selectedRow }))}\n\n              options={{\n\n                sorting: true,\n\n                searchFieldStyle:\n                {\n                  background: 'white',\n                  borderRadius: '0.5rem',\n                },\n\n                headerStyle:\n                {\n                  backgroundColor: `${main_palete_theme.palette.top_menu.main}`,\n                  // backgroundColor: '#01579b',\n                  // backgroundColor: '#039be5',\n                  color: `${main_palete_theme.palette.top_menu.text_color}`, //'#FFF',\n                  fontSize: `1.2rem`,\n                },                //  {\n                //     background: 'lightsalmon',                    \n                //     color: \"darkred\",\n                //     \"&:hover\": {\n                //       color: \"white\"\n                //     },\n                //     fontSize:`1.2rem`,\n                //  },\n\n                pageSizeOptions: [5, 10], // more then that look awefull...\n\n                rowStyle: rowData => ({\n                  backgroundColor: (selected_row && selected_row.selectedRow && selected_row.selectedRow.tableData.id === rowData.tableData.id) ? //'#EEE' : '#FFF'\n                    // 'blue' : //'honeydew':// '#FFF'\n                    `${main_palete_theme.palette.table_row_style.selected}` :\n                    `${main_palete_theme.palette.table_row_style.regular}`,   //'oldlace', //'#FFF',\n                  height: 40,\n                  textAlign: 'left',\n                  //fontFamily: `Roboto Condensed`, \n                  fontFamily: 'Expletus Sans',\n                  fontSize: `3rem`,//'1.4rem',\n\n                }),\n\n\n              }} //options\n\n              icons={tableIcons}\n\n              // icons={{\n\n              //   Add: forwardRef((props, ref) => (                  \n\n              //     //  Spread the props to the underlying DOM element.\n              //     //--------------------------------------------------\n\n              //     <Fab                 \n              //        style={{                         \n              //           background:  `${main_palete_theme.palette.add_button.main}`,  \n              //           color: `${main_palete_theme.palette.primary.dark}`, \n              //          }}  \n              //         aria-label=\"Add Category\" >\n\n              //         <AddLocationRoundedIcon ref={ref} {...props}  style={{ fontSize: 35, }}  />\n              //         {/* <AddCircleRoundedIcon ref={ref} {...props} style={{ fontSize: 40 }} /> */}\n\n              //       </Fab>                                                        \n\n              //   )),                    \n\n\n              // }}\n\n\n              localization={{\n\n                body: {\n                  editRow: {\n                    saveTooltip: \"Save\",\n                    cancelTooltip: \"Cancel\",\n                    deleteText: \"Are you sure you want to delete this Category?\"\n                  },\n                  addTooltip: \"Add Category\",\n                  deleteTooltip: \"Delete\",\n                  editTooltip: \"Edit\",\n\n                  emptyDataSourceMessage: 'No records to display',\n                  filterRow: {\n                    filterTooltip: 'Filter list'\n                  }\n                },\n\n                pagination: {\n                  labelDisplayedRows: '{from}-{to} of {count}'\n                },\n\n                toolbar: {\n                  nRowsSelected: '{0} row(s) selected'\n                },\n                header: {\n                  actions: 'Actions'\n                },\n\n\n              }}\n\n              editable={{\n\n                // when using useState\n                //--------------------------------------\n                onRowAdd: newData =>\n                  new Promise(resolve => {\n                    setTimeout(() => {\n                      resolve();\n                      update_local_categories_list(prevState => {\n                        const list = [...prevState.data];\n                        console.log(`CategoriesBrowser onRowAdd list prevState.data\\n`, list);\n\n                        list.push(newData);\n                        set_categories_list(list);\n                        storeData('categories_list', list);\n\n                        marker.blue(`===== CategoriesBrowser onRowUpdate  ======================\\n ${newData}\\n`);\n                        console.log(`CategoriesBrowser onRowAdd newData\\n`, newData);\n                        marker.obj(newData, `CategoriesBrowser onRowAdd newData\\n`);\n\n                        console.log(`CategoriesBrowser onRowAdd list\\n`, list);\n                        console.log(`CategoriesBrowser onRowAdd local_categories_list\\n`, local_categories_list);\n                        console.log(`CategoriesBrowser onRowAdd categories_list\\n`, categories_list);\n                        marker.blue(`=======================================================\\n`);\n\n                        return ({ columns: local_categories_list.columns, data: list });\n                        // return { ...prevState, list };\n                      });\n                    }, 600);\n                  }),\n\n                // when using useStateful,useSetState\n                //--------------------------------------\n                // onRowAdd: newData =>\n                //   new Promise((resolve, reject) => {\n\n                //     setTimeout(() => {\n                //       {\n                //         const list = categories_list; //this.state.data;\n                //         list.push({name: newData.name});\n\n\n\n                //         local_categories_list.setState(list, () => resolve());\n                //         //local_categories_list.setState({list});\n\n                //         storeData('categories_list', list);\n\n                //         marker.blue(`===== CategoriesBrowser onRowUpdate  ======================\\n ${newData}\\n`);   \n                //         console.log(`CategoriesBrowser onRowAdd newData\\n`,newData);\n                //         marker.obj(newData, `CategoriesBrowser onRowAdd newData\\n`);\n                //         marker.obj(list, `CategoriesBrowser onRowAdd list\\n`);\n                //         console.log(`CategoriesBrowser onRowAdd list\\n`,list);\n                //         console.log(`CategoriesBrowser onRowAdd local_categories_list\\n`,local_categories_list);\n                //         console.log(`CategoriesBrowser onRowAdd categories_list\\n`,categories_list);\n                //         marker.blue(`=======================================================\\n`);\n                //       }\n                //       resolve();                  \n                //     }, 1000)\n                //   }),\n\n                // when using usetState\n                //--------------------------------------\n                onRowUpdate: (newData, oldData) =>\n                  new Promise(resolve => {\n                    setTimeout(() => {\n                      resolve();\n                      if (oldData) {\n                        update_local_categories_list(prevState => {\n                          const list = [...prevState.data];\n                          console.log(`CategoriesBrowser onRowUpdate list prevState.data\\n`, list);\n\n                          list[list.indexOf(oldData)] = newData;\n                          set_categories_list(list);\n                          storeData('categories_list', list);\n\n                          marker.blue(`===== CategoriesBrowser onRowUpdate  ======================\\n ${newData}\\n`);\n                          console.log(`CategoriesBrowser onRowUpdate newData\\n`, newData);\n                          marker.obj(newData, `CategoriesBrowser onRowUpdate newData\\n`);\n\n                          console.log(`CategoriesBrowser onRowUpdate list\\n`, list);\n                          console.log(`CategoriesBrowser onRowUpdate local_categories_list\\n`, local_categories_list);\n                          console.log(`CategoriesBrowser onRowUpdate categories_list\\n`, categories_list);\n                          marker.blue(`=======================================================\\n`);\n\n                          return ({ columns: local_categories_list.columns, data: list });\n                          // return { ...prevState, list };\n                        });\n                      }\n                    }, 600);\n                  }),\n\n\n                // when using useStateful,useSetState\n                //--------------------------------------\n                // onRowUpdate: (newData, oldData) =>\n                //   new Promise((resolve, reject) => {\n                //     setTimeout(() => {\n                //       {\n                //         const list = categories_list; ///this.state.data;\n                //         const index = list.map(e => e.name).indexOf(oldData.name);\n                //         list[index] = {name: newData.name};\n\n\n                //         // Only a double callback (setState and an inner function call)\n                //         // displays the current list\n                //         // just like any of the 3 functions below would do\n                //         //this.setState({ list }, () => resolve());\n                //         local_categories_list.setState(list, () => resolve());\n                //         //local_categories_list.setState({list});\n\n                //         storeData('categories_list', list);\n\n                //         marker.blue(`===== CategoriesBrowser onRowUpdate  ======================\\n ${oldData}\\n`);\n                //         console.log(`onRowUpdate found index ${index}`);\n                //         console.log(`CategoriesBrowser onRowUpdate oldData\\n`,oldData);\n                //         console.log(`CategoriesBrowser onRowUpdate newData\\n`,newData);\n                //         marker.obj(oldData, `CategoriesBrowser onRowUpdate oldData\\n`);\n                //         marker.obj(newData, `CategoriesBrowser onRowUpdate newData\\n`);\n                //         marker.obj(list, `CategoriesBrowser onRowUpdate list\\n`);\n                //         console.log(`CategoriesBrowser onRowUpdate list\\n`,list);\n                //         console.log(`CategoriesBrowser onRowUpdate local_categories_list\\n`,local_categories_list);\n                //         console.log(`CategoriesBrowser onRowUpdate categories_list\\n`,categories_list);\n                //         marker.blue(`=======================================================\\n`);\n\n\n                //       }\n                //        resolve();\n                //     }, 1000)\n                //   }),\n\n\n                // when using usetState\n                //--------------------------------------\n                onRowDelete: oldData =>\n                  new Promise(resolve => {\n                    setTimeout(() => {\n                      resolve();\n                      update_local_categories_list(prevState => {\n                        const list = [...prevState.data];\n                        console.log(`CategoriesBrowser onRowDelete list prevState.data\\n`, list);\n\n                        list.splice(list.indexOf(oldData), 1);\n                        set_categories_list(list);\n                        storeData('categories_list', list);\n\n                        marker.blue(`===== CategoriesBrowser onRowDelete  ======================\\n ${oldData}\\n`);\n                        console.log(`CategoriesBrowser onRowAdd newData\\n`, oldData);\n\n                        console.log(`CategoriesBrowser onRowDelete list\\n`, list);\n                        console.log(`CategoriesBrowser onRowDelete local_categories_list\\n`, local_categories_list);\n                        console.log(`CategoriesBrowser onRowDelete categories_list\\n`, categories_list);\n                        marker.blue(`=======================================================\\n`);\n\n                        return ({ columns: local_categories_list.columns, data: list });\n                        // return { ...prevState, list }; \n                      });\n                    }, 600);\n                  }),\n\n                // when using useStateful,useSetState\n                //--------------------------------------\n                // onRowDelete: oldData =>\n                //   new Promise((resolve, reject) => {\n                //     setTimeout(() => {\n                //       {\n                //         let list = categories_list; /// this.state.data;\n                //         const index = list.map(e => e.name).indexOf(oldData.name);\n                //         list.splice(index, 1);\n                //         console.log(`onRowDelete list`, list);\n\n                //         // Only a double callback (setState and an inner function call)\n                //         // displays the current list\n                //         // just like any of the 3 functions below would do\n                //         //this.setState({ list }, () => resolve());\n                //         local_categories_list.setState(list, () => resolve());\n                //       //  local_categories_list.setState({list});\n\n                //         storeData('categories_list', list);\n\n                //       }\n                //        resolve();\n                //     }, 1000)\n                //   }),\n\n              }}\n\n            />\n\n            {/* </MuiThemeProvider> */}\n\n          </ContentBox>\n        </div>\n\n\n      ) : (\n          <h1>... Loding ...</h1>\n        )\n      }\n\n    </MainBox >\n\n    //  </MuiThemeProvider> \n\n  );\n};\nexport default CategoriesBrowser;\n\n//===============================================================\n// local styling\n//===============================================================\n\n\n// const useStyles = makeStyles({\n//   colHeader: {\n//      background: 'lightsalmon',\n//      color: \"darkred\",\n//      \"&:hover\": {\n//        color: \"blue\"\n//      },\n//      fontSize:`1.2rem`,\n//    },\n\n\n//   tableTitleStyle: {   \n\n//    color: `${main_palete_theme.palette.header.light}`, //'#FFF',\n//    // color: 'white', //\"blue\",\n//     \"&:hover\": {\n//       color: `${main_palete_theme.palette.header.dark}`,\n//       //color: 'lightblue',//\"darkred\",\n//     }\n//   }\n// });\n\nconst TableTitleStyle = styled('h4')({\n\n  color: `${main_palete_theme.palette.header.text_color}`,//'#FFF',\n  // color: 'white', //\"blue\",\n  \"&:hover\": {\n    color: `${main_palete_theme.palette.header.text_hoover_color}`,\n    //color: 'lightblue',//\"darkred\",\n  },\n});\n\nconst MainTableToolBar = styled('div')({\n  backgroundColor: `${main_palete_theme.palette.header.main}`,\n  // backgroundColor: '#01579b',\n  // backgroundColor: '#039be5',\n\n  color: `${main_palete_theme.palette.header.text_color}`, //'#FFF',   \n\n});\n\nconst MainBox = styled('div')({\n  minWidth: '100rem',\n  maxWidth: '100vw',\n  width: '100%',\n\n  position: 'relative',\n  // position: 'sticky',\n  // top: '40px',\n\n  borderRadius: '0.4rem',\n  boxShadow: '0 0.4rem 1.5rem DimGrey',\n\n  height: 'fit-content',\n  maxHeight: '60rem',\n\n  margin: 'auto',\n  // marginTop: '3rem', \n  //padding: '7.0rem 1.5rem 1.5rem',\n  padding: '1.5rem 1.5rem 1.5rem',\n  paddingTop: 'auto',\n\n  fontSize: '1.5rem',\n\n\n  // background: `${main_palete_theme.palette.surface_background.regular_medium}  center / 100% no-repeat url(${Image}) `,\n\n  // background: `${main_palete_theme.palette.surface_background.regular_medium}  center / cover no-repeat url(${Image}) `,\n\n  background: `${main_palete_theme.palette.surface_background.regular_medium} center / cover no-repeat url(${Image}) `,\n\n  //background: 'Cornsilk',\n  // backgroundImage: `url(${Image})`,\n  // backgroundSize: 'cover',\n  //backgroundPosition: 'strech', //'center',\n  //backgroundRepeat: `no-repeat`,\n  //width: `calc(100vw + 48px)`,\n\n\n  // borderRadius: '0.4rem',\n  display: 'flex',\n  flexDirection: 'column',\n\n  // padding: '8.5rem 1.5rem 1.5rem','\n  // margin-top: '10rem',' \n  // font-size: '3rem',' \n});\n\nconst ContentBox = styled('div')({\n\n  height: 'fit-content',\n  maxHeight: '60rem',\n\n  //position: 'sticky',\n  //top: '20px',\n  //border:red solid 2px;\n\n  // borderRadius: '0.4rem',\n  //boxShadow: '0 0.4rem 1.5rem DimGrey',\n  //backgroundImage: `url(${Image})`,\n  margin: 'auto',\n  paddingTop: 'auto',\n\n  display: 'flex',\n  alignItems: 'center',\n  // alignItems: 'space-between',   //\n  // alignItems: 'flex-start', \n  justifyContent: 'space-around',   //'flex-start',\n\n}); ","\r\nimport React, { Component, useState, useEffect, useContext } from \"react\";\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\r\n//import {MAP} from 'react-google-maps/lib/constants';\r\n\r\nimport main_palete_theme from '../../style.lib/PalleteStyles';\r\nimport { makeStyles, styled } from '@material-ui/core/styles';\r\nimport {  Box } from \"@material-ui/core\";\r\n\r\nimport marker from '@ajar/marker'; \r\n\r\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\r\n\r\nconst log = (...args) => console.log.apply(null, [\"GoogleMap -->\", ...args]);\r\n// const url= 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCdtGPc2gg0Wh8UWRWDGDy8ChwLNyB5DnI';\r\n\r\nconst gMapURL= \r\n\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\r\n\r\n// const base_url = `https://maps.googleapis.com/maps/api/js`;\r\n// const key = \"AIzaSyDFYuZoAuUKiGaRRStQO2Yl0YP3utwdUNU\";\r\n// const mapKey = `AIzaSyCdtGPc2gg0Wh8UWRWDGDy8ChwLNyB5DnI`;\r\n// const url = `${base_url}&key=${mapKey}`;\r\n\r\n//whenever changing .env, run: npm run start, in order for change to take effect\r\nconst google_maps_api_key = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;\r\nconst GOOGLE_MAPS_URL= \r\n`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places,geocoding&key=${google_maps_api_key}`;\r\n\r\n\r\n//============================================================================\r\n// withScriptjs enables avoididing stating the Google API Key in the HTML\r\n// and hiding it in .env file\r\n// You must remember to add to it REACT_APP_ prefix, and refresh the webbrowser \r\n// so that webpack will be updated with the added key.\r\n//============================================================================\r\n\r\nconst Map = withScriptjs( withGoogleMap( (props) => {\r\n  const { \r\n     lat, lng, zoom, setCoordinates, setAddress, onMapLoad\r\n  } = props;\r\n    \r\n  //Gloobal context storage\r\n const { \r\n    selected_location,\r\n    selected_map_location, \r\n  } =  useContext(StateDataManager);\r\n\r\n  const google = window.google;\r\n // console.log('Map google ', google);\r\n\r\n  // const maps = google.maps;\r\n  // console.log('Map maps\\n', maps);\r\n\r\n  // const mapEvents = google.maps.event;  \r\n  // marker.obj(mapEvents, 'Map maps events\\n' );\r\n\r\n  console.log('Map props:\\n', props);\r\n  const [geocoder, set_geocoder] = useState(null);\r\n\r\n  const [current_location, set_current_location] = useState(\r\n    {\r\n      address: selected_location.address ,\r\n      // lat: -389.76, \r\n      // lng: 45.12, \r\n      lat: selected_location.lat , \r\n      lng: selected_location.lng , \r\n      //   zoom: 8,\r\n      //   zoom: 1, //World\r\n      //   zoom: 5, //Landmass/continent\r\n      //    zoom: 10, // City\r\n       zoom: 13, // City\r\n      //   zoom: 15, //Streets\r\n      //   zoom: 20, //Buildings\r\n    }\r\n  );\r\n\r\n  // onComponentDidMount equiv\r\n  //----------------------------------\r\n\r\n  useEffect(() => {\r\n\r\n    const { \r\n      lat, lng, zoom, setCoordinates\r\n    } = props;\r\n\r\n    console.log('Map useEffect ON MOUNT props:\\n', props);\r\n\r\n    set_current_location(\r\n      {\r\n        address: selected_location.address,\r\n        lat: selected_location.lat, \r\n        lng: selected_location.lng, \r\n        zoom: zoom,         \r\n       }\r\n    );    \r\n    \r\n    \r\n    console.log('Map useEffect ON MOUNT current_location:\\n', current_location);\r\n\r\n \r\n    const geocoder = new google.maps.Geocoder();\r\n    set_geocoder(geocoder);\r\n  \r\n    marker.blue(`Map useEffect geocoder`);\r\n    marker.obj( geocoder, 'geocoder');\r\n    \r\n    // We only want to fetch data when the component mounts.\r\n    // That’s why you can provide an empty array as second argument\r\n    // to the effect hook\r\n    // to avoid activating it on component updates\r\n    // but only for the mounting of the component.\r\n    \r\n  }, []);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const { \r\n      lat, lng, zoom, setCoordinates\r\n    } = props;\r\n\r\n    console.log('Map useEffect ON selected_map_location props:\\n', props);\r\n\r\n    set_current_location(\r\n      {\r\n        address: selected_map_location.address,\r\n        lat: selected_map_location.lat, \r\n        lng: selected_map_location.lng, \r\n        zoom: zoom,         \r\n       }\r\n    );    \r\n    \r\n    \r\n    console.log('Map useEffect ON selected_map_location:\\n', selected_map_location);\r\n\r\n    onPositionChanged(selected_map_location.lat, selected_map_location.lng);\r\n  \r\n  }, [selected_map_location]);\r\n\r\n\r\n\r\n  const onPositionChanged = (lat, lng) => {\r\n    marker.blue(`Map onPositionChange:${lat} ${lng}`);\r\n    const newLocation = new window.google.maps.LatLng(lat, lng);\r\n  \r\n    return (\r\n      <Marker\r\n        position={newLocation}\r\n        title=\"Click to zoom\" \r\n      />\r\n    );\r\n  }\r\n\r\n\r\n  const getCoordinates = (event, setCoordinates, displayStr, geocoder) => {\r\n      // const userPickedPos = this.map.getPosition();\r\n\r\n    marker.obj(event, `Map getCoordinates onclick event\\n`);\r\n    const lat = event.latLng.lat();\r\n    const lng = event.latLng.lng();    \r\n    marker.blue(`Map getCoordinates  ${displayStr} lat ${lat} lng ${lng}`);\r\n\r\n    \r\n    const strAddress = geocodeGetAddress(event.latLng, setCoordinates, geocoder);\r\n\r\n    \r\n\r\n   // const place_details = event.xa.view.google.maps.places;//.getDetailes();\r\n   // marker.obj(place_details, `Map getCoordinates place_details\\n`);\r\n    // console.log(`Map getCoordinates event.xa.view.google.maps\\n`, event.xa.view.google.maps);\r\n    // marker.magenta(`Map getCoordinates event.xa.view.google.maps.Data.\\n`, event.xa.view.google.maps.Data);\r\n   // marker.obj(event, `Map getCoordinates event\\n`);\r\n    //marker.obj( geocoder, 'Map getCoordinates geocoder');\r\n\r\n\r\n  };\r\n\r\n\r\n  const geocodeGetAddress = (latlng, setCoordinates,  geocoder) => {\r\n\r\n    var strAddress ='';\r\n\r\n    const lat = latlng.lat();\r\n    const lng = latlng.lng();\r\n   \r\n    try {\r\n      geocoder.geocode({'location': latlng}, (results, status) =>{\r\n        if (status === 'OK') {\r\n  \r\n          if (results[0]) {\r\n            marker.blue(`Map geocodeLatLng address: ` + results[0].formatted_address, );\r\n            strAddress = results[0].formatted_address;\r\n            //setAddress(strAddress);\r\n            //update_selected_map_location( ( {...selected_map_location, address: strAddress, } )  );  \r\n          } else {\r\n            marker.blue('Map geocodeLatLng: No results found');\r\n            strAddress ='Address Not Found'\r\n            //setAddress('Address Not Found');\r\n            //update_selected_map_location( ( {...selected_map_location,  address: 'Address Not Found', } )  );  \r\n          }\r\n        } else {\r\n          marker.blue('MapgeocodeLatLng Geocoder: failed due to: ' + status);           \r\n          strAddress = 'Address ERROR: ' + status ;\r\n         // update_selected_map_location( ( {...selected_map_location,  address: 'Address ERROR: '+status, } )  );  \r\n       }\r\n         \r\n\r\n          setCoordinates({ address: strAddress, lat: lat, lng: lng });\r\n        // // setAddress(strAddress);\r\n  \r\n          marker.blue( `Map geocodeGetAddress  ${strAddress} ${lat} ${lng} \\n` );\r\n  \r\n          set_current_location( { ...current_location, address: strAddress,  lat: lat, lng: lng });\r\n        \r\n      });\r\n    }\r\n    catch(err) {\r\n        marker.e(`geocodeGetAddress error occured ${err.message}`);\r\n        marker.obj(err, `geocodeGetAddress error occured `);\r\n        strAddress = `Address ERROR: An exception occured`;\r\n\r\n        \r\n        setCoordinates({ address: strAddress, lat: lat, lng: lng });\r\n        // // setAddress(strAddress);\r\n  \r\n          marker.blue( `Map geocodeGetAddress  ${strAddress} ${lat} ${lng} \\n` );\r\n  \r\n          set_current_location( { ...current_location, address: strAddress,  lat: lat, lng: lng });\r\n    }\r\n    \r\n\r\n   \r\n\r\n  }\r\n\r\n  marker.blue( `Map current_location  \r\n  ${current_location.address} ${current_location.lat} ${current_location.lng}` );\r\n\r\n\r\n\r\n   // using React refs to create a reference object to the GoogleMap\r\n\r\n  return( \r\n    <GoogleMap\r\n        // Here you have access to google.maps.Map object:\r\n        ref={onMapLoad}  \r\n       \r\n        // defaultZoom={zoom}\r\n        zoom={zoom}\r\n        // defaultCenter={{ lat: lat, lng: lng }}\r\n        center={{ lat: lat, lng: lng }}\r\n        \r\n        onMapIdle={ ()=> { console.log('Map map is ready') } }\r\n        onClick={ event => { \r\n          //console.log('Map click') ;\r\n          getCoordinates(event, setCoordinates, \"Click\", geocoder);       \r\n          //getCoordinates(event, setCoordinates, setAddress,\"Click\", geocoder);      \r\n        } }  \r\n              \r\n      >\r\n        { onPositionChanged(current_location.lat, current_location.lng) }\r\n      </GoogleMap>\r\n     );\r\n    }\r\n\r\n\r\n  ));\r\n \r\n\r\n//============================================================================\r\n//  Enveloping Component for the GoogleMap\r\n//============================================================================\r\n\r\nclass LocationsMap extends Component {\r\n  \r\n   shouldComponentUpdate(nextProps, nextState) {\r\n     log(\"LocationsMap shouldComponentUpdate this._map:\",  this._map);\r\n    return true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { lat, lng, zoom, setCoordinates } = this.props;\r\n    //console.log('LocationsMap componentDidMount this.props \\n', this.props);\r\n\r\n    this.setState({\r\n      center: { lat, lng },\r\n      zoom: zoom,\r\n      setCoordinates,\r\n    });\r\n\r\n    log(\"LocationsMap componentDidMount this._map:\",  this._map);\r\n  }\r\n  \r\n  // componentWillUnmount() {\r\n  //   const { lat, lng, zoom, setCoordinates } = this.props;\r\n  //   console.log('LocationsMap componentWillUnmount this.props \\n', this.props);\r\n  //   log(\"LocationsMap componentWillUnmount this._map:\",  this._map);\r\n  // }\r\n\r\n  //==============================================================\r\n  // get the GoogleMap ref\r\n  //==============================================================\r\n\r\n  onMapLoad = map => {\r\n         //(map) => map.context[MAP]  \r\n    this._map = map;\r\n\r\n    console.log('LocationsMap onMapLoad this._map' ,this._map  ); \r\n    // if ( (this._map !== null) && (this._map !== 'undefined') ) {\r\n    //       const myCenter = this._map.getCenter();\r\n    //       console.log(myCenter, `LocationsMap onMapLoad myCenter`);\r\n      \r\n    //       // marker.obj(this._map.getCenter().toJSON(), `LocationsMap onMapLoad this._map.getCenter().toJSON() \\n`); \r\n    //       marker.green('LocationsMap onMapLoad this._map.getZoom' , this._map.getZoom());   \r\n    // } else{\r\n    //   marker.red('LocationsMap onMapLoad this._map is null, s.t. happened ');\r\n    // }\r\n\r\n  }\r\n\r\n\r\n\r\n  //--------------------------------------------\r\n  render() {\r\n\r\n    marker.red( `LocationsMap  ${this.props.address} ${this.props.lat} ${this.props.lng}` );\r\n  \r\n  //console.log(`google maps URL: ${GOOGLE_MAPS_URL}`);\r\n\r\n    if ( (this._map !== null) && (this._map !== 'undefined') ) {    \r\n      console.log('LocationsMap render this._map' , this._map);   \r\n    } else{\r\n      marker.red('LocationsMap render this._map is null ');\r\n    }\r\n\r\n    return (  \r\n       <MapBox>\r\n         {/* <div ref=\"myMap\" className=\"map-box\" > */}\r\n        {/* <h1>Map should be here</h1> */}\r\n        <Map\r\n          // passing props to GoogleMap:\r\n          ref=\"mapDiv\"\r\n          isMarkerShown={true}\r\n          lat={this.props.lat}\r\n          lng={this.props.lng}\r\n          zoom={this.props.zoom}\r\n\r\n          setCoordinates={this.props.setCoordinates}\r\n          //setAddress={this.props.setAddress}\r\n          onMapLoad = {this.onMapLoad}\r\n\r\n          googleMapURL={GOOGLE_MAPS_URL}\r\n          loadingElement={ <LoadingElementBox\r\n            // style={{ height: `100%`, width:`80%` }} \r\n            /> }\r\n          containerElement={ <ContainerElementBox \r\n            // style={{ height: `30rem`, width:`20rem` }}\r\n             /> }\r\n          mapElement={<MapElementBox id='googlemap' ref=\"myMap\" \r\n          // style={{  height: `30rem`, width:`20rem` } }\r\n           />  }\r\n\r\n          onDoubleClick={this.handleMapChange}\r\n          onMapIdle={ ()=> { console.log('LocationsMap map is ready') } }\r\n   \r\n        />\r\n\r\n      </MapBox>\r\n\r\n    );\r\n  }\r\n}\r\n\r\n\r\n//==============================================================================================\r\n\r\nconst GoogleMapContainer = () => {\r\n  // Global context states\r\n\r\n  const {  \r\n    original_Locations_list, \r\n    set_original_Locations_list,\r\n    selected_map_location, \r\n    selected_location,\r\n    // update_selected_location,\r\n    update_selected_map_location,\r\n  } =  useContext(StateDataManager);\r\n\r\n  const [location, set_location] = useState({\r\n    address: selected_location.address,\r\n    lat: selected_location.lat, \r\n    lng: selected_location.lng, \r\n    \r\n    //   zoom: 8,\r\n    //   zoom: 1, //World\r\n    //   zoom: 5, //Landmass/continent\r\n    //   zoom: 10, // City\r\n    zoom: 13, // City\r\n    //   zoom: 15, //Streets\r\n    //   zoom: 20, //Buildings\r\n  });   \r\n\r\n\r\n\r\n  const setUserPickedCoordinates = ({ address, lat, lng }) => {\r\n    marker.red(`GoogleMapContainer setUserPickedCoordinates:  lat ${lat} lng  ${lng}`); \r\n\r\n    set_location({ ...location, address: address, lat: lat, lng: lng, });\r\n    update_selected_map_location({ ...selected_map_location, address: address, lat: lat, lng: lng ,});\r\n  };\r\n\r\n  const setUserPickedAddress = (str) => {\r\n    marker.red(`GoogleMapContainer setUserPickedAddress:  address ${str}`); \r\n    set_location({ address: str , });\r\n    update_selected_map_location({  address: str, });\r\n  };\r\n\r\n \r\n  // Equiv to On Mount\r\n  useEffect(() => {\r\n\r\n    set_location( ( {...location, \r\n       address: selected_map_location.address, \r\n       lat: selected_map_location.lat, \r\n       lng: selected_map_location.lng, \r\n     } )  );  \r\n  \r\n   }, []);\r\n\r\n   \r\n   // kepp being updated on user current selected location view\r\n  useEffect(() => {\r\n\r\n    set_location( ( {...location, \r\n      // id: ((original_Locations_list.length) + 1),\r\n      address: selected_location.address, \r\n      lat: selected_location.lat, \r\n      lng: selected_location.lng, \r\n    } )  );  \r\n      \r\n  }, [selected_location]);\r\n\r\n\r\n   marker.red(`GoogleMapContainer location: \r\n   address  ${location.address} lat  ${location.lat} lng  ${location.lng}`); \r\n\r\n   marker.red(`GoogleMapContainer selected_map_location: \r\n   address  ${selected_map_location.address} \r\n   lat ${selected_map_location.lat} lng ${selected_map_location.lng}`);\r\n\r\n \r\n  return (\r\n    <MainBox>\r\n      \r\n          {\r\n          // <LocationsGoogleMap \r\n          }\r\n          {\r\n        // <MapTitleBox>\r\n        //   <h1>Location map</h1>\r\n        // </MapTitleBox>\r\n          }\r\n\r\n          <LocationsMap\r\n            lat={location.lat}\r\n            lng={location.lng}\r\n            zoom={location.zoom}\r\n            setCoordinates={setUserPickedCoordinates}\r\n            //setAddress={setUserPickedAddress}\r\n          />\r\n          <MapDetailsBox>\r\n            <MapDetails>lat:     {location.lat}</MapDetails>\r\n            <MapDetails>lng:     {location.lng}</MapDetails>\r\n            <MapDetails>Address: {location.address}</MapDetails>\r\n          </MapDetailsBox>\r\n      \r\n    </MainBox>\r\n  );\r\n  \r\n\r\n}\r\n\r\n\r\nexport {GoogleMapContainer, LocationsMap} ;\r\n\r\n\r\n//=============================================================================================\r\n//         Local styling\r\n//=============================================================================================\r\n\r\nconst MainBox = styled(Box)({\r\n  // height: '70vh',\r\n  height: 'fit-content',\r\n  maxHeight: '70rem',\r\n  minHeight: '70vh',\r\n\r\n  \r\n  // minWidth: '30rem', //'35rem',\r\n  // maxWidth: '40vw', //'35rem',\r\n  minWidth: '32rem',\r\n  maxWidth: '35vw',\r\n  width: '30%',\r\n  // width: 'fit-content',\r\n\r\n  // height: 'fit-content',\r\n  // width: 'fit-content',\r\n  //  width: '50%',\r\n    \r\n\r\n  // borderRadius: '0.4rem',\r\n  // borderRadius: '0.8rem',\r\n  // overflowX: 'hidden',\r\n  // overflowY: 'scroll',\r\n  // boxShadow: '0 0.2rem 0.8rem DimGrey',\r\n  \r\n  display: 'flex',\r\n  flexDirection: 'column',    \r\n  justifyContent: \"center\",\r\n  alignItems: 'space-around',\r\n\r\n    marginLeft: 10,\r\n    paddingLeft: 10,\r\n    marginRight: 30,\r\n    paddingRight: 30,\r\n}); \r\n\r\n\r\nconst LoadingElementBox= styled('div')({\r\n   display: 'flex',     \r\n   flexDirection:'column',\r\n   justifyContent: 'center',\r\n   alignItems: 'center',\r\n  //  alignItems: 'space-around',\r\n}); \r\n\r\nconst ContainerElementBox= styled('div')({\r\n \r\n  // minHeight: '30vh',\r\n  // maxHeight: '60rem',\r\n  height: 'fit-content',//'40%',\r\n  // width: 'fit-content',\r\n  width: '40%',\r\n  \r\n  margin: 20,\r\n  padding: 20,\r\n  marginLeft: 0,\r\n  paddingLeft: 0,\r\n  paddingBottom: 0,\r\n  \r\n  display: 'flex',     \r\n  flexDirection:'column',\r\n  justifyContent: 'space-around',\r\n  alignItems: 'space-around',\r\n}); \r\n\r\nconst MapElementBox= styled('div')({\r\n  height: '35vh',\r\n\r\n  // width:`28vw`,\r\n  width:`20vw`,\r\n  maxWidth:`30rem`,\r\n  minWidth:`48%`,\r\n \r\n  margin:0,\r\n  padding:0,\r\n\r\n  display: 'flex', \r\n  \r\n}); \r\n\r\n//const MapBox = styled('div')({\r\nconst MapBox = styled(Box)({\r\n  margin: 0, //20\r\n\r\n  // height: 'fit-content',\r\n  // width: 'fit-content',\r\n\r\n  display: 'flex',\r\n  flexDirection:'column',\r\n  // justifyContent: 'space-around',\r\n  // alignItems: 'space-around',\r\n\r\n\r\n  });\r\n\r\nconst MapTitleBox = styled('div')({\r\n  marginLeft:'3rem',\r\n  paddingLeft: 10, //'1rem',\r\n\r\n  marginTop: 20,\r\n  paddingTop: 20,\r\n\r\n  display: 'flex',\r\n  flexDirection:'column',\r\n  //width:`20rem`,\r\n  justifyContent: 'center',\r\n});  \r\n\r\nconst MapTitle = styled('h2')({\r\n  //width:`20rem`,\r\n  //fontSize: '1.75rem',\r\n  fontWeight: 'inherit',\r\n  textAlign: 'center',  \r\n}); \r\n\r\nconst MapDetailsBox = styled('div')({\r\n // width:`20rem`,\r\n  // padding: 0,\r\n  padding: '1.5rem',\r\n  //margin:0,\r\n  marginTop: 4,\r\n  paddingTop: 0,\r\n  marginLeft:20, //'10px',\r\n  paddingLeft:20, // '20px',\r\n\r\n  display: 'flex',     \r\n  flexDirection:'column',\r\n  justifyContent: 'center',\r\n  //alignItems: 'center',\r\n  // fontFamily: 'Expletus Sans',\r\n \r\n  //color: 'slategray',\r\n  fontWeight: 400,  \r\n}); \r\n\r\nconst MapDetails = styled('h5')({\r\n  fontSize: '1.1rem',\r\n  // font-size: '2.25rem', \r\n  fontWeight: 'inherit',\r\n\r\n  color: `${main_palete_theme.palette.info.main}`,\r\n // color: 'darkslateblue',\r\n\r\n  textAlign: 'left',  \r\n}); \r\n\r\n\r\n\r\n","import React, {\n  useState,\n  useContext,\n  useEffect,\n  useMemo,\n} from \"react\";\n\nimport {\n  useHistory,\n  useLocation,\n  useParams,\n} from \"react-router-dom\";\n\n// import styled from \"styled-components/macro\";\nimport main_palete_theme from '../../style.lib/PalleteStyles';\nimport { makeStyles, styled, withStyles, createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport marker from '@ajar/marker';\n\n\nimport {\n  FormControl,\n  FormControlLabel,\n  InputLabel,\n  Input,\n  Button,\n  TextField,\n  MenuItem,\n  Select,\n  FormHelperText,\n  Box,\n  Tooltip,\n  NativeSelect,\n} from \"@material-ui/core\";\n\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\nimport * as api from \"../../services/StorageService\";\n// import { wrap } from \"module\";\n\nconst MIN_COORDINATES = -5000.000000;\nconst MAX_COORDINATES = 5000.000000;\n//=================================================================================\n//                       Add Location view\n//=================================================================================\n\nconst AddLocation = () => {\n  // const AddLocation = ({ match, history }) => {\n  // marker.blue(`AddLocation \n  // match    ${match}\n  // history  ${history}\n  // `);\n\n  // general apearence rules\n  const classes = useStyles();\n\n  // Global context states\n  const {\n    categories_list,\n    original_Locations_list,\n    set_original_Locations_list,\n    selected_map_location,\n    //update_selected_map_location,\n    selected_location,\n    set_error_message,\n    // update_selected_location,\n    selected_action,\n  } = useContext(StateDataManager);\n\n\n\n  // Local state\n\n  // Note: marker.obj prints in alphabetical order not actual order...\n  const [new_location, set_new_location] = useState(\n    {\n      id: selected_location.id, //original_Locations_list.length+1,\n      name: selected_location.name, //'',\n      address: selected_location.address, //'',\n      lat: selected_location.lat, //31.776847698411576, \n      lng: selected_location.lng, //35.20543098449707, \n      category: selected_location.category, //categories_list[0].name,\n    }\n  );\n\n  //   const [new_location, set_new_location] = useState({\n  //     id: original_Locations_list.length+1,\n  //     name: '',\n  //     address: '',\n  //     lat: 31.776847698411576, \n  //     lng: 35.20543098449707, \n  //     category: categories_list[0].name,\n  //   });   \n\n  const [errors, set_errors] = useState({\n    name: '',\n    address: '',\n    lat: '',\n    lng: '',\n    category: '',\n    validation: '',\n  });\n\n  //const [validation_success, set_validation_success] = useState(true);\n  const [submitting, set_submitting] = useState('IDLE');\n  const [submit_text, set_submit_text] = useState('');\n  const [tooltip_open, set_tooltip_open] = useState(false);\n\n  let validation_success = true;\n  // let submitting = 'IDLE';\n\n  let history = useHistory();\n\n\n\n  // According to:\n  // https://material-ui.com/customization/palette/#example\n  const MainTheme = useMemo(\n    () => createMuiTheme({\n      main_palete_theme\n    }),\n    [],\n  );\n\n  marker.blue(`AddLocation selected_location \n  id  ${selected_location.id}\n  name  ${selected_location.name}\n  address  ${selected_location.address}\n  lat  ${selected_location.lat}\n  lng:  ${selected_location.lng}\n  category  ${selected_location.category}\n  `);\n\n  marker.blue(`AddLocation new_location \n  id  ${new_location.id}\n  name  ${new_location.name}\n  address  ${new_location.address}\n  lat  ${new_location.lat}\n  lng:  ${new_location.lng}\n  category  ${new_location.category}\n  `);\n\n\n  /*\n    \n    Choose onChange(): If you need latest state immediately after input change, for example:\n    Search suggestion after each input (like Google search box)\n    Then Validating input after every change\n\n    Choose onBlur(): If you only need the latest state at the end of final input, for example:\n    Every change triggers a fetch event that checks if entered username or email exists\n\n    Your user filled all 3 registration inputs (name, password, email), but after the last   email input s/he directly click the send button (which is fired your signup method without updated email state). Since setState is asynchronous and not updated email state yet, you   might have problems about null email inputs.\n\n    So, my unofficial suggestion is that, use onChange whenever you possible, use onBlur whenever you need.\n  */\n\n\n  // On Mounting\n\n  useEffect(() => {\n\n    marker.blue(`AddLocation useEffect on mount before\\n`);\n\n    marker.blue(`AddLocation useEffect selected_map_location: \n      address  ${selected_map_location.address}\n      lat  ${selected_map_location.lat}\n      lng  ${selected_map_location.lng}    \n    `);\n\n    marker.blue(`AddLocation useEffect new_location\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}`);\n\n\n    set_new_location(({\n      ...new_location,\n      id: selected_location.id, //original_Locations_list.length+1,\n      name: selected_location.name, //'',\n      address: selected_location.address, //'',\n      lat: selected_location.lat, //31.776847698411576, \n      lng: selected_location.lng, //35.20543098449707, \n      category: selected_location.category,\n    }));\n\n\n  }, []);\n\n\n  // Update upon selected_map_location change\n\n  useEffect(() => {\n\n    marker.green(`AddLocation useEffect on selected_map_location before\\n`);\n\n    marker.green(`AddLocation useEffect selected_map_location: \n      address  ${selected_map_location.address}\n      lat  ${selected_map_location.lat}\n      lng  ${selected_map_location.lng}    \n    `);\n\n    marker.green(`AddLocation useEffect new_location\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}`);\n\n\n    set_new_location(({\n      ...new_location,\n      id: ((original_Locations_list.length) + 1),\n      address: selected_map_location.address,\n      lat: selected_map_location.lat,\n      lng: selected_map_location.lng,\n    }));\n\n\n  }, [selected_map_location]);\n\n\n  // Update upon selected_location change\n\n  useEffect(() => {\n\n    marker.green(`AddLocation useEffect on selected_map_location before\\n`);\n\n    marker.green(`AddLocation useEffect selected_map_location: \n    id  ${selected_location.id}\n    name  ${selected_location.name}\n    address  ${selected_location.address}\n    lat  ${selected_location.lat}\n    lng:  ${selected_location.lng}\n    category  ${selected_location.category}\n    `);\n\n    marker.green(`AddLocation useEffect new_location\n    id  ${new_location.id}\n    name  ${new_location.name}\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}\n    category  ${new_location.category}\n\n    `);\n\n\n    set_new_location(({\n      ...new_location,\n      id: ((original_Locations_list.length) + 1),\n      name: selected_location.name,\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n      category: selected_location.category,\n    }));\n\n\n  }, [selected_location]);\n\n\n  marker.green(`AddLocation selected_map_location CURRENT\\n`);\n\n  marker.green(`AddLocation selected_map_location: \n    address  ${selected_map_location.address}\n    lat  ${selected_map_location.lat}\n    lng  ${selected_map_location.lng}    \n  `);\n\n  marker.green(`AddLocation new_location CURRENT\n  address  ${new_location.address}\n  lat  ${new_location.lat}\n  lng:  ${new_location.lng}`);\n\n\n\n  // Validating input after every change\n  const handleChange = event => {\n\n    try {\n      const { name, value } = event.target; // destructure properties\n      marker.green(`handleChange event.target ${name} = ${value}`);\n\n      // do not disable it or u wont see any thing on screen and on related field\n      set_new_location(({ ...new_location, [name]: value, }));\n\n    } catch (err) {\n      marker.red(`handleChange caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `handleChange Updated new_location`);\n\n  };\n\n\n\n  //      Handle exit from field\n  //------------------------------------\n  const handleBlur = event => {\n\n    marker.i(`AddLocation handleBlur`);\n\n\n    try {\n      let error_msg = '';\n\n      const { name, value } = event.target; // destructure properties\n      marker.magenta(`handleBlur 1 event.target ${name} = ${value}`);\n\n      let validValue = ((value !== ``) && (value !== 'undefined') && (value !== null));\n      marker.magenta(`handleBlur 2 event.target ${name} ${value}`);\n\n      if ((name === 'lat') || (name === 'lng')) {\n        marker.red(`handleBlur 3 field ${name} ${value} `);\n\n        if ((value <= MIN_COORDINATES) || (value >= MAX_COORDINATES)) {\n          validValue = false;\n          set_new_location(({ ...new_location, [name]: '', }));\n\n          marker.red(`handleBlur 4 ${name}  validValue ${validValue} `);\n        }\n      }\n\n      let found = false;\n      marker.red(`handleBlur 5 found ${found} `);\n      marker.blue(`handleCBlur 6  ${name} = ${value}`);\n\n      // handlse name validation\n      if (validValue && (name === 'name')) {\n        marker.magenta(`handleCBlur 7  ${name} = ${value}`);\n\n        // find if name exists in locations list\n        marker.obj(original_Locations_list, `handleBlur original_Locations_list `);\n\n        var exists = (element) => {\n          marker.obj(element, `element `);\n          marker.green(`value: ${value}`);\n          // checks whether an element is even\n          return element.name === value;\n        };\n\n        found = original_Locations_list.some(exists);\n        marker.green(`handleBlur SOME nameFound: ${found}`);\n\n\n        // found = findIfNameExists(value);\n        // marker.red(`handleBlur found after search ${found} `);   \n\n        if (found) {\n          marker.red(`Location name ${value} already exists. `);\n\n          error_msg = `Location name ${value} already exists. `;\n          //set_errors({...errors, [ name ]: `Location name ${value} already exists`}); \n          set_new_location(({ ...new_location, [name]: '', }));\n        }\n        else {\n          marker.red(`Location name ${value} does not exist. `);\n          error_msg = '';\n          //set_errors({name: ``});                \n        }\n      }\n\n      if (!validValue) {\n        error_msg = 'Empty field or Invalid value. ';\n        marker.red(`error_msg ${error_msg} `);\n      }\n\n      marker.red(`exists ${found} `);\n      marker.red(`handleBlur 2  validValue ${validValue} `);\n\n      if (!found && validValue) {\n        marker.green(`!found && validValue ${found} ${validValue}`);\n        // do not disable it\n        set_new_location(({ ...new_location, [name]: value, }));\n        error_msg = '';\n      }\n      marker.red(`set_errors error_msg ${error_msg} `);\n      set_errors({ ...errors, [name]: error_msg });\n\n    } catch (err) {\n      marker.red(`handleCBlure caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `handleBlur Updated new_location`);\n    marker.obj(errors, `handleBlur Updated errors`);\n\n  };\n\n  //-------------------------------- \n  //  Form validateion\n  //--------------------------------   \n\n  const validateField = field => {\n    let validName = ((new_location[field] !== ``) && (new_location[field] !== 'undefined') && (new_location[field] !== null));\n\n    if ((field === 'lat') || (field === 'lng')) {\n      validName = validName && (!Number.isNaN(new_location[field]))\n        && (new_location[field] >= MIN_COORDINATES)\n        && (new_location[field] <= MAX_COORDINATES);\n    }\n\n\n    if (!validName) {\n      set_errors({ ...errors, [field]: `Location ${field} is empty.` });\n    }\n\n    return validName;\n  }\n\n  const validateForm = () => {\n    try {\n      const nameFound = validateNameExists();\n      const validName = validateField('name') && !nameFound;\n      marker.red(`validateForm nameFound ${nameFound} validName ${validName}`);\n\n      const validAddress = validateField('address');\n      const validLat = validateField('lat');\n      const validLng = validateField('lng');\n      const validCategory = validateField('category');\n\n      marker.obj(errors, `validateForm errors 1`);\n\n      if (validName && validAddress && validLat && validLng && validCategory\n        && !errors.name && !errors.address && !errors.coordinate_lat\n        && !errors.coordinate_lng && !errors.category) {\n\n        validation_success = true;// set_validation_success(true);\n        set_errors({ ...errors, validation: `` });\n\n        marker.green(`validateForm validation_success ${validation_success}`);\n        marker.obj(new_location, `validateForm new_location`);\n        marker.obj(errors, `validateForm errors 2`);\n      }\n      else {\n        validation_success = false;\n        marker.red(`validateForm validation_success ${validation_success}`);\n        //set_errors({...errors, validation:`Validation Error`}); \n      }\n\n    } catch (err) {\n      validation_success = false; //set_validation_success(false);\n      set_errors({ ...errors, validation: `Validation Error.` });\n      marker.red(`validateForm caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `validateForm Updated new_location`);\n\n  }\n\n  //====================================================================\n  // Submitting Sub actions\n  //====================================================================\n\n  const storeData = async (list_name, list) => {\n    try {\n      await api.storeListLS(list_name, list);\n\n    } catch (err) {\n      set_error_message(err.message);\n    }\n  }\n\n\n  //const addLoaction = ({ match, history }) => {\n  const addLoaction = () => {\n    const new_list = [...original_Locations_list, new_location];\n    set_original_Locations_list(new_list);\n    storeData('original_Locations_list', new_list);\n\n    marker.obj(new_location, `handleSubmit Update new_location 2`);\n    marker.obj(original_Locations_list, `handleSubmit original_Locations_list 2`);\n\n    // alert(`Lcation ${new_location.name} was added succesfully`);\n    set_submitting('END');\n    marker.red('AddLocation handleSubmit completed ' + submitting);\n\n\n    // original_Locations_list is in the prev state yet, so increment by 2\n    set_new_location((\n      {\n        ...new_location,\n        id: (original_Locations_list.length + 2),\n        name: selected_location.name, //'', \n        address: selected_location.address, // '', \n        lat: selected_location.lat, //31.776847698411576, \n        lng: selected_location.lng, //35.20543098449707, \n      }));\n\n  }\n\n\n  const validateNameExists = () => {\n\n    marker.i(`AddLocation validateName`);\n    let found = false;\n    let validValue = false;\n    let error_msg = '';\n\n    try {\n\n      const value = new_location.name; // destructure properties\n\n      validValue = ((value !== ``) && (value !== 'undefined') && (value !== null));\n\n\n      marker.red(`validateName 1 found ${found} validValue ${validValue} `);\n\n      // handlse name validation\n      if (validValue) {\n        marker.magenta(`validateName 2  ${value} is valid, `);\n\n        // find if name exists in locations list\n        marker.obj(original_Locations_list, `handleBlur original_Locations_list `);\n\n        var exists = (element) => {\n          marker.obj(element, `element `);\n          marker.green(`value: ${value}`);\n          // checks whether an element is even\n          return element.name === value;\n        };\n\n        found = original_Locations_list.some(exists);\n        marker.green(`validateName SOME nameFound: ${found}`);\n\n        // found = findIfNameExists(value);\n        // marker.red(`handleBlur found after search ${found} `);   \n\n        if (found) {\n          marker.red(`validateName Location name ${value} already exists. `);\n\n          error_msg = `Location name ${value} already exists. `;\n          //set_errors({...errors, [ name ]: `Location name ${value} already exists`}); \n          set_new_location(({ ...new_location, name: '', }));\n        }\n        else {\n          marker.red(`Location name ${value} does not exist. `);\n          error_msg = '';\n          //set_errors({name: ``});                \n        }\n      }\n\n      if (!validValue) {\n        error_msg = 'Empty field or Invalid value. ';\n        marker.red(`error_msg ${error_msg} `);\n      }\n\n      marker.red(`exists ${found} `);\n      marker.red(`validateName 3  validValue ${validValue} `);\n\n      if (!found && validValue) {\n        marker.green(`validateName 4 !found && validValue ${found} ${validValue}`);\n        error_msg = '';\n      }\n      // marker.red(`set_errors error_msg ${error_msg} `);  \n      set_errors({ ...errors, name: error_msg });\n\n    } catch (err) {\n      marker.red(`validateName 6 caugt exception: ${err.message}`);\n    }\n\n    marker.green(`validateName 5 found && validValue ${found} ${validValue}`);\n    return (found);\n\n  };\n\n\n  // const findIfNameExists = (value) => {\n  //     marker.green(`findIfNameExists value= ${value}`);   \n\n  //     const names_list = original_Locations_list.map( item => item.name );\n  //     marker.green( `handleBlur list: ${names_list}` );\n  //     const found1 =  names_list.includes(value); //('Demo Location');\n\n  //     marker.green(`find result ${found1}`);\n  //     return found1;\n  //   };\n\n\n  //==========================================================================\n\n  marker.red(`AddLocation submitting ${submitting}  ${submit_text}`);\n\n  //------------------------------------------------\n  //          SUBMIT\n  //------------------------------------------------\n\n  const handleSubmit = event => {\n    event.preventDefault();// prevent form post\n    // submitting = 'START'; \n    set_submitting('START');\n\n    marker.red('AddLocation handleSubmit start ' + submitting);\n    marker.green('AddLocation handleSubmit original_Locations_list.length ' + original_Locations_list.length);\n\n    validateForm();\n\n    if (true === validation_success) {\n      marker.obj(new_location, `handleSubmit Update new_location 1`);\n      marker.obj(original_Locations_list, `handleSubmit original_Locations_list 1`);\n\n\n      marker.red('AddLocation handleSubmit ADD validName ');\n      set_new_location((\n        {\n          ...new_location,\n          id: (original_Locations_list.length + 2),\n        }));\n\n      addLoaction();\n\n\n      //   set_original_Locations_list( [...original_Locations_list, new_location]);\n\n      //   marker.obj( new_location , `handleSubmit Update new_location 2` );\n      //   marker.obj( original_Locations_list , `handleSubmit original_Locations_list 2` );\n\n      //  // alert(`Lcation ${new_location.name} was added succesfully`);\n      //  set_submitting('END');\n      //  marker.red('AddLocation handleSubmit completed '+ submitting );\n\n\n      //   // original_Locations_list is in the prev state yet, so increment by 2\n      //   set_new_location( ( \n      //     {...new_location, \n      //        id: (original_Locations_list.length +2),\n      //       name: '', \n      //       address: '', \n      //       lat: 31.776847698411576, \n      //       lng: 35.20543098449707, \n      //     } )  );  \n\n    }\n\n    setTimeout(() => {\n      set_submitting('IDLE'); //set_submitting(false);\n      marker.red('AddLocation handleSubmit end ' + submitting);\n    }, 1000);\n\n\n    event.stopPropagation();\n    //history.goBack(); //back to list view\n    history.push(\"/locations\");\n\n\n  }\n\n\n  marker.obj(new_location, `AddLocation current new_location`);\n  marker.obj(original_Locations_list, `AddLocation original_Locations_list `);\n\n\n  //----------------------------------------------------------\n  // TODO: refine this one, doesnt show the Submitting new location..\n  //----------------------------------------------------------\n  useEffect(() => {\n\n    if ('IDLE' === submitting) {\n      setTimeout(() => {\n        set_submit_text('');\n        marker.green(`AddLocation useEffect ${submit_text}`);\n      }, 300);\n    }\n    if ('START' === submitting) {\n      set_submit_text('Submitting location...');\n      setTimeout(() => {\n        set_submit_text('Submitting location...');\n        marker.green(`AddLocation useEffect end ${submit_text}`);\n      }, 20);\n      marker.green(`AddLocation useEffect ${submit_text}`);\n    }\n    if ('END' === submitting) {\n      set_submit_text('Submitted location successfully...');\n      setTimeout(() => {\n        set_submit_text('Submitted location successfully...');\n        marker.green(`AddLocation useEffect end ${submit_text}`);\n      }, 20);\n    }\n    marker.green(`AddLocation useEffect submit_text  ${submit_text}`);\n\n  }, [submitting]);\n\n\n\n\n  return (\n\n\n\n    <MainBox>\n      <FormBox>\n        {/* <form style={{ width: \"50%\" }} onSubmit={handleSubmit} > */}\n        <LocationForm onSubmit={handleSubmit} >\n          {/* <MainBoxLabel>Add Location</MainBoxLabel> */}\n          <h1>Add Location</h1>\n\n          <FormControl required margin=\"normal\" fullWidth>\n            <InputLabel htmlFor=\"name\">Name</InputLabel>\n            <Input\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n              value={new_location.name}\n              placeholder=\"e.g: My New cool location 3\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </FormControl>\n          {errors.name && <ErrorText>{errors.name}</ErrorText>}\n\n          <FormControl required margin=\"normal\" fullWidth>\n            <InputLabel htmlFor=\"address\">Address</InputLabel>\n            <Input\n              id=\"address\"\n              name=\"address\"\n              type=\"text\"\n              // disabled=\"true\"\n              value={new_location.address}\n              // value={selected_map_location.address}                 \n              placeholder=\"e.g: myStreet 3, New York\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </FormControl>\n          {errors.address && <ErrorText>{errors.address}</ErrorText>}\n\n\n          {/* <FormControl margin=\"normal\" fullWidth>\n              <InputLabel htmlFor=\"address\">Type address here</InputLabel>\n              <Input id=\"address\" multiline rows={5} />\n            </FormControl> */}\n\n          {/* <FormControl margin=\"normal\" fullWidth> */}\n          {/* <CoordinatesInputLabel htmlFor=\"coordinates\">Coordinates</CoordinatesInputLabel> */}\n\n          <CoordinatesBox>\n            <CoordinatesBoxLabel> Coordinates </CoordinatesBoxLabel>\n            <CoordinatesInnerBox>\n              {/* <fieldset width=\"100%\"> */}\n\n              <FormControl required margin=\"normal\" width=\"50%\">\n                <InputLabel htmlFor=\"lat\">Latitude </InputLabel>\n                <CoordinatesInput\n                  id=\"lat\"\n                  name=\"lat\"\n                  type=\"number\"\n                  min=\"MIN_COORDINATES\"\n                  max=\"MAX_COORDINATES\"\n                  value={new_location.lat}\n                  // value={selected_map_location.lat}\n                  placeholder=\"-345.1\"\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                />\n              </FormControl>\n              {errors.lat && <ErrorText>{errors.lat}</ErrorText>}\n\n              <FormControl required margin=\"normal\" width=\"50%\">\n                <InputLabel htmlFor=\"lng\" >Longitude</InputLabel>\n\n                <CoordinatesInput\n                  id=\"lng\"\n                  name=\"lng\"\n                  type=\"number\"\n                  min=\"MIN_COORDINATES\"\n                  max=\"MAX_COORDINATES\"\n                  value={new_location.lng}\n                  // value={selected_map_location.lng} \n                  placeholder=\"156.76\"\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                />\n              </FormControl>\n              {errors.lng && <ErrorText>{errors.lng}</ErrorText>}\n\n              {/* </fieldset>       */}\n            </CoordinatesInnerBox>\n          </CoordinatesBox>\n\n          <Tooltip title={toolTipText} open={tooltip_open}   >\n            <FormControl margin=\"normal\" fullWidth required>\n\n              <InputLabel htmlFor=\"category\" id=\"select-category-label\">\n                Category\n              </InputLabel>\n\n              <Select\n                labelId=\"select-category-label\"\n                id='category-simple'\n                name='category'\n                value={new_location.category}\n                defaultValue={selected_location.category}\n                placeholder=\"Pick a Category from the list\"\n                autoWidth\n\n                onChange={handleChange}\n                onMouseEnter={() => set_tooltip_open(true)}\n                onMouseLeave={() => set_tooltip_open(false)}\n                onClick={() => set_tooltip_open(false)}\n                onOpen={() => set_tooltip_open(false)}\n\n              // inputProps={{\n              //     name: 'category',\n              //     id: 'category-simple',\n              // }}\n              >\n                {categories_list.map(item => (\n                  <MenuItem key={item.name} value={item.name}>\n                    {item.name}\n                  </MenuItem>\n                ))}\n\n                {/* <MenuItem value={20}>Twenty</MenuItem>\n                <MenuItem value={30}>Thirty</MenuItem> */}\n\n              </Select>\n              <FormHelperText>required</FormHelperText>\n            </FormControl>\n          </Tooltip>\n\n\n          {errors.category && <ErrorText>{errors.category}</ErrorText>}\n\n          <SubmitText> {submit_text} </SubmitText>\n\n          <SubmitBox>\n            <Button\n              disabled={\n                (\n                  errors.name === '' && errors.address === '' && errors.lat === ''\n                  && errors.lng === '' && errors.category === ''\n                  && errors.validation === ''\n                  && submitting === 'IDLE'\n                  && validation_success === true\n                ) ? false : true\n              }\n              variant=\"contained\" color=\"primary\" size=\"medium\" margin=\"40px\" type=\"submit\"   >\n              Submit\n                </Button>\n          </SubmitBox>\n          {/* <button type=\"submit\" >Add</button> */}\n          {/* <button type=\"button\"  onClick={reset}>  Clear Values   </button> */}\n          {/* props: {\n                color?: PropTypes.Color;\n                disableFocusRipple?: boolean;\n                fullWidth?: boolean;\n                href?: string;\n                size?: \"small\" | \"medium\" | \"large\";\n                variant?: \"text\" | \"outlined\" | \"contained\";\n            */}\n        </LocationForm>\n      </FormBox>\n    </MainBox>\n\n\n\n\n  );\n\n}\n\n\n\nexport default AddLocation;\n\n//===============================================================\n// local styling\n//===============================================================\n\nconst toolTipText = `Select an existing category from the list`;\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: \"sm\",\n  },\n  tooltip: {\n    fontSize: 15, //10,\n    lineHeight: 25, //16,\n    //height: 23, //17,\n    // marginTop: 2,\n    color: 'blue',\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  dense: {\n    marginTop: theme.spacing(2),\n  },\n  menu: {\n    width: 200,\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: 'auto',\n    width: 'fit-content',\n  },\n  formControl: {\n    marginTop: theme.spacing(2),\n    minWidth: 120,\n\n  },\n  formControlLabel: {\n    marginTop: theme.spacing(1),\n  },\n}));\n\n// const ModalBox = styled('div')({\n//   position: \"absolute\",\n//   background: \"#fff\",\n//   top: 25,\n//   left: \"10%\",\n//   right: \"10%\",\n//   padding: 15,\n// }); \n\n\nconst MainBox = styled('div')({\n  height: 'fit-content',\n  //  height: '60vh',\n  // height: '70vh',\n  // maxHeight: '70rem',\n  // minHeight: '70vh', \n  // maxHeight: '60rem',\n  // minHeight: '60vh',\n\n  width: 'fit-content',\n  //   width: '35%',\n  minWidth: '32rem', //'35rem',\n  maxWidth: '40vw', //'35rem',\n  // minWidth: '30rem', //'35rem',\n  // maxWidth: '30rem', //'35rem',\n\n  margin: 'auto',\n  // margin: 0,\n  marginLeft: 30,\n  padding: 10,\n  paddingLeft: 10,\n\n  // borderRadius: '0.4rem',\n  // borderRadius: '0.8rem',\n  // overflowX: 'hidden',\n  // overflowY: 'scroll',\n  // boxShadow: '0 0.2rem 0.8rem DimGrey',\n\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',   //'flex-start', \n  justifyContent: 'center',   //'flex-start', \n});\n\nconst MainBoxLabel = styled('h1')({\n  height: 'fit-content',\n  display: 'flex',\n  margin: 'auto',\n  // margin: 0,\n  padding: 0,\n});\n\n\nconst FormBox = styled(Box)({\n  display: \"flex\",\n  justifyContent: \"center\",\n\n  // margin: 20,\n  // padding: 20,\n  margin: 'auto',\n  marginLeft: 20,\n  paddingLeft: 10,\n\n  height: 'fit-content',\n});\n\n\nconst LocationForm = styled('form')({\n  display: 'flex',\n  flexDirection: 'column',\n\n  margin: 'auto',\n  paddingBottom: 5, //20\n  // marginTop: '1rem', //10,\n  // paddingTop: '1rem', //10,\n  width: 'fit-content',\n  // width: \"50%\",\n\n});\n\nconst CoordinatesBoxLabel = styled(InputLabel)({\n  //fontSize: 3,\n  fontWeight: 'inherit',\n  textAlign: 'center',\n  color: 'inherit',\n});\n\nconst CoordinatesBox = styled(Box)({\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"flex-start\",\n\n  marginTop: 13,//21,    \n  paddingTop: 10,\n  paddingBottom: 3,\n  width: \"100%\",\n\n  //borderStyle: 'solid',\n  //borderColor:'#d1e0e0',\n\n  //font-family: \"Expletus Sans\";\n  textAlign: \"left\",\n  // color: \"slategray\",\n\n  // fontWeight: 400,\n});\n\nconst CoordinatesInnerBox = styled(Box)({\n\n  display: 'flex',\n  //flexFlow:['noWrap','noWrap','wrap'], \n  flexFlow: 'wrap',\n  // flexDirection: [\"row\", 'row', 'column'],\n  flexDirection: 'column',\n  justifyContent: 'space-even',\n\n  //marginTop: 12,\n  marginLeft: 20,\n\n  paddingleft: 20,\n  paddingTop: 5,\n  paddingBottom: 5,\n\n  // width: \"100%\",\n  width: [1, 1, 1 / 2],\n  maxWidth: \"sm\",\n  //font-family: \"Expletus Sans\";\n  textAlign: \"left\",\n  //color: \"slategray\",\n  // fontWeight: 400,\n\n\n});\n\nconst CoordinatesInput = styled(Input)({\n  //marginTop: 20,\n  marginRight: 10,\n  paddingTop: 25,\n  // paddingTop: 5,\n  paddingleft: 25,\n  // paddingRight: 25,\n  //flexGrow:0,\n  // flexBasis:['40%', '40%', '100%'],\n  //width:[1/2, 1/2, 1],\n  maxWidth: \"xl\",\n});\n\nconst CoordinatesInputLabel = styled(InputLabel)({\n  marginRight: 10,\n  paddingRight: 15,\n});\n\n\nconst SubmitBox = styled('p')({\n  display: 'flex',\n  justifyContent: \"center\",\n  marginTop: 15, //30\n  //marginLeft: 50,\n  paddingTop: 15,\n});\n\nconst ErrorText = styled('h5')({\n  display: 'flex',\n  flexWrap: 'wrap',\n\n  justifyContent: 'left',\n  margin: 'auto',\n  padding: 'auto',\n  marginTop: 3,\n  //marginLeft: 50,\n  paddingTop: 5,\n\n  color: `${main_palete_theme.palette.error.main}`,\n  //color: 'red',\n\n  textAlign: 'left',\n  wordWrap: 'break-word',\n});\n\n\nconst SubmitText = styled('h5')({\n  display: 'flex',\n  justifyContent: \"left\",\n  marginTop: 3,\n  //marginLeft: 50,\n  paddingTop: 5,\n\n  // color: 'green',\n  color: `${main_palete_theme.palette.success.main}`,\n\n  textAlign: 'left',\n});\n\n  // const ToolbarTooltip = withStyles({\n  //   // MuiTooltip: {\n  //   tooltip: {\n  //     color: `${main_palete_theme.palette.header.text_color}`, \n  //     //backgroundColor: \"transparent\",\n  //     backgroundColor: `${main_palete_theme.palette.header.main}`,\n  //     fontSize: `0.8rem`,\n  //   // }\n  //  }\n  // })(Tooltip);\n\n//const AddLocation = () => <h1>Create a new Location</h1>;\n\n//const CreateBot = () => <h1 className=\"create\">Create a new Bot!</h1>;\n//export default CreateBot;\n\n\n\n","import React, { useState, useContext, useEffect } from \"react\";\nimport {\n  useHistory,\n  useLocation,\n  useParams\n} from \"react-router-dom\";\n\nimport main_palete_theme from '../../style.lib/PalleteStyles';\n// import styled from \"styled-components/macro\";\nimport { styled, makeStyles } from '@material-ui/core/styles';\nimport marker from '@ajar/marker';\n\n\nimport {\n  FormControl,\n  FormControlLabel,\n  InputLabel,\n  Input,\n  Button,\n  TextField,\n  MenuItem,\n  Select,\n  FormHelperText,\n  Box,\n  Tooltip,\n} from \"@material-ui/core\";\n\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\nimport * as api from \"../../services/StorageService\";\n// import { wrap } from \"module\";\n\nconst MIN_COORDINATES = -5000.000000;\nconst MAX_COORDINATES = 5000.000000;\n//=================================================================================\n//                       Add Location view\n//=================================================================================\n\nconst EditLocation = () => {\n\n  // general apearence rules\n  const classes = useStyles();\n\n  // Global context states\n  const {\n    categories_list,\n    original_Locations_list,\n    set_original_Locations_list,\n    selected_map_location,\n    selected_location,\n    locations_edited_flag,\n    set_locations_edited_flag,\n    update_selected_location,\n    update_selected_map_location,\n    set_error_message,\n  } = useContext(StateDataManager);\n\n\n  // Local state\n  marker.obj(selected_location, 'EditLocation selected_location: ');\n\n\n  // Note: marker.obj prints in alphabetical order not actual order...\n  const [new_location, set_new_location] = useState({\n    id: selected_location.id,\n    name: selected_location.name,\n    address: selected_location.address,\n    lat: selected_location.lat,\n    lng: selected_location.lng,\n    category: selected_location.category,\n  });\n\n  marker.obj(new_location, 'EditLocation new_location: ');\n\n  const [errors, set_errors] = useState({\n    name: '',\n    address: '',\n    lat: '',\n    lng: '',\n    category: '',\n    validation: '',\n  });\n\n  //const [validation_success, set_validation_success] = useState(true);\n  const [submitting, set_submitting] = useState('IDLE');\n  const [submit_text, set_submit_text] = useState('');\n  const [tooltip_open, set_tooltip_open] = useState(false);\n\n  let validation_success = true;\n  // let submitting = 'IDLE';\n\n  let history = useHistory();\n\n  /*\n    \n    Choose onChange(): If you need latest state immediately after input change, for example:\n    Search suggestion after each input (like Google search box)\n    Then Validating input after every change\n\n    Choose onBlur(): If you only need the latest state at the end of final input, for example:\n    Every change triggers a fetch event that checks if entered username or email exists\n\n    Your user filled all 3 registration inputs (name, password, email), but after the last   email input s/he directly click the send button (which is fired your signup method without updated email state). Since setState is asynchronous and not updated email state yet, you   might have problems about null email inputs.\n\n    So, my unofficial suggestion is that, use onChange whenever you possible, use onBlur whenever you need.\n  */\n\n\n  useEffect(() => {\n\n    set_new_location({\n      id: selected_location.id,\n      name: selected_location.name,\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n      category: selected_location.category,\n    });\n\n    // update_selected_map_location({\n    //   address: selected_location.address ,\n    //   lat: selected_location.lat , \n    //   lng: selected_location.lng , \n    // });\n\n    marker.blue(`EditLocation ON Mount selected_map_location: \n      address ${selected_map_location.address}\n      lat  ${selected_map_location.lat}\n      lng  ${selected_map_location.lng}      \n      `);\n\n    marker.blue(`EditLocation ON Mount new_location.lng:  \n      id ${new_location.id}\n      name ${new_location.name}\n      address ${new_location.address}\n      lat  ${new_location.lat}\n      lng  ${new_location.lng}\n      category: ${new_location.category}\n  ` );\n\n  }, []);\n\n\n  marker.red(`EditLocation selected_map_location: ${selected_map_location.address} ${selected_map_location.lat}  ${selected_map_location.lng}`);\n\n\n  useEffect(() => {\n\n    set_new_location(({\n      ...new_location,\n      address: selected_map_location.address,\n      lat: selected_map_location.lat,\n      lng: selected_map_location.lng,\n    }));\n\n    marker.green(`EditLocation useEffect on selected_map_location CHANGE\\n`);\n\n    marker.green(`EditLocation useEffect selected_map_location: \n      address  ${selected_map_location.address}\n      lat  ${selected_map_location.lat}\n      lng  ${selected_map_location.lng}    \n    `);\n\n    marker.green(`EditLocation useEffect new_location\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}`);\n\n  }, [selected_map_location]);\n\n  // Update upon selected_location change\n\n  useEffect(() => {\n\n    marker.green(`EditLocation useEffect on selected_map_location before\\n`);\n\n    marker.green(`EditLocation useEffect selected_map_location: \n    id  ${selected_location.id}\n    name  ${selected_location.name}\n    address  ${selected_location.address}\n    lat  ${selected_location.lat}\n    lng:  ${selected_location.lng}\n    category  ${selected_location.category}\n    `);\n\n    marker.green(`EditLocation useEffect new_location\n    id  ${new_location.id}\n    name  ${new_location.name}\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}\n    category  ${new_location.category}\n\n    `);\n\n\n    set_new_location(({\n      ...new_location,\n      id: selected_location.id,\n      name: selected_location.name,\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n      category: selected_location.category,\n    }));\n\n\n  }, [selected_location]);\n\n\n  // Validating input after every change\n  const handleChange = event => {\n    try {\n      const { name, value } = event.target; // destructure properties\n      marker.green(`handleChange event.target ${name} = ${value}`);\n\n      // do not disable it or u wont see any thing on screen and on related field\n      set_new_location(({ ...new_location, [name]: value, }));\n\n    } catch (err) {\n      marker.red(`handleChange caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `handleChange Updated new_location`);\n\n  };\n\n\n  const findIfNameExists = (value) => {\n    marker.blue(`findIfNameExists value= ${value}`);\n\n    const names_list = original_Locations_list.map(item => item.name);\n    marker.green(`handleBlur list: ${names_list}`);\n    const found1 = names_list.includes(value); //('Demo Location');\n\n    marker.blue(`find result ${found1}`);\n    return found1;\n  };\n\n  //      Handle exit from field\n  //------------------------------------\n  const handleBlur = event => {\n\n    marker.i(`EditLocation handleBlur`);\n\n    try {\n      let error_msg = '';\n\n      const { name, value } = event.target; // destructure properties\n      marker.magenta(`handleBlur 1 event.target ${name} = ${value}`);\n\n      let validValue = ((value !== ``) && (value !== 'undefined') && (value !== null));\n      marker.magenta(`handleBlur 2 event.target ${name} ${value}`);\n\n      if ((name === 'lat') || (name === 'lng')) {\n        marker.red(`handleBlur 3 field ${name} ${value} `);\n\n        if ((value <= MIN_COORDINATES) || (value >= MAX_COORDINATES)) {\n          validValue = false;\n          set_new_location(({ ...new_location, [name]: '', }));\n\n          marker.red(`handleBlur 4 ${name}  validValue ${validValue} `);\n        }\n      }\n\n      let found = false;\n      marker.red(`handleBlur 5 found ${found} `);\n      marker.blue(`handleCBlur 6  ${name} = ${value}`);\n\n      // handlse name validation\n      if (validValue && (name === 'name')) {\n        marker.magenta(`handleCBlur 7  ${name} = ${value}`);\n\n        // find if name exists in locations list\n        marker.obj(original_Locations_list, `handleBlur original_Locations_list `);\n\n        var exists = (element) => {\n          marker.obj(element, `element `);\n          marker.green(`value: ${value}`);\n          // checks whether an element is even\n          return element.name === value;\n        };\n\n        found = original_Locations_list.some(exists);\n        marker.green(`handleBlur SOME nameFound: ${found}`);\n\n\n        // found = findIfNameExists(value);\n        // marker.red(`handleBlur found after search ${found} `);   \n\n        if (found) {\n          marker.red(`Location name ${value} already exists. `);\n\n          error_msg = `Location name ${value} already exists. `;\n          //set_errors({...errors, [ name ]: `Location name ${value} already exists`}); \n          set_new_location(({ ...new_location, [name]: '', }));\n        }\n        else {\n          marker.red(`Location name ${value} does not exist. `);\n          error_msg = '';\n          //set_errors({name: ``});                \n        }\n      }\n\n      if (!validValue) {\n        error_msg = 'Empty field or Invalid value. ';\n        marker.red(`error_msg ${error_msg} `);\n      }\n\n      marker.red(`exists ${found} `);\n      marker.red(`handleBlur 2  validValue ${validValue} `);\n\n      if (!found && validValue) {\n        marker.green(`!found && validValue ${found} ${validValue}`);\n        // do not disable it\n        set_new_location(({ ...new_location, [name]: value, }));\n        error_msg = '';\n      }\n      marker.red(`set_errors error_msg ${error_msg} `);\n      set_errors({ ...errors, [name]: error_msg });\n\n    } catch (err) {\n      marker.red(`handleCBlure caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `handleBlur Updated new_location`);\n    marker.obj(errors, `handleBlur Updated errors`);\n\n  };\n\n  //-------------------------------- \n  //  Form validateion\n  //--------------------------------   \n\n  const validateField = field => {\n    let validName = ((new_location[field] !== ``) && (new_location[field] !== 'undefined') && (new_location[field] !== null));\n\n    if ((field === 'lat') || (field === 'lng')) {\n      validName = validName && (!Number.isNaN(new_location[field]))\n        && (new_location[field] >= MIN_COORDINATES)\n        && (new_location[field] <= MAX_COORDINATES);\n    }\n\n\n    if (!validName) {\n      set_errors({ ...errors, [field]: `Location ${field} is empty.` });\n    }\n\n    return validName;\n  }\n\n  const validateForm = () => {\n    try {\n\n      const validName = validateField('name');\n      const validAddress = validateField('address');\n      const validLat = validateField('lat');\n      const validLng = validateField('lng');\n      const validCategory = validateField('category');\n\n      marker.obj(errors, `validateForm errors 1`);\n\n      if (validName && validAddress && validLat && validLng && validCategory\n        && !errors.name && !errors.address && !errors.coordinate_lat\n        && !errors.coordinate_lng && !errors.category) {\n\n        validation_success = true;// set_validation_success(true);\n        set_errors({ ...errors, validation: `` });\n\n        marker.green(`validateForm validation_success ${validation_success}`);\n        marker.obj(new_location, `validateForm new_location`);\n        marker.obj(errors, `validateForm errors 2`);\n      }\n\n    } catch (err) {\n      validation_success = false; //set_validation_success(false);\n      set_errors({ ...errors, validation: `Validation Error.` });\n      marker.red(`validateForm caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `validateForm Updated new_location`);\n\n  }\n\n\n  marker.red(`EditLocation submitting ${submitting}  ${submit_text}`);\n\n  //------------------------------------------------\n  //          SUBMIT\n  //------------------------------------------------\n  const storeData = async (list_name, list) => {\n    try {\n      await api.storeListLS(list_name, list);\n\n    } catch (err) {\n      set_error_message(err.message);\n    }\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();// prevent form post\n    // submitting = 'START'; \n    set_submitting('START');\n\n    marker.red('EditLocation handleSubmit start ' + submitting);\n    marker.green('EditLocation handleSubmit original_Locations_list.length ' + original_Locations_list.length);\n\n    validateForm();\n\n    if (true === validation_success) {\n      marker.obj(new_location, `handleSubmit Update new_location 1`);\n      marker.obj(original_Locations_list, `handleSubmit original_Locations_list 1`);\n\n      let new_list = original_Locations_list;\n\n      // Actually, the id is always index+1\n      //new_list[new_location.id-1] = new_location;\n\n      new_list[new_list.findIndex(el => el.id === new_location.id)] = new_location;\n\n      //  var foundIndex = new_list.findIndex(x => x.id === new_location.id);\n      //  new_list[foundIndex] = new_location;\n\n      //  new_list[new_location.id-1].name=new_location.name;\n      //  new_list[new_location.id-1].address =new_location.address;\n      //  new_list[new_location.id-1].lat=new_location.lat;\n      //  new_list[new_location.id-1].lng=new_location.lng;\n      //  new_list[new_location.id-1].category=new_location.category;\n\n      set_original_Locations_list(new_list);\n      //// set_original_Locations_list( [...original_Locations_list, new_location]);\n      storeData('original_Locations_list', new_list);\n\n\n      // original_Locations_list is in the prev state yet, so increment by 2\n      set_new_location((\n        {\n          ...new_location,\n          id: selected_location.id,\n          name: selected_location.name, //'', \n          address: selected_location.address, // '', \n          lat: selected_location.lat, //31.776847698411576, \n          lng: selected_location.lng, //35.20543098449707, \n        }));\n\n      update_selected_location(new_location);\n\n      const new_flag = ((locations_edited_flag + 1) % 2);\n      set_locations_edited_flag(new_flag);\n\n      //  const filtered_list = new_list.filter(item =>\n      //   item.first_name.toLowerCase().includes(txt.toLowerCase())  );   \n\n      marker.obj(new_location, `handleSubmit Update new_location 2`);\n      marker.obj(new_location, `handleSubmit Update new_location 2`);\n      marker.obj(original_Locations_list, `handleSubmit original_Locations_list 2`);\n\n      // alert(`Lcation ${new_location.name} was added succesfully`);\n      set_submitting('END');\n      marker.red('EditLocation handleSubmit completed ' + submitting);\n\n    }\n\n    setTimeout(() => {\n      set_submitting('IDLE'); //set_submitting(false);\n      marker.red('EditLocation handleSubmit end ' + submitting);\n    }, 1000);\n\n    event.stopPropagation();\n    //history.goBack(); //back to list view\n    history.push(\"/locations\");\n\n  }\n\n  marker.obj(new_location, `EditLocation current new_location`);\n  marker.obj(original_Locations_list, `EditLocation original_Locations_list `);\n\n\n  //----------------------------------------------------------\n  // TODO: refine this one, doesnt show the Submitting new location..\n  //----------------------------------------------------------\n  useEffect(() => {\n\n    marker.green(`EditLocation new_location.lng:  ${new_location.lng}`);\n    if ('IDLE' === submitting) {\n      setTimeout(() => {\n        set_submit_text('');\n        marker.red(`EditLocation useEffect ${submit_text}`);\n      }, 300);\n    }\n    if ('START' === submitting) {\n      set_submit_text('Submitting new location...');\n      setTimeout(() => {\n        set_submit_text('Added new location successfully...');\n        marker.red(`EditLocation useEffect end ${submit_text}`);\n      }, 20);\n      marker.red(`EditLocation useEffect ${submit_text}`);\n    }\n    if ('END' === submitting) {\n      set_submit_text('Added new location successfully...');\n      setTimeout(() => {\n        set_submit_text('Added new location successfully...');\n        marker.red(`EditLocation useEffect end ${submit_text}`);\n      }, 20);\n    }\n    marker.red(`EditLocation useEffect submit_text  ${submit_text}`);\n\n  }, [submitting]);\n\n\n  const restoreOriginalValuses = event => {\n\n    set_new_location({\n      id: selected_location.id,\n      name: selected_location.name,\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n      category: selected_location.category,\n    });\n\n    update_selected_map_location({\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n    });\n\n    marker.red(`restoreOriginalValuses  selected_map_location: \n          address ${selected_map_location.address}\n          lat  ${selected_map_location.lat}\n          lng  ${selected_map_location.lng}      \n          `);\n\n    marker.red(`restoreOriginalValuses  new_location.lng:  \n          id ${new_location.id}\n          name ${new_location.name}\n          address ${new_location.address}\n          lat  ${new_location.lat}\n          lng  ${new_location.lng}\n          category: ${new_location.category}\n      ` );\n\n  };\n\n\n  return (\n    <MainBox>\n      <FormBox>\n        {/* <form style={{ width: \"50%\" }} onSubmit={handleSubmit} > */}\n        <LocationForm onSubmit={handleSubmit} >\n          <h1>Edit Location</h1>\n\n          <FormControl required margin=\"normal\" fullWidth>\n            <InputLabel htmlFor=\"name\">Name</InputLabel>\n            <Input\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n              value={new_location.name}\n              placeholder=\"e.g: My New cool location 3\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </FormControl>\n          {errors.name && <ErrorText>{errors.name}</ErrorText>}\n\n          <FormControl required margin=\"normal\" fullWidth>\n            <InputLabel htmlFor=\"address\">Address</InputLabel>\n            <Input\n              id=\"address\"\n              name=\"address\"\n              type=\"text\"\n              // disabled=\"true\"\n              value={new_location.address}\n              // value={selected_map_location.address}                 \n              placeholder=\"e.g: myStreet 3, New York\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </FormControl>\n          {errors.address && <ErrorText>{errors.address}</ErrorText>}\n\n\n          {/* <FormControl margin=\"normal\" fullWidth>\n              <InputLabel htmlFor=\"address\">Type address here</InputLabel>\n              <Input id=\"address\" multiline rows={5} />\n            </FormControl> */}\n\n          {/* <FormControl margin=\"normal\" fullWidth> */}\n          {/* <CoordinatesInputLabel htmlFor=\"coordinates\">Coordinates</CoordinatesInputLabel> */}\n\n          <CoordinatesBox>\n            <CoordinatesBoxLabel> Coordinates </CoordinatesBoxLabel>\n            <CoordinatesInnerBox>\n              {/* <fieldset width=\"100%\"> */}\n\n              <FormControl required margin=\"normal\" width=\"50%\">\n                <InputLabel htmlFor=\"lat\">Latitude </InputLabel>\n                <CoordinatesInput\n                  id=\"lat\"\n                  name=\"lat\"\n                  type=\"number\"\n                  min=\"MIN_COORDINATES\"\n                  max=\"MAX_COORDINATES\"\n                  value={new_location.lat}\n                  // value={selected_map_location.lat}\n                  placeholder=\"-345.1\"\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                />\n              </FormControl>\n              {errors.lat && <ErrorText>{errors.lat}</ErrorText>}\n\n              <FormControl required margin=\"normal\" width=\"50%\">\n                <InputLabel htmlFor=\"lng\" >Longitude</InputLabel>\n\n                <CoordinatesInput\n                  id=\"lng\"\n                  name=\"lng\"\n                  type=\"number\"\n                  min=\"MIN_COORDINATES\"\n                  max=\"MAX_COORDINATES\"\n                  value={new_location.lng}\n                  // value={selected_map_location.lng} \n                  placeholder=\"156.76\"\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                />\n              </FormControl>\n              {errors.lng && <ErrorText>{errors.lng}</ErrorText>}\n\n              {/* </fieldset>       */}\n            </CoordinatesInnerBox>\n          </CoordinatesBox>\n\n          <Tooltip title={toolTipText} open={tooltip_open}   >\n            <FormControl margin=\"normal\" fullWidth required>\n\n              <InputLabel htmlFor=\"category\" id=\"select-category-label\">\n                Category\n              </InputLabel>\n\n              <Select\n                labelId=\"select-category-label\"\n                id='category-simple'\n                name='category'\n                value={new_location.category}\n                defaultValue={selected_location.category}\n                placeholder=\"Pick a Category from the list\"\n                autoWidth\n\n                onChange={handleChange}\n                onMouseEnter={() => set_tooltip_open(true)}\n                onMouseLeave={() => set_tooltip_open(false)}\n                onClick={() => set_tooltip_open(false)}\n                onOpen={() => set_tooltip_open(false)}\n\n\n              // inputProps={{\n              //     name: 'category',\n              //     id: 'category-simple',\n              // }}\n              >\n                {categories_list.map(item => (\n                  <MenuItem key={item.name} value={item.name}>\n                    {item.name}\n                  </MenuItem>\n                ))}\n\n                {/* <MenuItem value={20}>Twenty</MenuItem>\n                <MenuItem value={30}>Thirty</MenuItem> */}\n\n              </Select>\n              <FormHelperText>required</FormHelperText>\n            </FormControl>\n          </Tooltip>\n\n          {errors.category && <ErrorText>{errors.category}</ErrorText>}\n\n          <SubmitText> {submit_text} </SubmitText>\n\n          <SubmitBox>\n\n            <Button\n              variant=\"contained\" color=\"primary\" size=\"medium\" margin=\"40px\"\n              // type=\"submit\"   \n              onClick={restoreOriginalValuses}\n            >\n              Restore\n                </Button>\n\n            <Button\n              disabled={\n                (\n                  errors.name === '' && errors.address === '' && errors.lat === ''\n                  && errors.lng === '' && errors.category === ''\n                  && errors.validation === ''\n                  && submitting === 'IDLE'\n                  && validation_success === true\n                ) ? false : true\n              }\n              variant=\"contained\" color=\"primary\" size=\"medium\" margin=\"40px\" type=\"submit\"   >\n              Edit\n                </Button>\n\n          </SubmitBox>\n          {/* <button type=\"submit\" >Add</button> */}\n          {/* <button type=\"button\"  onClick={reset}>  Clear Values   </button> */}\n          {/* props: {\n                color?: PropTypes.Color;\n                disableFocusRipple?: boolean;\n                fullWidth?: boolean;\n                href?: string;\n                size?: \"small\" | \"medium\" | \"large\";\n                variant?: \"text\" | \"outlined\" | \"contained\";\n            */}\n        </LocationForm>\n      </FormBox>\n    </MainBox>\n  );\n\n}\n\n\n\nexport default EditLocation;\n\n////  Styling //////\nconst toolTipText = `Select an existing category from the list`;\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: \"sm\",\n  },\n  tooltip: {\n    fontSize: 10,\n    lineHeight: 16,\n    heigt: 17,\n    // marginTop: 2,\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  dense: {\n    marginTop: theme.spacing(2),\n  },\n  menu: {\n    width: 200,\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: 'auto',\n    width: 'fit-content',\n  },\n  formControl: {\n    marginTop: theme.spacing(2),\n    minWidth: 120,\n\n  },\n  formControlLabel: {\n    marginTop: theme.spacing(1),\n  },\n}));\n\nconst MainBox = styled('div')({\n\n  // height: '60vh',\n  height: 'fit-content',\n  // maxHeight: '60rem',\n  // minHeight: '60vh',\n\n  width: 'fit-content',\n  //   width: '35%',\n  minWidth: '32rem', //'35rem',\n  maxWidth: '40vw', //'35rem',\n  // minWidth: '30rem', //'35rem',\n  // maxWidth: '30rem', //'35rem',\n\n  // margin: 0,\n  margin: 'auto',\n  marginLeft: 30,\n  padding: 10,\n  paddingLeft: 10,\n\n  // borderRadius: '0.4rem',\n  // borderRadius: '0.8rem',\n  // overflowX: 'hidden',\n  // overflowY: 'scroll',\n  // boxShadow: '0 0.2rem 0.8rem DimGrey',\n\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',   //'flex-start', \n  justifyContent: 'center',   //'flex-start', \n});\n\nconst MainBoxLabel = styled('h1')({\n  height: 'fit-content',\n  display: 'flex',\n  margin: 'auto',\n  // margin: 0,\n  padding: 0,\n});\n\nconst FormBox = styled(Box)({\n  display: \"flex\",\n  justifyContent: \"center\",\n\n  //margin: 20,\n  margin: 'auto',\n  marginLeft: 20,\n  paddingLeft: 10,\n\n  height: 'fit-content',\n  // height: '50vh',\n  // maxHeight: '50vh',\n  // minHeight: '50vh',\n\n  // height: '50%',\n  // maxHeight: '50vh',\n  // minHeight: '50rem',\n\n});\n\nconst LocationForm = styled('form')({\n  display: 'flex',\n  flexDirection: 'column',\n  margin: 'auto',\n  width: 'fit-content',\n  // width: \"50%\",\n\n});\n\nconst CoordinatesBoxLabel = styled(InputLabel)({\n  //fontSize: 3,\n  fontWeight: 'inherit',\n  textAlign: 'center',\n  color: 'inherit',\n});\n\nconst CoordinatesBox = styled(Box)({\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"flex-start\",\n\n  marginTop: 13,//21,    \n  paddingTop: 10,\n  paddingBottom: 3,\n  width: \"100%\",\n\n  //borderStyle: 'solid',\n  //borderColor:'#d1e0e0',\n\n  //font-family: \"Expletus Sans\";\n  textAlign: \"left\",\n  // color: \"slategray\",\n\n  // fontWeight: 400,\n});\n\nconst CoordinatesInnerBox = styled(Box)({\n\n  display: 'flex',\n  //flexFlow:['noWrap','noWrap','wrap'], \n  flexFlow: 'wrap',\n  // flexDirection: [\"row\", 'row', 'column'],\n  flexDirection: 'column',\n  justifyContent: 'space-even',\n\n  //marginTop: 12,\n  marginLeft: 20,\n\n  paddingleft: 20,\n  paddingTop: 5,\n  paddingBottom: 5,\n\n  // width: \"100%\",\n  width: [1, 1, 1 / 2],\n  maxWidth: \"sm\",\n  //font-family: \"Expletus Sans\";\n  textAlign: \"left\",\n  //color: \"slategray\",\n  // fontWeight: 400,\n\n\n});\n\nconst CoordinatesInput = styled(Input)({\n  //marginTop: 20,\n  marginRight: 10,\n  paddingTop: 25,\n  // paddingTop: 5,\n  paddingleft: 25,\n  paddingRight: 25,\n  //flexGrow:0,\n  // flexBasis:['40%', '40%', '100%'],\n  //width:[1/2, 1/2, 1],\n  maxWidth: \"xl\",\n});\n\nconst CoordinatesInputLabel = styled(InputLabel)({\n  marginRight: 10,\n  paddingRight: 15,\n});\n\n\nconst SubmitBox = styled('p')({\n  display: 'flex',\n  // justifyContent:\"center\",\n  justifyContent: \"space-between\",\n  marginTop: 30,\n  //marginLeft: 50,\n  paddingTop: 15,\n});\n\nconst ErrorText = styled('h5')({\n  display: 'flex',\n  justifyContent: \"left\",\n  marginTop: 3,\n  //marginLeft: 50,\n  paddingTop: 5,\n\n  color: `${main_palete_theme.palette.error.main}`,\n  //color: 'red',\n\n  textAlign: 'left',\n});\n\n\nconst SubmitText = styled('h5')({\n  display: 'flex',\n  justifyContent: \"left\",\n  marginTop: 3,\n  //marginLeft: 50,\n  paddingTop: 5,\n\n  // color: 'green',\n  color: `${main_palete_theme.palette.success.main}`,\n\n  textAlign: 'left',\n});\n\n//const EditLocation = () => <h1>Create a new Location</h1>;\n\n//const CreateBot = () => <h1 className=\"create\">Create a new Bot!</h1>;\n//export default CreateBot;\n\n\n\n","import React, { useState, useContext, useEffect } from \"react\";\nimport {\n  useHistory,\n  useLocation,\n  useParams\n} from \"react-router-dom\";\n\nimport main_palete_theme from '../../style.lib/PalleteStyles';\n// import styled from \"styled-components/macro\";\nimport { styled, makeStyles } from '@material-ui/core/styles';\nimport marker from '@ajar/marker';\n\n\nimport {\n  FormControl,\n  FormControlLabel,\n  InputLabel,\n  Input,\n  Button,\n  TextField,\n  MenuItem,\n  Select,\n  FormHelperText,\n  Box,\n  Tooltip,\n} from \"@material-ui/core\";\n\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\nimport * as api from \"../../services/StorageService\";\n// import { wrap } from \"module\";\n\nconst MIN_COORDINATES = -5000.000000;\nconst MAX_COORDINATES = 5000.000000;\n//=================================================================================\n//                       Add Location view\n//=================================================================================\n\nconst RemoveLocation = () => {\n\n  // general apearence rules\n  const classes = useStyles();\n\n  // Global context states\n  const {\n    categories_list,\n    original_Locations_list,\n    set_original_Locations_list,\n    selected_map_location,\n    selected_location,\n    update_selected_map_location,\n    set_error_message,\n  } = useContext(StateDataManager);\n\n\n  // Local state\n  marker.obj(selected_location, 'RemoveLocation selected_location: ');\n\n\n  // Note: marker.obj prints in alphabetical order not actual order...\n  const [new_location, set_new_location] = useState({\n    id: selected_location.id,\n    name: selected_location.name,\n    address: selected_location.address,\n    lat: selected_location.lat,\n    lng: selected_location.lng,\n    category: selected_location.category,\n  });\n\n  marker.obj(new_location, 'RemoveLocation new_location: ');\n\n  const [errors, set_errors] = useState({\n    name: '',\n    address: '',\n    lat: '',\n    lng: '',\n    category: '',\n    validation: '',\n  });\n\n  //const [validation_success, set_validation_success] = useState(true);\n  const [submitting, set_submitting] = useState('IDLE');\n  const [submit_text, set_submit_text] = useState('');\n  const [tooltip_open, set_tooltip_open] = useState(false);\n\n  let validation_success = true;\n  // let submitting = 'IDLE';\n\n  let history = useHistory();\n\n  /*\n    \n    Choose onChange(): If you need latest state immediately after input change, for example:\n    Search suggestion after each input (like Google search box)\n    Then Validating input after every change\n\n    Choose onBlur(): If you only need the latest state at the end of final input, for example:\n    Every change triggers a fetch event that checks if entered username or email exists\n\n    Your user filled all 3 registration inputs (name, password, email), but after the last   email input s/he directly click the send button (which is fired your signup method without updated email state). Since setState is asynchronous and not updated email state yet, you   might have problems about null email inputs.\n\n    So, my unofficial suggestion is that, use onChange whenever you possible, use onBlur whenever you need.\n  */\n\n\n  useEffect(() => {\n\n    set_new_location({\n      id: selected_location.id,\n      name: selected_location.name,\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n      category: selected_location.category,\n    });\n\n    // update_selected_map_location({\n    //   address: selected_location.address ,\n    //   lat: selected_location.lat , \n    //   lng: selected_location.lng , \n    // });\n\n    marker.blue(`RemoveLocation ON Mount selected_map_location: \n      address ${selected_map_location.address}\n      lat  ${selected_map_location.lat}\n      lng  ${selected_map_location.lng}      \n      `);\n\n    marker.blue(`RemoveLocation ON Mount new_location.lng:  \n      id ${new_location.id}\n      name ${new_location.name}\n      address ${new_location.address}\n      lat  ${new_location.lat}\n      lng  ${new_location.lng}\n      category: ${new_location.category}\n  ` );\n\n  }, []);\n\n\n  marker.red(`RemoveLocation selected_map_location: ${selected_map_location.address} ${selected_map_location.lat}  ${selected_map_location.lng}`);\n\n\n  // Update upon selected_map_location change\n\n  useEffect(() => {\n\n    set_new_location(({\n      ...new_location,\n      // id: ((original_Locations_list.length) + 1),\n      address: selected_map_location.address,\n      lat: selected_map_location.lat,\n      lng: selected_map_location.lng,\n    }));\n\n    marker.green(`RemoveLocation useEffect on selected_map_location CHANGE\\n`);\n\n    marker.green(`RemoveLocation useEffect selected_map_location: \n      address  ${selected_map_location.address}\n      lat  ${selected_map_location.lat}\n      lng  ${selected_map_location.lng}    \n    `);\n\n    marker.green(`RemoveLocation useEffect new_location\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}`);\n\n  }, [selected_map_location]);\n\n\n  // Update upon selected_location change\n\n  useEffect(() => {\n\n    marker.green(`RemoveLocation useEffect on selected_map_location before\\n`);\n\n    marker.green(`RemoveLocation useEffect selected_map_location: \n    id  ${selected_location.id}\n    name  ${selected_location.name}\n    address  ${selected_location.address}\n    lat  ${selected_location.lat}\n    lng:  ${selected_location.lng}\n    category  ${selected_location.category}\n    `);\n\n    marker.green(`RemoveLocation useEffect new_location\n    id  ${new_location.id}\n    name  ${new_location.name}\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}\n    category  ${new_location.category}\n\n    `);\n\n\n    set_new_location(({\n      ...new_location,\n      id: selected_location.id,\n      name: selected_location.name,\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n      category: selected_location.category,\n    }));\n\n    update_selected_map_location({\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n    });\n\n  }, [selected_location]);\n\n\n\n  // Validating input after every change\n  const handleChange = event => {\n    try {\n      const { name, value } = event.target; // destructure properties\n      marker.green(`handleChange event.target ${name} = ${value}`);\n\n      // do not disable it or u wont see any thing on screen and on related field\n      set_new_location(({ ...new_location, [name]: value, }));\n\n    } catch (err) {\n      marker.red(`handleChange caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `handleChange Updated new_location`);\n\n  };\n\n\n  const findIfNameExists = (value) => {\n    marker.blue(`findIfNameExists value= ${value}`);\n\n    const names_list = original_Locations_list.map(item => item.name);\n    marker.green(`handleBlur list: ${names_list}`);\n    const found1 = names_list.includes(value); //('Demo Location');\n\n    marker.blue(`find result ${found1}`);\n    return found1;\n  };\n\n  //      Handle exit from field\n  //------------------------------------\n  const handleBlur = event => {\n\n    marker.i(`RemoveLocation handleBlur`);\n\n    try {\n      let error_msg = '';\n\n      const { name, value } = event.target; // destructure properties\n      marker.magenta(`handleBlur 1 event.target ${name} = ${value}`);\n\n      let validValue = ((value !== ``) && (value !== 'undefined') && (value !== null));\n      marker.magenta(`handleBlur 2 event.target ${name} ${value}`);\n\n      if ((name === 'lat') || (name === 'lng')) {\n        marker.red(`handleBlur 3 field ${name} ${value} `);\n\n        if ((value <= MIN_COORDINATES) || (value >= MAX_COORDINATES)) {\n          validValue = false;\n          set_new_location(({ ...new_location, [name]: '', }));\n\n          marker.red(`handleBlur 4 ${name}  validValue ${validValue} `);\n        }\n      }\n\n      let found = false;\n      marker.red(`handleBlur 5 found ${found} `);\n      marker.blue(`handleCBlur 6  ${name} = ${value}`);\n\n      // handlse name validation\n      if (validValue && (name === 'name')) {\n        marker.magenta(`handleCBlur 7  ${name} = ${value}`);\n\n        // find if name exists in locations list\n        marker.obj(original_Locations_list, `handleBlur original_Locations_list `);\n\n        var exists = (element) => {\n          marker.obj(element, `element `);\n          marker.green(`value: ${value}`);\n          // checks whether an element is even\n          return element.name === value;\n        };\n\n        found = original_Locations_list.some(exists);\n        marker.green(`handleBlur SOME nameFound: ${found}`);\n\n\n        // found = findIfNameExists(value);\n        // marker.red(`handleBlur found after search ${found} `);   \n\n        if (found) {\n          marker.red(`Location name ${value} already exists. `);\n\n          error_msg = `Location name ${value} already exists. `;\n          //set_errors({...errors, [ name ]: `Location name ${value} already exists`}); \n          set_new_location(({ ...new_location, [name]: '', }));\n        }\n        else {\n          marker.red(`Location name ${value} does not exist. `);\n          error_msg = '';\n          //set_errors({name: ``});                \n        }\n      }\n\n      if (!validValue) {\n        error_msg = 'Empty field or Invalid value. ';\n        marker.red(`error_msg ${error_msg} `);\n      }\n\n      marker.red(`exists ${found} `);\n      marker.red(`handleBlur 2  validValue ${validValue} `);\n\n      if (!found && validValue) {\n        marker.green(`!found && validValue ${found} ${validValue}`);\n        // do not disable it\n        set_new_location(({ ...new_location, [name]: value, }));\n        error_msg = '';\n      }\n      marker.red(`set_errors error_msg ${error_msg} `);\n      set_errors({ ...errors, [name]: error_msg });\n\n    } catch (err) {\n      marker.red(`handleCBlure caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `handleBlur Updated new_location`);\n    marker.obj(errors, `handleBlur Updated errors`);\n\n  };\n\n  //-------------------------------- \n  //  Form validateion\n  //--------------------------------   \n\n  const validateField = field => {\n    let validName = ((new_location[field] !== ``) && (new_location[field] !== 'undefined') && (new_location[field] !== null));\n\n    if ((field === 'lat') || (field === 'lng')) {\n      validName = validName && (!Number.isNaN(new_location[field]))\n        && (new_location[field] >= MIN_COORDINATES)\n        && (new_location[field] <= MAX_COORDINATES);\n    }\n\n\n    if (!validName) {\n      set_errors({ ...errors, [field]: `Location ${field} is empty.` });\n    }\n\n    return validName;\n  }\n\n  const validateForm = () => {\n    try {\n\n      const validName = validateField('name');\n      const validAddress = validateField('address');\n      const validLat = validateField('lat');\n      const validLng = validateField('lng');\n      const validCategory = validateField('category');\n\n      marker.obj(errors, `validateForm errors 1`);\n\n      if (validName && validAddress && validLat && validLng && validCategory\n        && !errors.name && !errors.address && !errors.coordinate_lat\n        && !errors.coordinate_lng && !errors.category) {\n\n        validation_success = true;// set_validation_success(true);\n        set_errors({ ...errors, validation: `` });\n\n        marker.green(`validateForm validation_success ${validation_success}`);\n        marker.obj(new_location, `validateForm new_location`);\n        marker.obj(errors, `validateForm errors 2`);\n      }\n\n    } catch (err) {\n      validation_success = false; //set_validation_success(false);\n      set_errors({ ...errors, validation: `Validation Error.` });\n      marker.red(`validateForm caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `validateForm Updated new_location`);\n\n  }\n\n\n  marker.red(`RemoveLocation submitting ${submitting}  ${submit_text}`);\n\n  //------------------------------------------------\n  //          SUBMIT\n  //------------------------------------------------\n  const storeData = async (list_name, list) => {\n    try {\n      await api.storeListLS(list_name, list);\n\n    } catch (err) {\n      set_error_message(err.message);\n    }\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();// prevent form post\n    // submitting = 'START'; \n    set_submitting('START');\n\n    marker.red('RemoveLocation handleSubmit start ' + submitting);\n    marker.green('RemoveLocation handleSubmit original_Locations_list.length ' + original_Locations_list.length);\n\n    validateForm();\n\n    if (true === validation_success) {\n      marker.obj(new_location, `handleSubmit Update new_location 1`);\n      marker.obj(original_Locations_list, `handleSubmit original_Locations_list 1`);\n\n      let new_list = original_Locations_list;\n      new_list.splice((new_list.findIndex(el => el.id === new_location.id)), 1);\n\n\n\n      set_original_Locations_list(new_list);\n      storeData('original_Locations_list', new_list);\n\n      marker.obj(new_location, `handleSubmit Update new_location 2`);\n      marker.obj(new_location, `handleSubmit Update new_location 2`);\n      marker.obj(original_Locations_list, `handleSubmit original_Locations_list 2`);\n\n      // alert(`Lcation ${new_location.name} was added succesfully`);\n      set_submitting('END');\n      marker.red('RemoveLocation handleSubmit completed ' + submitting);\n\n    }\n\n    setTimeout(() => {\n      set_submitting('IDLE'); //set_submitting(false);\n      marker.red('RemoveLocation handleSubmit end ' + submitting);\n    }, 1000);\n\n    event.stopPropagation();\n    //history.goBack(); //back to list view\n    history.push(\"/locations\");\n\n  }\n\n  marker.obj(new_location, `RemoveLocation current new_location`);\n  marker.obj(original_Locations_list, `RemoveLocation original_Locations_list `);\n\n\n  //----------------------------------------------------------\n  // TODO: refine this one, doesnt show the Submitting new location..\n  //----------------------------------------------------------\n  useEffect(() => {\n\n    marker.green(`AddLocation new_location.lng:  ${new_location.lng}`);\n    if ('IDLE' === submitting) {\n      setTimeout(() => {\n        set_submit_text('');\n        marker.red(`RemoveLocation useEffect ${submit_text}`);\n      }, 300);\n    }\n    if ('START' === submitting) {\n      set_submit_text('Submitting new location...');\n      setTimeout(() => {\n        set_submit_text('Added new location successfully...');\n        marker.red(`RemoveLocation useEffect end ${submit_text}`);\n      }, 20);\n      marker.red(`RemoveLocation useEffect ${submit_text}`);\n    }\n    if ('END' === submitting) {\n      set_submit_text('Added new location successfully...');\n      setTimeout(() => {\n        set_submit_text('Added new location successfully...');\n        marker.red(`RemoveLocation useEffect end ${submit_text}`);\n      }, 20);\n    }\n    marker.red(`RemoveLocation useEffect submit_text  ${submit_text}`);\n\n  }, [submitting]);\n\n\n  const restoreOriginalValuses = event => {\n\n    set_new_location({\n      id: selected_location.id,\n      name: selected_location.name,\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n      category: selected_location.category,\n    });\n\n    update_selected_map_location({\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n    });\n\n    marker.red(`restoreOriginalValuses  selected_map_location: \n          address ${selected_map_location.address}\n          lat  ${selected_map_location.lat}\n          lng  ${selected_map_location.lng}      \n          `);\n\n    marker.red(`restoreOriginalValuses  new_location.lng:  \n          id ${new_location.id}\n          name ${new_location.name}\n          address ${new_location.address}\n          lat  ${new_location.lat}\n          lng  ${new_location.lng}\n          category: ${new_location.category}\n      ` );\n\n  };\n\n\n  return (\n    <MainBox>\n      <FormBox>\n        {/* <form style={{ width: \"50%\" }} onSubmit={handleSubmit} > */}\n        <LocationForm onSubmit={handleSubmit} >\n          <h1>Remove Location</h1>\n\n          <FormControl required margin=\"normal\" fullWidth>\n            <InputLabel htmlFor=\"name\">Name</InputLabel>\n            <Input\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n              value={new_location.name}\n              placeholder=\"e.g: My New cool location 3\"\n              inputProps={{ readOnly: true }}\n            />\n          </FormControl>\n          {errors.name && <ErrorText>{errors.name}</ErrorText>}\n\n          <FormControl required margin=\"normal\" fullWidth>\n            <InputLabel htmlFor=\"address\">Address</InputLabel>\n            <Input\n              id=\"address\"\n              name=\"address\"\n              type=\"text\"\n              // disabled=\"true\"\n              value={new_location.address}\n              // value={selected_map_location.address}                 \n              placeholder=\"e.g: myStreet 3, New York\"\n              inputProps={{ readOnly: true }}\n            />\n          </FormControl>\n          {errors.address && <ErrorText>{errors.address}</ErrorText>}\n\n\n          {/* <FormControl margin=\"normal\" fullWidth>\n              <InputLabel htmlFor=\"address\">Type address here</InputLabel>\n              <Input id=\"address\" multiline rows={5} />\n            </FormControl> */}\n\n          {/* <FormControl margin=\"normal\" fullWidth> */}\n          {/* <CoordinatesInputLabel htmlFor=\"coordinates\">Coordinates</CoordinatesInputLabel> */}\n\n          <CoordinatesBox>\n            <CoordinatesBoxLabel> Coordinates </CoordinatesBoxLabel>\n            <CoordinatesInnerBox>\n              {/* <fieldset width=\"100%\"> */}\n\n              <FormControl required margin=\"normal\" width=\"50%\">\n                <InputLabel htmlFor=\"lat\">Latitude </InputLabel>\n                <CoordinatesInput\n                  id=\"lat\"\n                  name=\"lat\"\n                  type=\"number\"\n                  min=\"MIN_COORDINATES\"\n                  max=\"MAX_COORDINATES\"\n                  value={new_location.lat}\n                  // value={selected_map_location.lat}\n                  placeholder=\"-345.1\"\n                  inputProps={{ readOnly: true }}\n                />\n              </FormControl>\n              {errors.lat && <ErrorText>{errors.lat}</ErrorText>}\n\n              <FormControl required margin=\"normal\" width=\"50%\">\n                <InputLabel htmlFor=\"lng\" >Longitude</InputLabel>\n\n                <CoordinatesInput\n                  id=\"lng\"\n                  name=\"lng\"\n                  type=\"number\"\n                  min=\"MIN_COORDINATES\"\n                  max=\"MAX_COORDINATES\"\n                  value={new_location.lng}\n                  // value={selected_map_location.lng} \n                  placeholder=\"156.76\"\n                  inputProps={{ readOnly: true }}\n                />\n              </FormControl>\n              {errors.lng && <ErrorText>{errors.lng}</ErrorText>}\n\n              {/* </fieldset>       */}\n            </CoordinatesInnerBox>\n          </CoordinatesBox>\n\n          <FormControl margin=\"normal\" fullWidth required>\n\n            <InputLabel htmlFor=\"category\" id=\"select-category-label\">\n              Category\n              </InputLabel>\n\n            <Select\n              labelId=\"select-category-label\"\n              id='category-simple'\n              name='category'\n              value={new_location.category}\n              placeholder=\"Pick a Category from the list\"\n              inputProps={{ readOnly: true }}\n\n            // inputProps={{\n            //     name: 'category',\n            //     id: 'category-simple',\n            // }}\n            >\n              {categories_list.map(item => (\n                <MenuItem key={item.name} value={item.name}>\n                  {item.name}\n                </MenuItem>\n              ))}\n\n            </Select>\n            <FormHelperText>required</FormHelperText>\n          </FormControl>\n\n\n          {errors.category && <ErrorText>{errors.category}</ErrorText>}\n\n          <SubmitText> {submit_text} </SubmitText>\n\n          <SubmitBox>\n            <Button\n              variant=\"contained\" color=\"primary\" size=\"medium\" margin=\"40px\" type=\"submit\"   >\n              Remove\n                </Button>\n\n          </SubmitBox>\n          {/* <button type=\"submit\" >Add</button> */}\n          {/* <button type=\"button\"  onClick={reset}>  Clear Values   </button> */}\n          {/* props: {\n                color?: PropTypes.Color;\n                disableFocusRipple?: boolean;\n                fullWidth?: boolean;\n                href?: string;\n                size?: \"small\" | \"medium\" | \"large\";\n                variant?: \"text\" | \"outlined\" | \"contained\";\n            */}\n        </LocationForm>\n      </FormBox>\n    </MainBox>\n  );\n\n}\n\n\n\nexport default RemoveLocation;\n\n////  Styling //////\nconst toolTipText = `Select an existing category from the list`;\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: \"sm\",\n  },\n  tooltip: {\n    fontSize: 10,\n    lineHeight: 16,\n    heigt: 17,\n    // marginTop: 2,\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  dense: {\n    marginTop: theme.spacing(2),\n  },\n  menu: {\n    width: 200,\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: 'auto',\n    width: 'fit-content',\n  },\n  formControl: {\n    marginTop: theme.spacing(2),\n    minWidth: 120,\n\n  },\n  formControlLabel: {\n    marginTop: theme.spacing(1),\n  },\n}));\n\n\nconst MainBox = styled('div')({\n\n  // height: '60vh',\n  height: 'fit-content',\n  // maxHeight: '60rem',\n  // minHeight: '60vh',\n\n  width: 'fit-content',\n  //   width: '35%',\n  minWidth: '32rem', //'35rem',\n  maxWidth: '40vw', //'35rem',\n  // minWidth: '30rem', //'35rem',\n  // maxWidth: '30rem', //'35rem',\n\n  // margin: 0,\n  margin: 'auto',\n  marginLeft: 30,\n  padding: 10,\n  paddingLeft: 10,\n\n  // borderRadius: '0.4rem',\n  // borderRadius: '0.8rem',\n  // overflowX: 'hidden',\n  // overflowY: 'scroll',\n  // boxShadow: '0 0.2rem 0.8rem DimGrey',\n\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',   //'flex-start', \n  justifyContent: 'center',   //'flex-start', \n});\n\nconst MainBoxLabel = styled('h1')({\n  height: 'fit-content',\n  display: 'flex',\n  margin: 'auto',\n  // margin: 0,\n  padding: 0,\n});\n\nconst FormBox = styled(Box)({\n  display: \"flex\",\n  justifyContent: \"center\",\n\n  //margin: 20,\n  margin: 'auto',\n  marginLeft: 20,\n  paddingLeft: 10,\n\n  height: 'fit-content',\n  // height: '50vh',\n  // maxHeight: '50vh',\n  // minHeight: '50vh',\n\n  // height: '50%',\n  // maxHeight: '50vh',\n  // minHeight: '50rem',\n\n});\n\nconst LocationForm = styled('form')({\n  display: 'flex',\n  flexDirection: 'column',\n  margin: 'auto',\n  width: 'fit-content',\n  // width: \"50%\",\n\n});\n\nconst CoordinatesBoxLabel = styled(InputLabel)({\n  //fontSize: 3,\n  fontWeight: 'inherit',\n  textAlign: 'center',\n  color: 'inherit',\n});\n\nconst CoordinatesBox = styled(Box)({\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"flex-start\",\n\n  marginTop: 13,//21,    \n  paddingTop: 10,\n  paddingBottom: 3,\n  width: \"100%\",\n\n  //borderStyle: 'solid',\n  //borderColor:'#d1e0e0',\n\n  //font-family: \"Expletus Sans\";\n  textAlign: \"left\",\n  // color: \"slategray\",\n\n  // fontWeight: 400,\n});\n\nconst CoordinatesInnerBox = styled(Box)({\n\n  display: 'flex',\n  //flexFlow:['noWrap','noWrap','wrap'], \n  flexFlow: 'wrap',\n  // flexDirection: [\"row\", 'row', 'column'],\n  flexDirection: 'column',\n  justifyContent: 'space-even',\n\n  //marginTop: 12,\n  marginLeft: 20,\n\n  paddingleft: 20,\n  paddingTop: 5,\n  paddingBottom: 5,\n\n  // width: \"100%\",\n  width: [1, 1, 1 / 2],\n  maxWidth: \"sm\",\n  //font-family: \"Expletus Sans\";\n  textAlign: \"left\",\n  //color: \"slategray\",\n  // fontWeight: 400,\n\n});\n\nconst CoordinatesInput = styled(Input)({\n  //marginTop: 20,\n  marginRight: 10,\n  paddingTop: 25,\n  // paddingTop: 5,\n  paddingleft: 25,\n  paddingRight: 25,\n  //flexGrow:0,\n  // flexBasis:['40%', '40%', '100%'],\n  //width:[1/2, 1/2, 1],\n  maxWidth: \"xl\",\n});\n\nconst CoordinatesInputLabel = styled(InputLabel)({\n  marginRight: 10,\n  paddingRight: 15,\n});\n\n\nconst SubmitBox = styled('p')({\n  display: 'flex',\n  justifyContent: \"center\",\n  marginTop: 15, //30\n  //marginLeft: 50,\n  paddingTop: 15,\n});\n\nconst ErrorText = styled('h5')({\n  display: 'flex',\n  justifyContent: \"left\",\n  marginTop: 3,\n  //marginLeft: 50,\n  paddingTop: 5,\n\n  color: `${main_palete_theme.palette.error.main}`,\n  //color: 'red',\n\n  textAlign: 'left',\n});\n\n\nconst SubmitText = styled('h5')({\n  display: 'flex',\n  justifyContent: \"left\",\n  marginTop: 3,\n  //marginLeft: 50,\n  paddingTop: 5,\n\n  // color: 'green',\n  color: `${main_palete_theme.palette.success.main}`,\n\n  textAlign: 'left',\n});\n\n//const RemoveLocation = () => <h1>Create a new Location</h1>;\n\n//const CreateBot = () => <h1 className=\"create\">Create a new Bot!</h1>;\n//export default CreateBot;\n\n\n\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport main_palete_theme from '../../style.lib/PalleteStyles';\n// import styled from \"styled-components/macro\";\nimport { styled, makeStyles } from '@material-ui/core/styles';\nimport marker from '@ajar/marker';\n\n\nimport {\n  FormControl,\n  FormControlLabel,\n  InputLabel,\n  Input,\n  Button,\n  TextField,\n  MenuItem,\n  Select,\n  FormHelperText,\n  Box,\n  Tooltip,\n} from \"@material-ui/core\";\n\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\nimport { wrap } from \"module\";\n\nconst MIN_COORDINATES = -5000.000000;\nconst MAX_COORDINATES = 5000.000000;\n//=================================================================================\n//                       Add Location view\n//=================================================================================\n\nconst ViewLocation = ({ match, history }) => {\n  marker.blue(`ViewLocation \n  match    ${match}\n  history  ${history}\n  `);\n\n  // general apearence rules\n  const classes = useStyles();\n\n  // Global context states\n  const {\n    categories_list,\n    original_Locations_list,\n    set_original_Locations_list,\n    selected_map_location,\n    update_selected_map_location,\n    selected_location,\n    // update_selected_location,\n    selected_action,\n  } = useContext(StateDataManager);\n\n\n\n  // Local state\n\n  // Note: marker.obj prints in alphabetical order not actual order...\n  const [new_location, set_new_location] = useState(\n    {\n      id: selected_location.id, //original_Locations_list.length+1,\n      name: selected_location.name, //'',\n      address: selected_location.address, //'',\n      lat: selected_location.lat, //31.776847698411576, \n      lng: selected_location.lng, //35.20543098449707, \n      category: selected_location.category, //categories_list[0].name,\n    }\n  );\n\n  //   const [new_location, set_new_location] = useState({\n  //     id: original_Locations_list.length+1,\n  //     name: '',\n  //     address: '',\n  //     lat: 31.776847698411576, \n  //     lng: 35.20543098449707, \n  //     category: categories_list[0].name,\n  //   });   \n\n  const [errors, set_errors] = useState({\n    name: '',\n    address: '',\n    lat: '',\n    lng: '',\n    category: '',\n    validation: '',\n  });\n\n  //const [validation_success, set_validation_success] = useState(true);\n  const [submitting, set_submitting] = useState('IDLE');\n  const [submit_text, set_submit_text] = useState('');\n  const [tooltip_open, set_tooltip_open] = useState(false);\n\n  let validation_success = true;\n  // let submitting = 'IDLE';\n\n\n  marker.blue(`ViewLocation selected_location \n  id  ${selected_location.id}\n  name  ${selected_location.name}\n  address  ${selected_location.address}\n  lat  ${selected_location.lat}\n  lng:  ${selected_location.lng}\n  category  ${selected_location.category}\n  `);\n\n  marker.blue(`ViewLocation new_location \n  id  ${new_location.id}\n  name  ${new_location.name}\n  address  ${new_location.address}\n  lat  ${new_location.lat}\n  lng:  ${new_location.lng}\n  category  ${new_location.category}\n  `);\n\n\n  /*\n    \n    Choose onChange(): If you need latest state immediately after input change, for example:\n    Search suggestion after each input (like Google search box)\n    Then Validating input after every change\n\n    Choose onBlur(): If you only need the latest state at the end of final input, for example:\n    Every change triggers a fetch event that checks if entered username or email exists\n\n    Your user filled all 3 registration inputs (name, password, email), but after the last   email input s/he directly click the send button (which is fired your signup method without updated email state). Since setState is asynchronous and not updated email state yet, you   might have problems about null email inputs.\n\n    So, my unofficial suggestion is that, use onChange whenever you possible, use onBlur whenever you need.\n  */\n\n\n  // On Mounting\n\n  useEffect(() => {\n\n    marker.blue(`ViewLocation useEffect on mount before\\n`);\n\n    marker.blue(`ViewLocation useEffect selected_map_location: \n      address  ${selected_map_location.address}\n      lat  ${selected_map_location.lat}\n      lng  ${selected_map_location.lng}    \n    `);\n\n    marker.blue(`ViewLocation useEffect new_location\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}`);\n\n\n    set_new_location(({\n      ...new_location,\n      id: selected_location.id, //original_Locations_list.length+1,\n      name: selected_location.name, //'',\n      address: selected_location.address, //'',\n      lat: selected_location.lat, //31.776847698411576, \n      lng: selected_location.lng, //35.20543098449707, \n      category: selected_location.category,\n    }));\n\n\n  }, []);\n\n\n  // Update upon selected_map_location change\n\n\n  useEffect(() => {\n\n    set_new_location(({\n      ...new_location,\n      // id: ((original_Locations_list.length) + 1),\n      address: selected_map_location.address,\n      lat: selected_map_location.lat,\n      lng: selected_map_location.lng,\n    }));\n\n    marker.green(`ViewLocation useEffect on selected_map_location CHANGE\\n`);\n\n    marker.green(`ViewLocation useEffect selected_map_location: \n    address  ${selected_map_location.address}\n    lat  ${selected_map_location.lat}\n    lng  ${selected_map_location.lng}    \n  `);\n\n    marker.green(`ViewLocation useEffect new_location\n  address  ${new_location.address}\n  lat  ${new_location.lat}\n  lng:  ${new_location.lng}`);\n\n  }, [selected_map_location]);\n\n\n\n  // Update upon selected_location change\n\n  useEffect(() => {\n\n    marker.green(`ViewLocation useEffect on selected_map_location before\\n`);\n\n    marker.green(`ViewLocation useEffect selected_map_location: \n    id  ${selected_location.id}\n    name  ${selected_location.name}\n    address  ${selected_location.address}\n    lat  ${selected_location.lat}\n    lng:  ${selected_location.lng}\n    category  ${selected_location.category}\n    `);\n\n    marker.green(`ViewLocation useEffect new_location\n    id  ${new_location.id}\n    name  ${new_location.name}\n    address  ${new_location.address}\n    lat  ${new_location.lat}\n    lng:  ${new_location.lng}\n    category  ${new_location.category}\n\n    `);\n\n\n    set_new_location(({\n      ...new_location,\n      id: selected_location.id,\n      name: selected_location.name,\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n      category: selected_location.category,\n    }));\n\n    update_selected_map_location({\n      address: selected_location.address,\n      lat: selected_location.lat,\n      lng: selected_location.lng,\n    });\n\n  }, [selected_location]);\n\n\n\n\n  marker.green(`ViewLocation selected_map_location CURRENT\\n`);\n\n  marker.green(`ViewLocation selected_map_location: \n    address  ${selected_map_location.address}\n    lat  ${selected_map_location.lat}\n    lng  ${selected_map_location.lng}    \n  `);\n\n  marker.green(`ViewLocation new_location CURRENT\n  address  ${new_location.address}\n  lat  ${new_location.lat}\n  lng:  ${new_location.lng}`);\n\n\n\n  // Validating input after every change\n  const handleChange = event => {\n\n    try {\n      const { name, value } = event.target; // destructure properties\n      marker.green(`handleChange event.target ${name} = ${value}`);\n\n      // do not disable it or u wont see any thing on screen and on related field\n      set_new_location(({ ...new_location, [name]: value, }));\n\n    } catch (err) {\n      marker.red(`handleChange caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `handleChange Updated new_location`);\n\n  };\n\n\n\n  //      Handle exit from field\n  //------------------------------------\n  const handleBlur = event => {\n\n    marker.i(`ViewLocation handleBlur`);\n\n\n    try {\n      let error_msg = '';\n\n      const { name, value } = event.target; // destructure properties\n      marker.magenta(`handleBlur 1 event.target ${name} = ${value}`);\n\n      let validValue = ((value !== ``) && (value !== 'undefined') && (value !== null));\n      marker.magenta(`handleBlur 2 event.target ${name} ${value}`);\n\n      if ((name === 'lat') || (name === 'lng')) {\n        marker.red(`handleBlur 3 field ${name} ${value} `);\n\n        if ((value <= MIN_COORDINATES) || (value >= MAX_COORDINATES)) {\n          validValue = false;\n          set_new_location(({ ...new_location, [name]: '', }));\n\n          marker.red(`handleBlur 4 ${name}  validValue ${validValue} `);\n        }\n      }\n\n      let found = false;\n      marker.red(`handleBlur 5 found ${found} `);\n      marker.blue(`handleCBlur 6  ${name} = ${value}`);\n\n      // handlse name validation\n      if (validValue && (name === 'name')) {\n        marker.magenta(`handleCBlur 7  ${name} = ${value}`);\n\n        // find if name exists in locations list\n        marker.obj(original_Locations_list, `handleBlur original_Locations_list `);\n\n        var exists = (element) => {\n          marker.obj(element, `element `);\n          marker.green(`value: ${value}`);\n          // checks whether an element is even\n          return element.name === value;\n        };\n\n        found = original_Locations_list.some(exists);\n        marker.green(`handleBlur SOME nameFound: ${found}`);\n\n\n        // found = findIfNameExists(value);\n        // marker.red(`handleBlur found after search ${found} `);   \n\n        if (found) {\n          marker.red(`Location name ${value} already exists. `);\n\n          error_msg = `Location name ${value} already exists. `;\n          //set_errors({...errors, [ name ]: `Location name ${value} already exists`}); \n          set_new_location(({ ...new_location, [name]: '', }));\n        }\n        else {\n          marker.red(`Location name ${value} does not exist. `);\n          error_msg = '';\n          //set_errors({name: ``});                \n        }\n      }\n\n      if (!validValue) {\n        error_msg = 'Empty field or Invalid value. ';\n        marker.red(`error_msg ${error_msg} `);\n      }\n\n      marker.red(`exists ${found} `);\n      marker.red(`handleBlur 2  validValue ${validValue} `);\n\n      if (!found && validValue) {\n        marker.green(`!found && validValue ${found} ${validValue}`);\n        // do not disable it\n        set_new_location(({ ...new_location, [name]: value, }));\n        error_msg = '';\n      }\n      marker.red(`set_errors error_msg ${error_msg} `);\n      set_errors({ ...errors, [name]: error_msg });\n\n    } catch (err) {\n      marker.red(`handleCBlure caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `handleBlur Updated new_location`);\n    marker.obj(errors, `handleBlur Updated errors`);\n\n  };\n\n  //-------------------------------- \n  //  Form validateion\n  //--------------------------------   \n\n  const validateField = field => {\n    let validName = ((new_location[field] !== ``) && (new_location[field] !== 'undefined') && (new_location[field] !== null));\n\n    if ((field === 'lat') || (field === 'lng')) {\n      validName = validName && (!Number.isNaN(new_location[field]))\n        && (new_location[field] >= MIN_COORDINATES)\n        && (new_location[field] <= MAX_COORDINATES);\n    }\n\n\n    if (!validName) {\n      set_errors({ ...errors, [field]: `Location ${field} is empty.` });\n    }\n\n    return validName;\n  }\n\n  const validateForm = () => {\n    try {\n      const nameFound = validateNameExists();\n      const validName = validateField('name') && !nameFound;\n      marker.red(`validateForm nameFound ${nameFound} validName ${validName}`);\n\n      const validAddress = validateField('address');\n      const validLat = validateField('lat');\n      const validLng = validateField('lng');\n      const validCategory = validateField('category');\n\n      marker.obj(errors, `validateForm errors 1`);\n\n      if (validName && validAddress && validLat && validLng && validCategory\n        && !errors.name && !errors.address && !errors.coordinate_lat\n        && !errors.coordinate_lng && !errors.category) {\n\n        validation_success = true;// set_validation_success(true);\n        set_errors({ ...errors, validation: `` });\n\n        marker.green(`validateForm validation_success ${validation_success}`);\n        marker.obj(new_location, `validateForm new_location`);\n        marker.obj(errors, `validateForm errors 2`);\n      }\n      else {\n        validation_success = false;\n        marker.red(`validateForm validation_success ${validation_success}`);\n        //set_errors({...errors, validation:`Validation Error`}); \n      }\n\n    } catch (err) {\n      validation_success = false; //set_validation_success(false);\n      set_errors({ ...errors, validation: `Validation Error.` });\n      marker.red(`validateForm caugt exception: ${err.message}`);\n    }\n    marker.obj(new_location, `validateForm Updated new_location`);\n\n  }\n\n  //====================================================================\n  // Submitting Sub actions\n  //====================================================================\n\n  //const addLoaction = ({ match, history }) => {\n  const addLoaction = () => {\n    set_original_Locations_list([...original_Locations_list, new_location]);\n\n    marker.obj(new_location, `handleSubmit Update new_location 2`);\n    marker.obj(original_Locations_list, `handleSubmit original_Locations_list 2`);\n\n    // alert(`Lcation ${new_location.name} was added succesfully`);\n    set_submitting('END');\n    marker.red('ViewLocation handleSubmit completed ' + submitting);\n\n\n    // original_Locations_list is in the prev state yet, so increment by 2\n    set_new_location((\n      {\n        ...new_location,\n        id: (original_Locations_list.length + 2),\n        name: selected_location.name, //'', \n        address: selected_location.address, // '', \n        lat: selected_location.lat, //31.776847698411576, \n        lng: selected_location.lng, //35.20543098449707, \n      }));\n\n  }\n\n\n  const validateNameExists = () => {\n\n    marker.i(`ViewLocation validateName`);\n    let found = false;\n    let validValue = false;\n    let error_msg = '';\n\n    try {\n\n      const value = new_location.name; // destructure properties\n\n      validValue = ((value !== ``) && (value !== 'undefined') && (value !== null));\n\n\n      marker.red(`validateName 1 found ${found} validValue ${validValue} `);\n\n      // handlse name validation\n      if (validValue) {\n        marker.magenta(`validateName 2  ${value} is valid, `);\n\n        // find if name exists in locations list\n        marker.obj(original_Locations_list, `handleBlur original_Locations_list `);\n\n        var exists = (element) => {\n          marker.obj(element, `element `);\n          marker.green(`value: ${value}`);\n          // checks whether an element is even\n          return element.name === value;\n        };\n\n        found = original_Locations_list.some(exists);\n        marker.green(`validateName SOME nameFound: ${found}`);\n\n        // found = findIfNameExists(value);\n        // marker.red(`handleBlur found after search ${found} `);   \n\n        if (found) {\n          marker.red(`validateName Location name ${value} already exists. `);\n\n          error_msg = `Location name ${value} already exists. `;\n          //set_errors({...errors, [ name ]: `Location name ${value} already exists`}); \n          set_new_location(({ ...new_location, name: '', }));\n        }\n        else {\n          marker.red(`Location name ${value} does not exist. `);\n          error_msg = '';\n          //set_errors({name: ``});                \n        }\n      }\n\n      if (!validValue) {\n        error_msg = 'Empty field or Invalid value. ';\n        marker.red(`error_msg ${error_msg} `);\n      }\n\n      marker.red(`exists ${found} `);\n      marker.red(`validateName 3  validValue ${validValue} `);\n\n      if (!found && validValue) {\n        marker.green(`validateName 4 !found && validValue ${found} ${validValue}`);\n        error_msg = '';\n      }\n      // marker.red(`set_errors error_msg ${error_msg} `);  \n      set_errors({ ...errors, name: error_msg });\n\n    } catch (err) {\n      marker.red(`validateName 6 caugt exception: ${err.message}`);\n    }\n\n    marker.green(`validateName 5 found && validValue ${found} ${validValue}`);\n    return (found);\n\n  };\n\n\n  // const findIfNameExists = (value) => {\n  //     marker.green(`findIfNameExists value= ${value}`);   \n\n  //     const names_list = original_Locations_list.map( item => item.name );\n  //     marker.green( `handleBlur list: ${names_list}` );\n  //     const found1 =  names_list.includes(value); //('Demo Location');\n\n  //     marker.green(`find result ${found1}`);\n  //     return found1;\n  //   };\n\n\n  //==========================================================================\n\n  marker.red(`ViewLocation submitting ${submitting}  ${submit_text}`);\n\n  //------------------------------------------------\n  //          SUBMIT\n  //------------------------------------------------\n\n  const handleSubmit = event => {\n    event.preventDefault();// prevent form post\n    // submitting = 'START'; \n    set_submitting('START');\n\n    marker.red('ViewLocation handleSubmit start ' + submitting);\n    marker.green('ViewLocation handleSubmit original_Locations_list.length ' + original_Locations_list.length);\n\n    validateForm();\n\n    if (true === validation_success) {\n      marker.obj(new_location, `handleSubmit Update new_location 1`);\n      marker.obj(original_Locations_list, `handleSubmit original_Locations_list 1`);\n\n\n      marker.red('ViewLocation handleSubmit ADD validName ');\n      set_new_location((\n        {\n          ...new_location,\n          id: (original_Locations_list.length + 2),\n        }));\n\n      addLoaction();\n      event.stopPropagation();\n      //history.goBack(); //back to list view\n\n\n      //   set_original_Locations_list( [...original_Locations_list, new_location]);\n\n      //   marker.obj( new_location , `handleSubmit Update new_location 2` );\n      //   marker.obj( original_Locations_list , `handleSubmit original_Locations_list 2` );\n\n      //  // alert(`Lcation ${new_location.name} was added succesfully`);\n      //  set_submitting('END');\n      //  marker.red('ViewLocation handleSubmit completed '+ submitting );\n\n\n      //   // original_Locations_list is in the prev state yet, so increment by 2\n      //   set_new_location( ( \n      //     {...new_location, \n      //        id: (original_Locations_list.length +2),\n      //       name: '', \n      //       address: '', \n      //       lat: 31.776847698411576, \n      //       lng: 35.20543098449707, \n      //     } )  );  \n\n    }\n\n    setTimeout(() => {\n      set_submitting('IDLE'); //set_submitting(false);\n      marker.red('ViewLocation handleSubmit end ' + submitting);\n    }, 1000);\n\n\n  }\n\n\n  marker.obj(new_location, `ViewLocation current new_location`);\n  marker.obj(original_Locations_list, `ViewLocation original_Locations_list `);\n\n\n  //----------------------------------------------------------\n  // TODO: refine this one, doesnt show the Submitting new location..\n  //----------------------------------------------------------\n  useEffect(() => {\n\n    if ('IDLE' === submitting) {\n      setTimeout(() => {\n        set_submit_text('');\n        marker.green(`ViewLocation useEffect ${submit_text}`);\n      }, 300);\n    }\n    if ('START' === submitting) {\n      set_submit_text('Submitting location...');\n      setTimeout(() => {\n        set_submit_text('Submitting location...');\n        marker.green(`ViewLocation useEffect end ${submit_text}`);\n      }, 20);\n      marker.green(`ViewLocation useEffect ${submit_text}`);\n    }\n    if ('END' === submitting) {\n      set_submit_text('Submitted location successfully...');\n      setTimeout(() => {\n        set_submit_text('Submitted location successfully...');\n        marker.green(`ViewLocation useEffect end ${submit_text}`);\n      }, 20);\n    }\n    marker.green(`ViewLocation useEffect submit_text  ${submit_text}`);\n\n  }, [submitting]);\n\n\n\n\n  return (\n\n    <MainBox>\n      <FormBox>\n        {/* <form style={{ width: \"50%\" }} onSubmit={handleSubmit} > */}\n        <LocationForm onSubmit={handleSubmit} >\n          {/* <MainBoxLabel>Selected Location</MainBoxLabel> */}\n          <h1>Selected Location</h1>\n\n          <FormControl required margin=\"normal\" fullWidth>\n            <InputLabel htmlFor=\"name\">Name</InputLabel>\n            <Input\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n              value={new_location.name}\n              placeholder=\"e.g: My New cool location 3\"\n              //onChange={handleChange} \n              //onBlur={handleBlur}\n              inputProps={{ readOnly: true }}\n            />\n          </FormControl>\n          {errors.name && <ErrorText>{errors.name}</ErrorText>}\n\n          <FormControl required margin=\"normal\" fullWidth>\n            <InputLabel htmlFor=\"address\">Address</InputLabel>\n            <Input\n              id=\"address\"\n              name=\"address\"\n              type=\"text\"\n              // disabled=\"true\"\n              value={new_location.address}\n              // value={selected_map_location.address}                 \n              placeholder=\"e.g: myStreet 3, New York\"\n              // onChange={handleChange}\n              //onBlur={handleBlur}\n              inputProps={{ readOnly: true }}\n            />\n          </FormControl>\n          {errors.address && <ErrorText>{errors.address}</ErrorText>}\n\n\n          {/* <FormControl margin=\"normal\" fullWidth>\n              <InputLabel htmlFor=\"address\">Type address here</InputLabel>\n              <Input id=\"address\" multiline rows={5} />\n            </FormControl> */}\n\n          {/* <FormControl margin=\"normal\" fullWidth> */}\n          {/* <CoordinatesInputLabel htmlFor=\"coordinates\">Coordinates</CoordinatesInputLabel> */}\n\n          <CoordinatesBox>\n            <CoordinatesBoxLabel> Coordinates </CoordinatesBoxLabel>\n            <CoordinatesInnerBox>\n              {/* <fieldset width=\"100%\"> */}\n\n              <FormControl required margin=\"normal\" width=\"50%\">\n                <InputLabel htmlFor=\"lat\">Latitude </InputLabel>\n                <CoordinatesInput\n                  id=\"lat\"\n                  name=\"lat\"\n                  type=\"number\"\n                  min=\"MIN_COORDINATES\"\n                  max=\"MAX_COORDINATES\"\n                  value={new_location.lat}\n                  // value={selected_map_location.lat}\n                  placeholder=\"-345.1\"\n                  //onChange={handleChange}\n                  //onBlur={handleBlur}\n                  inputProps={{ readOnly: true }}\n                />\n              </FormControl>\n              {errors.lat && <ErrorText>{errors.lat}</ErrorText>}\n\n              <FormControl required margin=\"normal\" width=\"50%\">\n                <InputLabel htmlFor=\"lng\" >Longitude</InputLabel>\n\n                <CoordinatesInput\n                  id=\"lng\"\n                  name=\"lng\"\n                  type=\"number\"\n                  min=\"MIN_COORDINATES\"\n                  max=\"MAX_COORDINATES\"\n                  value={new_location.lng}\n                  // value={selected_map_location.lng} \n                  placeholder=\"156.76\"\n                  //onChange={handleChange}\n                  // onBlur={handleBlur}\n                  inputProps={{ readOnly: true }}\n                />\n              </FormControl>\n              {errors.lng && <ErrorText>{errors.lng}</ErrorText>}\n\n              {/* </fieldset>       */}\n            </CoordinatesInnerBox>\n          </CoordinatesBox>\n\n\n          <FormControl margin=\"normal\" fullWidth required  >\n\n            <InputLabel htmlFor=\"category\" id=\"select-category-label\">\n              Category\n              </InputLabel>\n\n            <Select\n              labelId=\"select-category-label\"\n              id='category-simple'\n              name='category'\n              value={new_location.category}\n              defaultValue={selected_location.category}\n              placeholder=\"Pick a Category from the list\"\n              //onChange={handleChange}\n              inputProps={{ readOnly: true }}\n              autoWidth\n\n            // inputProps={{\n            //     name: 'category',\n            //     id: 'category-simple',\n            // }}\n            >\n              {categories_list.map(item => (\n                <MenuItem key={item.name} value={item.name}>\n                  {item.name}\n                </MenuItem>\n              ))}\n\n              {/* <MenuItem value={20}>Twenty</MenuItem>\n                <MenuItem value={30}>Thirty</MenuItem> */}\n\n            </Select>\n\n          </FormControl>\n\n\n          {errors.category && <ErrorText>{errors.category}</ErrorText>}\n\n        </LocationForm>\n      </FormBox>\n    </MainBox>\n\n  );\n\n}\n\n\n\nexport default ViewLocation;\n\n//===============================================================\n// local styling\n//===============================================================\n\nconst toolTipText = `Select an existing category from the list`;\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    maxWidth: \"sm\",\n  },\n  tooltip: {\n    fontSize: 10,\n    lineHeight: 16,\n    heigt: 17,\n    // marginTop: 2,\n  },\n  textField: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  dense: {\n    marginTop: theme.spacing(2),\n  },\n  menu: {\n    width: 200,\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: 'auto',\n    width: 'fit-content',\n  },\n  formControl: {\n    marginTop: theme.spacing(2),\n    minWidth: 120,\n\n  },\n  formControlLabel: {\n    marginTop: theme.spacing(1),\n  },\n}));\n\n\nconst ModalBox = styled('div')({\n  position: \"absolute\",\n  background: \"#fff\",\n  top: 25,\n  left: \"10%\",\n  right: \"10%\",\n  padding: 15,\n});\n\n\nconst MainBox = styled('div')({\n\n  // height: '60vh',\n  height: 'fit-content',\n  // maxHeight: '60rem',\n  // minHeight: '60vh',\n\n  width: 'fit-content',\n  //   width: '35%',\n  minWidth: '32rem', //'35rem',\n  maxWidth: '40vw', //'35rem',\n  // minWidth: '30rem', //'35rem',\n  // maxWidth: '30rem', //'35rem',\n\n  // margin: 0,\n  margin: 'auto',\n  marginLeft: 30,\n  padding: 10,\n  paddingLeft: 10,\n\n  // borderRadius: '0.4rem',\n  // borderRadius: '0.8rem',\n  // overflowX: 'hidden',\n  // overflowY: 'scroll',\n  // boxShadow: '0 0.2rem 0.8rem DimGrey',\n\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',   //'flex-start', \n  justifyContent: 'center',   //'flex-start', \n});\n\nconst MainBoxLabel = styled('h1')({\n  height: 'fit-content',\n  display: 'flex',\n  margin: 'auto',\n  // margin: 0,\n  padding: 0,\n});\n\nconst FormBox = styled(Box)({\n  display: \"flex\",\n  justifyContent: \"center\",\n\n  //margin: 20,\n  margin: 'auto',\n  marginLeft: 20,\n  paddingLeft: 10,\n\n  height: 'fit-content',\n  // height: '50vh',\n  // maxHeight: '50vh',\n  // minHeight: '50vh',\n\n  // height: '50%',\n  // maxHeight: '50vh',\n  // minHeight: '50rem',\n\n});\n\nconst LocationForm = styled('form')({\n  display: 'flex',\n  flexDirection: 'column',\n\n  margin: 'auto',\n  paddingBottom: 5, //20\n  // marginTop: '1rem', //10,\n  // paddingTop: '1rem', //10,\n  width: 'fit-content',\n  // width: \"50%\",\n});\n\nconst CoordinatesBoxLabel = styled(InputLabel)({\n  //fontSize: 3,\n  fontWeight: 'inherit',\n  textAlign: 'center',\n  color: 'inherit',\n});\n\nconst CoordinatesBox = styled(Box)({\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"flex-start\",\n\n  marginTop: 13,//21,    \n  paddingTop: 10,\n  paddingBottom: 3,\n  width: \"100%\",\n\n  //borderStyle: 'solid',\n  //borderColor:'#d1e0e0',\n\n  //font-family: \"Expletus Sans\";\n  textAlign: \"left\",\n  // color: \"slategray\",\n\n  // fontWeight: 400,\n});\n\nconst CoordinatesInnerBox = styled(Box)({\n\n  display: 'flex',\n  //flexFlow:['noWrap','noWrap','wrap'], \n  flexFlow: 'wrap',\n  // flexDirection: [\"row\", 'row', 'column'],\n  flexDirection: 'column',\n  justifyContent: 'space-even',\n\n  //marginTop: 12,\n  marginLeft: 20,\n\n  paddingleft: 20,\n  paddingTop: 5,\n  paddingBottom: 5,\n\n  // width: \"100%\",\n  width: [1, 1, 1 / 2],\n  maxWidth: \"sm\",\n  //font-family: \"Expletus Sans\";\n  textAlign: \"left\",\n  // color: \"slategray\",\n  // fontWeight: 400,\n\n\n});\n\nconst CoordinatesInput = styled(Input)({\n  //marginTop: 20,\n  marginRight: 10,\n  paddingTop: 25,\n  // paddingTop: 5,\n  paddingleft: 25,\n  // paddingRight: 25,\n  //flexGrow:0,\n  // flexBasis:['40%', '40%', '100%'],\n  //width:[1/2, 1/2, 1],\n  maxWidth: \"xl\",\n});\n\nconst CoordinatesInputLabel = styled(InputLabel)({\n  marginRight: 10,\n  paddingRight: 15,\n});\n\n\nconst SubmitBox = styled('p')({\n  display: 'flex',\n  justifyContent: \"center\",\n  marginTop: 15, //30\n  //marginLeft: 50,\n  paddingTop: 15,\n});\n\nconst ErrorText = styled('h5')({\n  display: 'flex',\n  flexWrap: 'wrap',\n\n  justifyContent: 'left',\n  margin: 'auto',\n  padding: 'auto',\n  marginTop: 3,\n  //marginLeft: 50,\n  paddingTop: 5,\n\n  color: `${main_palete_theme.palette.error.main}`,\n  //color: 'red',\n\n  textAlign: 'left',\n  wordWrap: 'break-word',\n});\n\n\nconst SubmitText = styled('h5')({\n  display: 'flex',\n  justifyContent: \"left\",\n  marginTop: 3,\n  //marginLeft: 50,\n  paddingTop: 5,\n\n  // color: 'green',\n  color: `${main_palete_theme.palette.success.main}`,\n\n  textAlign: 'left',\n});\n\n//const ViewLocation = () => <h1>Create a new Location</h1>;\n\n//const CreateBot = () => <h1 className=\"create\">Create a new Bot!</h1>;\n//export default CreateBot;\n\n\n\n","import React, {  forwardRef,} from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport main_palete_theme from '../../style.lib/PalleteStyles';\nimport { palette, spacing } from '@material-ui/system';\n//import AddLocationRoundedIcon from '@material-ui/icons/AddLocationRounded';\n\nimport {\n  AddLocationRounded,\n  AddBox ,\n  ArrowDownward ,\n  Check  ,\n  ChevronLeft ,\n  ChevronRight ,\n  Clear ,\n  DeleteOutline ,\n  Edit ,\n  FilterList,\n  FirstPage ,\n  LastPage ,\n  Remove ,\n  SaveAlt ,\n  Search,\n  ViewColumn,\n} from '@material-ui/icons/';\n\n\n\nconst LocationsMenu = () => {\n  \n  const tableIcons = {\n    Add: forwardRef((props, ref) => <AddLocationRounded {...props} ref={ref} />),\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n  };\n\nreturn(\n  <Nav>\n    <li>\n      <StyledLink to=\"/locations\"> <ChevronRight/> View</StyledLink>\n    </li>   \n     <li>\n      <StyledLink to=\"/locations/add\"> <AddLocationRounded/> Add</StyledLink>\n    </li>\n    <li>\n      <StyledLink to=\"/locations/edit\"> <Edit/> Edit</StyledLink>\n    </li>\n    <li>\n      <StyledLink to=\"/locations/remove\"> <DeleteOutline/> Remove</StyledLink>\n    </li>\n\n  </Nav>\n);\n}\n\nexport default LocationsMenu;\n\n//Extending React Link\nconst StyledLink = styled(Link)`\n ${spacing} \n  /* color: #263238;  */\n  /* color: mintcream; */\n  color:  ${main_palete_theme.palette.top_menu.text_color};  \n  /* color:  ${main_palete_theme.palette.top_menu.text_color_light};  */\n  /* color:${main_palete_theme.palette.top_menu.text_color_dark}; */\n  \n  font-family: \"Expletus Sans\";\n  /* font-family: \"Yanone Kaffeesatz\";  */\n  /* font-family: \"Griffy\", cursive; */\n  \n  /* font-size: 1.3rem; */\n  font-size: 1.2rem;\n\n  font-weight: bold; \n  /* font-weight: 400; */\n  /* font-weight: normal; */ \n  /* font-weight: 500; */\n\n  letter-spacing: 1px;\n  \n  display: flex;  \n  justify-content: space-between;\n`;\n\nconst Nav = styled.ul`\n  ${spacing} \n  list-style-type: none;\n\n  /* letter-spacing: 1px; */\n\n  /* font-size: 1.3rem;  */\n  /* font-size: 2.8rem; */\n  /* font-size: 1.2rem;  */\n\n  /* font-weight: normal; */\n  /* font-weight: 400; */\n  /* font-weight: 500; */\n\n  /* font-family: \"Griffy\", cursive; */\n  /* font-family: \"Yanone Kaffeesatz\"; */\n  /* font-family: \"Expletus Sans\"; */\n\n  width: 25rem;\n  /* width: 18rem; */\n  /* width: 15rem; */\n\n  display: flex;  \n  justify-content: space-between;\n`;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport styled, { keyframes } from \"styled-components\";\n\nimport main_palete_theme from '../../style.lib/PalleteStyles';\n\n// import { makeStyles, styled , keyframes} from '@material-ui/core/styles';\nimport { palette, spacing } from '@material-ui/system';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport marker from '@ajar/marker'; \n\n\n// the children is the <Menu /> in App.js inside the  <TopBar> </TopBar>\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n// DO NOT ENVELOPE WITH A  <router></router> \n// THAT WILL OPEN A NEW ROUTER AND ALL \n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\nconst LocationsTopBar = ({ children }) => (  \n    <Box>\n      <Text>{children}</Text>\n      <Logo src=\"/icons/logo.svg\" alt=\"logo\" />\n    </Box>\n \n);\n\nexport default LocationsTopBar;\n\n//================================================\n//  Styling\n//================================================\n\nconst values = {\n  xs: 0,\n  sm: 600,\n  md: 960,\n  lg: 1280,\n  xl: 1920,\n};\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst Logo = styled.img`\n  /* ${palette} */\n  ${spacing}\n  height: 5rem;\n  animation: ${spin} 2s linear infinite;\n  \n`;\n\nconst Box = styled.div`\n  /* ${palette}*/\n  ${spacing} \n    background:  ${main_palete_theme.palette.top_menu.main};  \n  /* background: #00e676; */ \n  /* slategray; */\n\n  /* width: 100%; */\n  height: 40px; \n  /* 70px; */\n  padding: 20px;\n \n  /* position: fixed;\n  top: 2;\n  left: 12; */\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n`;\n\nconst Text = styled.h1`\n  cursor: pointer;\n  user-select: none;\n  position: relative;\n`;\n\n//https://material-ui.com/system/basics/\n\n// Mesting Selectors https://material-ui.com/styles/basics/\n// const useStyles = makeStyles({\n//   root: {\n//     padding: 16,\n//     color: 'red',\n//     '& p': {\n//       color: 'green',\n//       '& span': {\n//         color: 'blue'\n//       }\n//     }\n//   },\n// });\n\n/*\nimport React from \"react\";\nimport styled, { keyframes } from \"styled-components/macro\";\n\n// the children is the <Menu /> in App.js inside the  <TopBar> </TopBar>\nconst TopBar = ({ children }) => (\n  <Box>\n    <Text>{children}</Text>\n    <Logo src=\"/icons/logo.svg\" alt=\"logo\" />\n  </Box>\n);\n\nexport default TopBar;\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\nconst Logo = styled.img`\n  height: 5rem;\n  animation: ${spin} 2s linear infinite;\n`;\n\nconst Box = styled.div`\n  background: slategray;\n  width: 100%;\n  height: 70px;\n  padding: 20px;\n  color: white;\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n`;\n\nconst Text = styled.h1`\n  // font-size: 3rem; \n  font-size: 1px;\n  font-weight: normal;\n  font-family: \"Griffy\", cursive;\n  color: papayawhip;\n  cursor: pointer;\n  user-select: none;\n  position: relative;\n`;\n*/","import React from \"react\";\n// import Thumb from \"../Thumb\";\n\nimport main_palete_theme from '../../style.lib/PalleteStyles';\n\n// import styled from \"styled-components\";\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport marker from '@ajar/marker'; \n\nconst Location= ({ id, name, address, lat, lng, category }) => {\n  // console.log('name:',name)\n  //\tconsole.log('props:',props)\n  // coordinates = {\n  //   lat: -34.397,\n  //   lng: 150.644\n  // };\n\n  return (\n    <Box>\n      <TextsBox>\n        <Title>{name}</Title>\n        <Title2> Category: {category} </Title2>\n        <MsgText>{address} </MsgText>        \n        <MsgText><em>( lat ) </em> {lat} </MsgText>\n        <MsgText><em>( lng ) </em> {lng} </MsgText>\n\n      </TextsBox>\n    </Box>\n  );\n};\n\nexport default Location;\n\n\nconst Box = styled('div')({\n  padding: '2rem 0.8rem', //t+b, r+l\n  // padding: '2rem 2.8rem',\n  cursor: 'pointer',\n  display: 'flex',\n  alignItems: 'center',\n\n  '&:hover': {\n    // background: 'paleturquoise',\n    background: `${main_palete_theme.palette.table_row_style.selected}`,\n  },\n  '&:active': {   \n    // background: 'skyblue',\n    background: `${main_palete_theme.palette.table_row_style.selected}`,\n    color: 'white',\n    color: `${main_palete_theme.palette.secondary.main}`,\n  },\n});\n\nconst TextsBox = styled('div')({\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent:'left',\n  alignItems: 'space-between',\n  paddingLeft: '2.8rem',\n});\n\nconst Title = styled('h1')({\n  fontFamily: 'Expletus Sans',\n  textAlign: 'left',\n  // font-size: '2.8rem', \n  fontSize: '1.4rem',\n});\n\nconst Title2 = styled('h3')({\n  fontFamily: 'Expletus Sans',\n  textAlign: 'left',\n  // font-size: '2.8rem', \n  fontSize: '1.1rem',\n});\n\nconst MsgText = styled('p')({\n  color: 'darkslateblue',\n  textAlign: 'left', \n  fontFamily: 'Raleway',\n  fontSize: '1.0rem',\n  // font-size: '1.4rem',\n   maxWidth: 'fit-content', //'45rem',\n});\n\n","import React, { useContext, useEffect } from \"react\";\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\n\nimport Location from \"./Location\";\n// import Card from \"./Card\";\n\nimport main_palete_theme from '../../style.lib/PalleteStyles';\n\n// import styled from \"styled-components\";\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport marker from '@ajar/marker'; \n\n\n//const List = ({ list_data, updateSelectedCard }) => {\nconst LocationsList = () => {\n  // const { filtered_list, update_selected_card } = useContext(StateDataManager);\n  const { \n    selected_location, update_selected_location,\n    original_Locations_list, \n    filtered_Locations_list, \n    update_Locations_filtered_list,\n    locations_sort_order,\n  } = useContext(StateDataManager);\n\n  //update_Locations_filtered_list(original_Locations_list);\n  console.log(`LocationsList original_Locations_list `, original_Locations_list);\n  console.log(`LocationsList filtered_Locations_list `, filtered_Locations_list);\n\n\n\n  return (\n    <Box>\n       {/* <ul> {create_list_ui(original_Locations_list, update_selected_location)} </ul> */}\n       <ul> {create_list_ui(filtered_Locations_list, update_selected_location)} </ul>\n    </Box>\n  );\n};\n\n// Note:\n//create_list_ui now gets 2 inputs: list_data, update_selected_location\n\n// Note\n//in order to pass parameters to the onClick called function,\n// we need to DEFINE (!!!) a new func, an arrow func is best,\n// which will get the item that was selected\n//It has to be on the DOM element, the li!!!\n\nconst create_list_ui = (items, update_selected_location) =>\n   items.map(item => (\n    <CardItem key={item.id} onClick={() => update_selected_location(item)}>\n      <Location {...item} />\n    </CardItem>\n  ));\n\n\nexport default LocationsList;\n\n\n/*\n\n//const List = ({ list_data, updateSelectedCard }) => {\nconst List = () => {\n  const { filtered_list, update_selected_card } = useContext(StateDataManager);\n\n  // Note:\n  //create_list_u now gets 2 inputs: list_data, updateSelectedCard\n\n  return (\n    <Box>\n      <ul> {create_list_ui(filtered_list, update_selected_card)} </ul>\n    </Box>\n  );\n};\n\n// Note\n//in order to pass parameters to the onClick called function,\n// we need to DEFINE (!!!) a new func, an arrow func is best,\n// which will get the item that was selected\n//It has to be on the DOM element, the li!!!\n\nconst create_list_ui = (items, update_selected_card) =>\n  items.map(item => (\n    <CardItem key={item.id} onClick={() => update_selected_card(item)}>\n      <Card {...item} />\n    </CardItem>\n  ));\n\nexport default List;\n\n*/\nconst Box = styled('div')({\n  //background: `${main_palete_theme.palette.table_row_style.regular}`,\n  // background: `${main_palete_theme.palette.surface_background.regular}`,\n  background:  `${main_palete_theme.palette.table_row_style.very_light}`,\n\n  height: '70vh',\n  // height: 85vh', \n  // minWidth: '60rem',\n // maxWidth: '56vw',\n // width: '56%',\n   \n  minWidth: '30rem', //'30rem'\n  maxWidth: '40vw', //'40vw'\n  width: '35%',      //'35%'\n\n  // marginLeft: '20',\n  //paddingLeft: '20',\n\n  borderRadius: '0.4rem',\n  overflowX: 'hidden',\n  overflowY: 'scroll',\n  boxShadow: '0 0.2rem 0.8rem DimGrey',\n});\n\nconst CardItem = styled('li')({\n  \n  \"&:nth-child(even)\": {\n   background: `${main_palete_theme.palette.table_row_style.regular}`,\n   //background: `${main_palete_theme.palette.table_row_style.regular_light}`,\n  },\n  \"&:nth-child(odd)\": {\n    // background: `${main_palete_theme.palette.surface_background.regular}`,\n    // background: `${main_palete_theme.palette.surface_background.regular_light}`,\n     background:  `${main_palete_theme.palette.table_row_style.very_light}`,\n  }\n});\n\n\n","import React, {\n  useContext,\n  useState,\n  useEffect,\n  useMemo,\n} from \"react\";\n\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\n//import * as api from \"../../services/StorageService\";\n\n//import TableSortLabel from '@material-ui/core/TableSortLabel';\n\nimport main_palete_theme from '../../style.lib/PalleteStyles';\nimport { makeStyles, withStyles, styled, createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\n\n//import Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport {\n  SortRounded,\n  CategoryRounded,\n  Search,\n  FilterList,\n  //Sort,\n  //SortByAlphaTwoTone,\n} from '@material-ui/icons/';\n\nimport { Tooltip, Fab, } from '@material-ui/core';\n\n// import AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\n\n//import \"../styles.css\";\n// import styled from \"styled-components\";\n\nimport marker from \"@ajar/marker\";\n\n\nconst FilterLocations = () => {\n\n  // const { original_list, filtered_list, update_filtered_list } = useContext(StateDataManager);\n  const {\n    filtered_Locations_list, update_Locations_filtered_list,\n    original_Locations_list,\n    locations_filter_text, set_locations_filter_text,\n    locations_edited_flag,\n    set_error_message,\n    locations_sort_order, set_locations_sort_order,\n    locations_sort_by_category, set_locations_sort_by_category\n  } = useContext(StateDataManager);\n\n\n\n  ///pay attention to [] !!!!\n  const [num_elements, set_num_elements] = useState(0);\n  // const [filter_text, set_filter_text] = useState(\"\");\n\n  //const classes = useStyles();\n\n  let items_count = filtered_Locations_list.length || original_Locations_list.length;\n\n  marker.green(`Filter num_elements 1 ${num_elements}`);\n\n  //------------------------------------------------------------------------------\n  //          Ssort and category icons handlers\n  //------------------------------------------------------------------------------\n\n  const handleRequestSort = event => {\n\n    const is_asc = ('asc' === locations_sort_order);\n    marker.red(`handleRequestSort BEFORE\n                locations_sort_order = ${locations_sort_order} \n                is_asc                = ${is_asc}\\n`);\n\n\n    set_locations_sort_order(is_asc ? 'desc' : 'asc');\n\n\n    // Note that here we have to force the new order, cause it wasn't updated yet.\n    sortList(filtered_Locations_list, (is_asc ? 'desc' : 'asc'), locations_sort_by_category);\n\n  };\n\n\n  const handleRequestGroupByCategory = event => {\n\n    const by_category = locations_sort_by_category;\n\n    const is_asc = ('asc' === locations_sort_order);\n    marker.red(`handleRequestGroupByCategory BEFORE\n                locations_sort_order = ${locations_sort_order} \n                is_asc                = ${is_asc}\\n`);\n\n\n    set_locations_sort_by_category(locations_sort_by_category ? false : true);\n\n    // Note that here we have to force the new order, cause it wasn't updated yet.\n    sortList(filtered_Locations_list, locations_sort_order, (by_category ? false : true));\n\n  };\n\n\n\n  //------------------------------------------------------------------------------\n  //          Sort asc or desc, by category or not\n  //------------------------------------------------------------------------------\n\n  const sortList = (curr_filtered_Locations_list, new_order, by_category) => {\n\n    const is_asc = ('asc' === new_order);\n    marker.red(`sortList() BEFORE\n    locations_sort_order = ${locations_sort_order} \n    new_order            = ${new_order}\n    is_asc               = ${is_asc}\n    by_category          = ${by_category}\\n`);\n\n\n    console.log(`sortList() BEFORE FilterLocations list `, curr_filtered_Locations_list);\n\n    let filtered_list = curr_filtered_Locations_list;\n\n    // sort the temporary list\n    //-------------------------------------------------------------\n    filtered_list.sort(\n      (a, b) => {\n        marker.red(`sortList() a.name \"${a.name}\" `);\n        marker.red(`sortList() b.name \"${b.name}\" `);\n        marker.red(`sortList() result ${((a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1) * (is_asc ? 1 : -1))} `);\n\n        //trim white spaces at satrt and end, it affects sort\n        // If compareFunc returns 0 then the elements are treated as equal\n        // If compareFunc returns 1 then b is sorted before a\n        // If compareFunc returns -1 then a is sorted before b\n\n        let keyA = \"\", keyB = \"\";\n\n        if (by_category) {\n          keyA = a.category.trim().toLowerCase() + a.name.trim().toLowerCase();\n          keyB = b.category.trim().toLowerCase() + b.name.trim().toLowerCase();\n        }\n        else {\n          keyA = a.name.trim().toLowerCase();\n          keyB = b.name.trim().toLowerCase();\n        }\n\n        if (keyA < keyB) return (-1 * (is_asc ? 1 : -1));\n        if (keyA > keyB) return (1 * (is_asc ? 1 : -1));\n        return 0;\n\n        // localCompare doesnt seem to work...\n        // marker.red(`sortList() result ${(is_asc === 'asc'  ? (a.name.toLowerCase().localeCompare( b.name)) : -( a.name.toLowerCase().localeCompare( b.name))) }`);\n\n        // return ( is_asc === 'asc'  ?  (a.name.toLowerCase().localeCompare( b.name)) : -( a.name.toLowerCase().localeCompare( b.name)) );\n\n        // return ( (a, b) => (a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 1) * (is_asc ? 1 : -1) );\n\n\n      });\n\n\n    update_Locations_filtered_list(filtered_list);\n\n    console.log(`sortLiat() AFTER FilterLocations filtered_list `, filtered_list);\n    console.log(`sortLiat() AFTER FilterLocations filtered_Locations_list `, filtered_Locations_list);\n\n\n    //===========================\n    // a small example to show how sort works:\n    //---------------------------------------\n    // let users = [\n    //   {name: 'Scotty', age: '18'},\n    //   {name: 'Tommy', age: '21'},\n    //   {name: 'Sally', age: '71'},\n    //   {name: 'Billy', age: '18'},\n    //   {name: 'Timmy', age: '21'}\n    // ];\n\n    // console.log(`sortLiat() users 1 `, users);\n\n    // users.sort((a, b) => {\n    //   let keyA = a.age + a.name;\n    //   let keyB = b.age + b.name;\n    //   if (keyA < keyB) return (-1 * (is_asc ? 1 : -1));\n    //   if (keyA > keyB) return (1 * (is_asc ? 1 : -1));\n    //   return 0;\n    // });\n\n    // console.log(`sortLiat() users 2 `, users);\n    //===========================\n\n  };\n\n  marker.blue(`FilterLocations current order = ${locations_sort_order}\\n`);\n  console.log(`FilterLocations current filtered_Locations_list \\n`, filtered_Locations_list);\n\n\n\n  //-----------------------------------------------------------------------------\n  //      Update the filtered list\n  //-----------------------------------------------------------------------------\n\n  const updateFilteredList = event => {\n    const txt = event.target.value;\n\n    // set_filter_text(txt);\n    set_locations_filter_text(txt);\n\n    const filtered_list = original_Locations_list.filter(item =>\n      item.category.toLowerCase().includes(txt.toLowerCase())\n    );\n\n    sortList(filtered_list, locations_sort_order, locations_sort_by_category);\n\n    // update_Locations_filtered_list(filtered_list);\n    //marker.green(`updateList: num_elements 2 ${num_elements}`);\n    set_num_elements(filtered_Locations_list.length);\n    // marker.green(`updateList num_elements 3 ${num_elements}`);\n\n    // marker.magenta (`updateList filtered_list.length ${filtered_list.length}`);\n  };\n\n\n\n  // Update upon original_Locations_list change\n\n  useEffect(() => {\n\n    marker.red(`FilterLocations useEffect() on original_Locations_list\\n`);\n    console.log(`FilterLocations useEffect() original_Locations_list \\n`, original_Locations_list);\n    console.log(`FilterLocations useEffect() filtered_Locations_list \\n`, filtered_Locations_list);\n    marker.red(`FilterLocations useEffect() locations_filter_text ${locations_filter_text}\\n`);\n\n\n    const filtered_list = original_Locations_list.filter(\n      item => item.category.toLowerCase().includes(locations_filter_text.toLowerCase())\n\n    );\n\n    sortList(filtered_list, locations_sort_order, locations_sort_by_category);\n\n    set_num_elements(filtered_Locations_list.length);\n\n    console.log(`FilterLocations original_Locations_list  2 `, original_Locations_list);\n    console.log(`FilterLocations filtered_Locations_list 2 `, filtered_Locations_list);\n\n  }, [original_Locations_list.length, locations_edited_flag]);\n\n\n  // Update upon original_Locations_list change\n\n  useEffect(() => {\n    const filtered_list = filtered_Locations_list;\n\n    marker.green(`useEffect() sort_order or sort_by_category or filtered_Locations_list length changed\\n`);\n    marker.green(`locations_sort_order           = ${locations_sort_order} \n                  filtered_Locations_list.length = ${filtered_Locations_list.length}\\n`);\n\n    sortList(filtered_list, locations_sort_order, locations_sort_by_category);\n\n    console.log(`useEffect() FilterLocations filtered_Locations_list changed `, filtered_Locations_list);\n\n  }, [locations_sort_order, locations_sort_by_category, filtered_Locations_list.length]);\n\n\n  //marker.green(`Filter num_elements 4 ${num_elements}`);\n\n  //marker.blue(`items_count 1 ${items_count}`);\n  items_count = filtered_Locations_list.length;\n  // marker.blue(`items_count 2 ${items_count}`);\n\n  return (\n\n    <Header>\n      <Title>{items_count} items filtered</Title>\n\n      {/* <ToolbarTooltip title=\"Filter list\"  */}\n      <Tooltip title=\"Filter list by category\"\n        placement='bottom-start'\n        //placement=\"top\"\n\n        PopperProps={{\n          popperOptions: {\n            modifiers: {\n              offset: {\n                enabled: true,\n                offset: '9px, 2px',\n                // offset: '9px, 9px',\n              },\n            },\n          },\n        }}\n      >\n        <SearchBar >\n          <Search style={{ fontSize: 30, }} />\n          {/* <FilterList style={{fontSize: 30,}} /> */}\n          <Input onChange={updateFilteredList} />\n          {/* <TableSortLabel\n                active={true}\n                direction={order }\n                onClick={handleRequestSort}\n              /> */}\n          {/* <Button variant=\"contained\" color=\"primary\" disableElevation>  </Button>\n        */}\n        </SearchBar>\n\n      </Tooltip>\n      {/* </ToolbarTooltip>  */}\n\n      <ActionsBar>\n\n        <Tooltip title=\"Sort list alphabetically\"  >\n          <Fab\n            style={{\n              background: 'inherit',\n              color: `${main_palete_theme.palette.header.text_color}`,\n            }}\n\n            variant=\"contained\"\n            // className={classes.button}\n            // color=\"darkred\" \n            //color= \"primary\"\n            aria-label=\"sort list\"\n            onClick={event => handleRequestSort(event)}\n            size=\"small\"\n          >\n\n            <SortRounded />\n            {/* Sort */}\n          </Fab>\n        </Tooltip>\n\n\n        <Tooltip title=\"Sort list by Category\"  >\n          {/* <IconButton \n                style={{ color: `${main_palete_theme.palette.header.text_color}`, }}  */}\n          <Fab\n            style={{\n              background: 'inherit',\n              color: `${main_palete_theme.palette.header.text_color}`,\n            }}\n            variant=\"contained\"\n            // className={classes.button}\n            // color=\"darkred\" \n            //color= \"primary\"\n            aria-label=\"By Category\"\n            onClick={event => handleRequestGroupByCategory(event)}\n            size=\"small\"\n          >\n\n            <CategoryRounded />\n            {/* By Category */}\n\n          </Fab>\n          {/* </IconButton> */}\n\n        </Tooltip>\n        {/* </ToolbarTooltip> */}\n\n\n      </ActionsBar>\n\n    </Header>\n\n  );\n};\nexport default FilterLocations;\n\n\n//==============================================================================\n//            Styling \n//==============================================================================\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: theme.spacing(1),\n    //color: 'darkred',\n    color: '#FFF',\n    //backgroundColor: '#01579b',\n    // backgroundColor: '#039be5',\n\n  },\n}));\n\n// const filterLocatios_theme = createMuiTheme({\n//   palette: {\n//     primary: {\n//       main:  '#FFF',//'#8b0000', //'darkred', //'#4caf50',\n//     },\n//     secondary: {\n//       main: '#ff9100',\n//     },\n//   },\n\n// });\n\nconst Header = styled('div')({\n  backgroundColor: `${main_palete_theme.palette.header.main}`,\n  // backgroundColor: '#01579b',\n  // backgroundColor: '#039be5',\n  //background: 'lightsalmon',\n  // backgroundColor: '#039be5',   \n\n  color: `${main_palete_theme.palette.header.text_color}`,\n  // color: '#FFF',  \n\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  right: 0,\n  margin: 'auto',\n  padding: 'auto',\n  borderRadius: '0.4rem 0.4rem 0 0',\n  height: '5rem',\n  /* height: '9rem', */\n  display: 'flex',\n  justifyContent: 'space-around',\n  alignItems: 'center',\n});\n\nconst Title = styled('h4')({\n  fontFamily: \"Expletus Sans\",\n  textAlign: 'left',\n  /* fontSize: '2rem', */\n  fontSize: '1.3rem',\n  fontWeight: 400,\n  //color: `${main_palete_theme.palette.header.text_color}`,\n  //color:  '#FFF', //'darkred',\n});\n\nconst Input = styled('input')({\n  height: '1.75rem',\n  /* height: 3.5rem, */\n  width: '24rem',\n  outline: 'none',\n  borderRadius: '0.5rem',\n  border: 'white 2px solid',\n  transition: 'border 0.5s',\n  padding: '1rem',\n\n  '&:focus': {\n    border: `${main_palete_theme.palette.secondary.main} 2px solid`,\n  }\n});\n\nconst ActionsBar = styled('div')({\n  backgroundColor: `${main_palete_theme.palette.header.main}`,\n  // backgroundColor: '#01579b',\n  // backgroundColor: '#039be5',\n  //background: 'lightsalmon',\n  // backgroundColor: '#039be5',   \n\n  color: `${main_palete_theme.palette.header.text_color}`,\n  //color: '#FFF',\n\n  borderRadius: '0.4rem 0.4rem 0 0',\n  height: '5rem',\n  width: '16rem',\n  /* height: '1.75rem', */\n  /* height: '9rem', */\n  display: 'flex',\n  justifyContent: 'space-around',\n  alignItems: 'center',\n});\n\nconst SearchBar = styled('div')({\n  display: 'flex',\n  justifyContent: 'space-around',\n  alignItems: 'center',\n});\n\nconst ToolbarTooltip = withStyles({\n  tooltip: {\n    color: `${main_palete_theme.palette.header.text_color}`,\n    //backgroundColor: \"transparent\",\n    backgroundColor: `${main_palete_theme.palette.header.main}`,\n    fontSize: `1rem`,\n  }\n})(Tooltip);\n\n/*\nconst Header = styled.div`\n  background: lightsalmon;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-radius: 0.4rem 0.4rem 0 0;\n  height: 5rem;\n  //  height: 9rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n`;\n\nconst Title = styled.h4`\n  font-family: \"Expletus Sans\";\n  text-align: left;\n  // font-size: 2rem;\n  font-size: 1.3rem;\n  font-weight: 400;\n  color: darkred;\n`;\n\nconst Input = styled.input`\n  height: 1.75rem;\n  // height: 3.5rem;\n  width: 24rem;\n  outline: none;\n  border-radius: 0.5rem;\n  border: white 2px solid;\n  transition: border 0.5s;\n  padding: 1rem;\n\n  &:focus {\n    border: tomato 2px solid;\n  }\n`;\n\nconst ActionsBar = styled.div`\n  background: lightsalmon;\n  border-radius: 0.4rem 0.4rem 0 0;\n  height: 5rem;\n  width: 16rem;\n  // height: 1.75rem;\n  // height: 9rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: space-around;\n`;\n*/\n/*\nreturn (\n  <div className=\"header\">\n    <h4 className=\"filter_title\">{items_count} items filtered</h4>\n    <input className=\"filter\" onChange={update_list} />\n  </div>\n);\n*/\n","//import React, { Component } from \"react\";\nimport React, { useContext } from \"react\";\n// import { Route, Switch } from \"react-router\";\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Switch,\n  Route,\n  Link,\n  useHistory,\n  useLocation,\n  useParams\n} from \"react-router-dom\";\n\nimport { createBrowserHistory } from \"history\";\n\nimport { StateDataManager } from \"../../stateProvider/DataManager\";\nimport * as api from \"../../services/StorageService\";\nimport marker from '@ajar/marker';\n\nimport {\n  GoogleMapContainer,\n  // LocationsMap ,\n} from \"../GoogleMapsApi/GoogleMapEmbed\";\n\nimport AddLocation from \"./AddLocation\";\nimport EditLocation from \"./EditLocation\";\nimport RemoveLocation from \"./RemoveLocation\";\nimport ViewLocation from \"./ViewLocation\";\n\nimport LocationsMenu from \"./LocationsMenu\";\nimport LocationsTopBar from \"./LocationsTopBar\";\n\nimport List from \"./LocationsList\";\nimport Filter from \"./FilterLocations\";\n//import Profile from \"../Profile\";\n\nimport main_palete_theme from '../../style.lib/PalleteStyles';\n\n//import \"../styles.css\";\n//import styled from \"styled-components\";\nimport { makeStyles, styled } from '@material-ui/core/styles';\n//import marker from '@ajar/marker'; \n\n\n\n\nconst LocationsBrowser = () => {\n  const { loading_lists } = useContext(StateDataManager);\n\n  const {\n    selected_map_location,\n    update_selected_map_location\n  } = useContext(StateDataManager);\n\n  //console.log(`LocationsBrowser prpos `, props);\n  console.log(`LocationsBrowser selected_map_location `, selected_map_location);\n\n  const setUserPickedCoordinates = ({ lat, lng }) => {\n    update_selected_map_location({ lat: lat, lng: lng });\n  };\n\n  const setUserPickedAddress = (str) => {\n    update_selected_map_location({ address: str });\n  };\n\n  // const history = createBrowserHistory();\n\n  let location = useLocation();\n  marker.obj(location, `LocationsBrowser location `);\n\n  let history = useHistory();\n\n  /* \n   TBD:\n    Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.\n    in AddLocation (at LocationsBrowser.jsx:158)    \n\n    index.js:1437 Warning: Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function.\n    in AddLocation (at LocationsBrowser.jsx:165)\n  */\n\n\n  return (\n    // <div >\n    //   <ContentBox>\n    //       <LocationsMap \n    //           lat={selected_map_location.lat}\n    //           lng={selected_map_location.lng}\n    //           zoom={selected_map_location.zoom}\n    //           setCoordinates={setUserPickedCoordinates}\n    //           setAddress={setUserPickedAddress}           \n    //         />\n    //   </ContentBox>\n    // </div>\n\n\n    <MainBox >\n      {loading_lists === false ? (\n        <div>\n          <Filter />\n\n          <ContentBox>\n\n            <MenuContentBox>\n\n              <MenuBox>\n                <LocationsTopBar>\n                  <LocationsMenu />\n                </LocationsTopBar>\n              </MenuBox>\n\n\n              {/* <Switch>                    \n                  <Route exact path=\"/locations\"  children={  \n                    () => <ManageLocationsBox>\n                            <ViewLocation />  \n                            <GoogleMapContainer /> \n                          </ManageLocationsBox> \n                   } />  \n                  <Route exact path=\"/locations/view\"  children={  \n                    () => <ManageLocationsBox>\n                            <ViewLocation />  \n                            <GoogleMapContainer /> \n                          </ManageLocationsBox> \n                   } />  \n                  <Route exact path=\"/locations/add\" children={  \n                    () => <ManageLocationsBox>\n                            <AddLocation />  \n                            <GoogleMapContainer /> \n                          </ManageLocationsBox> \n                   } />   \n                  <Route exact path=\"/locations/edit\"  children={  \n                    () => <ManageLocationsBox>\n                            <EditLocation />  \n                            <GoogleMapContainer /> \n                          </ManageLocationsBox> \n                   } />  \n                  <Route exact path=\"/locations/remove\"  children={  \n                    () => <ManageLocationsBox>\n                            <RemoveLocation />  \n                            <GoogleMapContainer /> \n                          </ManageLocationsBox> \n                             \n                   } />              \n                 </Switch> */}\n\n\n              {/* <ModalBox> */}\n              {/* <Profile/> */}\n              {/* </ModalBox> */}\n\n\n              <ManageLocationsBox>\n\n                {\n                  (\"/locations/view\" === location.pathname\n                    || \"/locations\" === location.pathname) ? <ViewLocation />\n                    : (\"/locations/add\" === location.pathname) ? <AddLocation />\n                      : (\"/locations/edit\" === location.pathname) ? <EditLocation />\n                        : (\"/locations/remove\" === location.pathname) ? <RemoveLocation />\n                          : `location.pathname= ${location.pathname}`\n\n                }\n\n                <GoogleMapContainer />\n\n\n              </ManageLocationsBox>\n\n            </MenuContentBox>\n\n            <List />\n\n          </ContentBox>\n        </div>\n      ) : (\n          <h1>... Loding ...</h1>\n        )}\n\n    </MainBox>\n\n\n\n    // </Router>\n\n  );\n};\nexport default LocationsBrowser;\n\n//===============================================================\n// local styling\n//===============================================================\n\nconst MainBox = styled('div')({\n  height: 'fit-content',\n\n  width: '100%',\n  minWidth: '100rem',\n  maxWidth: '100vw',\n\n\n  margin: 'auto',\n\n\n  backgroundColor: `${main_palete_theme.palette.surface_background.regular_medium}`,\n  // background: 'Cornsilk',\n\n  borderRadius: '0.4rem',\n  display: 'flex',\n  flexDirection: 'column',\n  boxShadow: '0 0.4rem 1.5rem DimGrey',\n  position: 'relative',\n  padding: '7.0rem 1.5rem 1.5rem',\n  // marginTop: '3rem',\n  fontSize: '1.5rem',\n\n  // padding: '8.5rem 1.5rem 1.5rem','\n  // margin-top: '10rem',' \n  // font-size: '3rem',' \n});\n\nconst ContentBox = styled('div')({\n\n  //border:red solid 2px;\n  borderRadius: '5px',\n\n  display: 'flex',\n  alignItems: 'center',\n  // alignItems: 'space-between',   //\n  // alignItems: 'flex-start', \n  justifyContent: 'space-around',   //'flex-start',\n});\n\n\n\nconst MenuBox = styled('div')({\n  width: '70rem',\n});\n\n\nconst MenuContentBox = styled('div')({\n  height: '70vh',\n  // height: 'fit-content',\n  maxHeight: '70rem',\n  minHeight: '70vh',\n\n  width: '70rem',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',   //'flex-start', \n  justifyContent: 'center',   //'space-around',   //'flex-start',\n});\n\nconst ManageLocationsBox = styled('div')({\n\n  // maxHeight: '80vh',\n  // height: '65vh',\n  height: 'fit-content',\n  // width: 'fit-content',\n  margin: 'auto',\n  // marginTop: 0,\n  // paddingTop: 0,\n\n  width: '70rem',\n  // width: '60rem',\n\n  // borderRadius: '0.8rem',\n  borderRadius: '0.4rem',\n  overflowX: 'hidden',\n  overflowY: 'scroll',\n  boxShadow: '0 0.2rem 0.8rem DimGrey',\n\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',   //'flex-start', \n  justifyContent: 'space-around',   //'flex-start',\n\n  // alignItems: 'space-between',   //'flex-start', \n  // justifyContent: 'space-between',   //'flex-start',  \n});\n\n\nconst ModalBox = styled('div')({\n  position: \"absolute\",\n\n  backgroundColor: `${main_palete_theme.palette.surface_background.regular_medium}`,\n  // background: \"#fff\",\n  top: 28,\n  left: \"10%\",\n  right: \"10%\",\n  padding: 15,\n\n\n  width: '60rem',\n  height: '75vh',\n  // borderRadius: '0.8rem',\n  borderRadius: '0.4rem',\n  overflowX: 'hidden',\n  overflowY: 'scroll',\n  boxShadow: '0 0.2rem 0.8rem DimGrey',\n  //background: 'rgba(0, 0, 0, 0.15)',\n\n  display: 'flex',\n  flexDirection: 'row',\n  // alignItems: 'center',   \n  alignItems: 'flex-start',\n  justifyContent: 'space-around',   //'flex-start',\n});\n\n/*\n  return (\n    <div className=\"app\">\n      <Filter />\n      <div className=\"content-box\">\n        <Profile />\n        <List />\n      </div>\n    </div>\n  );\n  */\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst MainMenu = () => (\n  <Nav>\n    <li>\n      <StyledLink to=\"/\">Home</StyledLink>\n    </li>\n    <li>\n      <StyledLink to=\"/about\">Profiles</StyledLink>\n    </li>\n    <li>\n      <StyledLink to=\"/contact\">Create</StyledLink>\n    </li>\n  </Nav>\n);\n\nexport default MainMenu;\n\n//Extending React Link\nconst StyledLink = styled(Link)`\n  color: mintcream;\n`;\n\nconst Nav = styled.ul`\n  display: flex;\n  list-style-type: none;\n  font-family: \"Yanone Kaffeesatz\";\n  font-weight: 400;\n  /* font-size: 2.8rem; */\n  font-size: 1.2rem; \n  width: 10rem;\n  justify-content: space-between;\n`;\n","import React from \"react\";\n\nimport styled, { keyframes } from \"styled-components/macro\";\n\n\n// import { makeStyles, styled , keyframes} from '@material-ui/core/styles';\nimport { palette, spacing } from '@material-ui/system';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport marker from '@ajar/marker'; \n\n\n// the children is the <Menu /> in App.js inside the  <TopBar> </TopBar>\nconst TopBar = ({ children }) => (\n  <Box>\n    <Text>{children}</Text>\n    <Logo src=\"/icons/logo.svg\" alt=\"logo\" />\n  </Box>\n);\n\nexport default TopBar;\n\n//================================================\n//  Styling\n//================================================\n\nconst values = {\n  xs: 0,\n  sm: 600,\n  md: 960,\n  lg: 1280,\n  xl: 1920,\n};\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\nconst Logo = styled.img`\n  ${palette}\n  ${spacing}\n  height: 5rem;\n  animation: ${spin} 2s linear infinite;\n`;\n\nconst Box = styled.div`\n  ${palette}\n  ${spacing}\n  background: slategray;\n  width: 100%;\n  height: 70px;\n  padding: 20px;\n  color: white;\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n`;\n\nconst Text = styled.h1`\n  ${palette}\n  ${spacing}\n  // font-size: 3rem; \n  font-size: 1px;\n  font-weight: normal;\n  font-family: \"Griffy\", cursive;\n  color: papayawhip;\n  cursor: pointer;\n  user-select: none;\n  position: relative;\n`;\n\n//https://material-ui.com/system/basics/\n\n// Mesting Selectors https://material-ui.com/styles/basics/\n// const useStyles = makeStyles({\n//   root: {\n//     padding: 16,\n//     color: 'red',\n//     '& p': {\n//       color: 'green',\n//       '& span': {\n//         color: 'blue'\n//       }\n//     }\n//   },\n// });\n\n/*\nimport React from \"react\";\nimport styled, { keyframes } from \"styled-components/macro\";\n\n// the children is the <Menu /> in App.js inside the  <TopBar> </TopBar>\nconst TopBar = ({ children }) => (\n  <Box>\n    <Text>{children}</Text>\n    <Logo src=\"/icons/logo.svg\" alt=\"logo\" />\n  </Box>\n);\n\nexport default TopBar;\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\nconst Logo = styled.img`\n  height: 5rem;\n  animation: ${spin} 2s linear infinite;\n`;\n\nconst Box = styled.div`\n  background: slategray;\n  width: 100%;\n  height: 70px;\n  padding: 20px;\n  color: white;\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n`;\n\nconst Text = styled.h1`\n  // font-size: 3rem; \n  font-size: 1px;\n  font-weight: normal;\n  font-family: \"Griffy\", cursive;\n  color: papayawhip;\n  cursor: pointer;\n  user-select: none;\n  position: relative;\n`;\n*/","import React, { useContext } from \"react\";\nimport { StateDataManager } from \"../stateProvider/DataManager\";\n\nimport Location from \"./Locations/Location\";\n// import Card from \"./Card\";\n// import styled from \"styled-components\";\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport marker from '@ajar/marker'; \n\n\n//const List = ({ list_data, updateSelectedCard }) => {\nconst List = () => {\n  // const { filtered_list, update_selected_card } = useContext(StateDataManager);\n  const { \n    selected_location, update_selected_location,\n    original_Locations_list, set_original_Locations_list,\n  } = useContext(StateDataManager);\n  // Note:\n  //create_list_u now gets 2 inputs: list_data, updateSelectedCard\n\n  return (\n    <Box>\n       <ul> {create_list_ui(original_Locations_list, update_selected_location)} </ul>\n    </Box>\n  );\n};\n\n// Note\n//in order to pass parameters to the onClick called function,\n// we need to DEFINE (!!!) a new func, an arrow func is best,\n// which will get the item that was selected\n//It has to be on the DOM element, the li!!!\n\nconst create_list_ui = (items, update_selected_location) =>\n  items.map(item => (\n    <CardItem key={item.id} onClick={() => update_selected_location(item)}>\n      <Location {...item} />\n    </CardItem>\n  ));\n\nexport default List;\n\n\n/*\n\n//const List = ({ list_data, updateSelectedCard }) => {\nconst List = () => {\n  const { filtered_list, update_selected_card } = useContext(StateDataManager);\n\n  // Note:\n  //create_list_u now gets 2 inputs: list_data, updateSelectedCard\n\n  return (\n    <Box>\n      <ul> {create_list_ui(filtered_list, update_selected_card)} </ul>\n    </Box>\n  );\n};\n\n// Note\n//in order to pass parameters to the onClick called function,\n// we need to DEFINE (!!!) a new func, an arrow func is best,\n// which will get the item that was selected\n//It has to be on the DOM element, the li!!!\n\nconst create_list_ui = (items, update_selected_card) =>\n  items.map(item => (\n    <CardItem key={item.id} onClick={() => update_selected_card(item)}>\n      <Card {...item} />\n    </CardItem>\n  ));\n\nexport default List;\n\n*/\nconst Box = styled('div')({\n  background: 'oldlace',\n  height: '70vh',\n  // height: 85vh', \n  // minWidth: '60rem',\n // maxWidth: '56vw',\n // width: '56%',\n   \n  minWidth: '30rem', //'30rem'\n  maxWidth: '40vw', //'40vw'\n  width: '35%',      //'35%'\n\n  // marginLeft: '20',\n  //paddingLeft: '20',\n\n  borderRadius: '0.4rem',\n  overflowX: 'hidden',\n  overflowY: 'scroll',\n  boxShadow: '0 0.2rem 0.8rem DimGrey',\n});\n\nconst CardItem = styled('li')({\n\n  '&:nth-child (even)': {\n    background: 'honeydew',\n  },\n  '&:nth-child (odd)': {\n    background: 'white',\n  }\n});\n\n\n","import React, { useContext, useState } from \"react\";\nimport { StateDataManager } from \"../stateProvider/DataManager\";\n\n//import \"../styles.css\";\nimport styled from \"styled-components\";\nimport marker from \"@ajar/marker\";\n\n\nconst Filter = () => {\n  const { original_list, filtered_list, update_filtered_list } = useContext(StateDataManager);\n\n  ///pay attention to [] !!!!\n  const [num_elements, set_num_elements] = useState(0);\n  let  items_count = filtered_list.length || original_list.length;\n\n  marker.green(`Filter num_elements 1 ${num_elements}`);\n\n  const update_list = event => {\n    const txt = event.target.value;\n\n    const filtered_list = original_list.filter(item =>\n      item.first_name.toLowerCase().includes(txt.toLowerCase())\n    );\n    \n    update_filtered_list(filtered_list);\n    //marker.green(`update_list: num_elements 2 ${num_elements}`);\n    set_num_elements(filtered_list.length);\n   // marker.green(`update_list num_elements 3 ${num_elements}`);\n\n   // marker.magenta (`update_list filtered_list.length ${filtered_list.length}`);\n  };\n\n  //marker.green(`Filter num_elements 4 ${num_elements}`);\n\n  //marker.blue(`items_count 1 ${items_count}`);\n  items_count = filtered_list.length;\n // marker.blue(`items_count 2 ${items_count}`);\n\n  return (\n    <Header>\n      <Title>{items_count} items filtered</Title>\n      <Input onChange={update_list} />\n    </Header>\n  );\n};\nexport default Filter;\n\nconst Header = styled.div`\n  background: lightsalmon;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-radius: 0.4rem 0.4rem 0 0;\n  height: 5rem;\n  /* height: 9rem; */\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n`;\nconst Title = styled.h4`\n  font-family: \"Expletus Sans\";\n  text-align: left;\n  /* font-size: 2rem; */\n  font-size: 1.3rem;\n  font-weight: 400;\n  color: darkred;\n`;\nconst Input = styled.input`\n  height: 1.75rem;\n  /* height: 3.5rem; */\n  width: 24rem;\n  outline: none;\n  border-radius: 0.5rem;\n  border: white 2px solid;\n  transition: border 0.5s;\n  padding: 1rem;\n\n  &:focus {\n    border: tomato 2px solid;\n  }\n`;\n\n/*\nreturn (\n  <div className=\"header\">\n    <h4 className=\"filter_title\">{items_count} items filtered</h4>\n    <input className=\"filter\" onChange={update_list} />\n  </div>\n);\n*/\n","import React, { useContext } from \"react\";\nimport { StateDataManager } from \"../stateProvider/DataManager\";\n//import Card from \"./Card\";\n\n//import \"../styles.css\";\nimport styled from \"styled-components\";\n\n// Function implementation\n//--------------------------\n\nconst Profile = () => {\n  // note that the object selected_card has to be in {} !!!\n  // or else we get an empty object with id=1 ...\n  const { selected_card } = useContext(StateDataManager);\n\n  console.log(`Profile selected card init ${selected_card}`);\n  console.log({ ...selected_card });\n\n  if (selected_card) {\n    console.table(selected_card);\n  } else {\n    console.log(`Profile selected card init null`);\n  }\n\n  let { id, first_name, last_name, country, email, description, avatar } = {\n    ...selected_card\n  };\n\n  /*\n  let {\n    selected_robot: {\n      id,\n      first_name,\n      last_name,\n      email,\n      country,\n      description,\n      avatar\n    }\n  } = useContext(RoboStore);\n\n \n  avatar = avatar.replace(\"100x100\", \"300x300\");\n */\n\n  console.log(`Profile selected card init 3: `);\n  console.log(`id ${id}`);\n  console.log(`first_name ${first_name}`);\n  console.log(`Profile avatar`);\n  console.log(avatar);\n\n  // const bigger_avater = avatar\n  //   ? avatar.replace(`size=80x80`, `size=300x300`)\n  //   : \"https://robohash.org/eadoloresiste.jpg?size=80x80\\u0026set=set1\";\n\n  return (\n    <ProfileBox>\n      <ProfileImageBox>\n        <img\n          src={\n            avatar\n              // ? avatar.replace(`size=80x80`, `size=300x300`)\n              ? avatar.replace(`size=80x80`, `size=100x100`)\n              : \"https://robohash.org/eadoloresiste.jpg?size=80x80\\u0026set=set1\"\n          }\n          alt=\"avatr\"\n        />\n      </ProfileImageBox>\n      <ProfileDetailsBox>\n        <ProfileTitle>\n          {undefined === first_name ? \"...Loading\" : first_name}\n          {undefined === first_name ? \"...\" : last_name}\n        </ProfileTitle>\n        <Line />\n        <ProfileDetail mt=\"2rem\">\n          Id: {undefined === id ? \"...Loading\" : id}\n        </ProfileDetail>\n        <ProfileDetail>\n          Country: {undefined === country ? \"...Loading\" : country}\n        </ProfileDetail>\n        <ProfileDetail>\n          Email: {undefined === email ? \"...Loading\" : email}\n        </ProfileDetail>\n        <ProfileDescription mt=\"2rem\">\n          {undefined === description ? \"...Loading\" : description}\n        </ProfileDescription>\n      </ProfileDetailsBox>\n    </ProfileBox>\n  );\n};\n\nexport default Profile;\n\nconst ProfileBox = styled.div`\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  padding-right: 15px;\n  align-items: center;\n  /*flex:1;*/\n`;\n\nconst ProfileImageBox = styled.div`\n  /*flex:1;*/\n  background: peachpuff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  /* width: 30rem;\n  height: 30rem; */\n  width: 10rem;\n  height: 10rem;\n`;\n\nconst ProfileDetailsBox = styled.div`\n  padding: 10px;\n  font-family: \"Expletus Sans\";\n  text-align: left;\n  color: slategray;\n  font-weight: 400;\n`;\n\nconst ProfileTitle = styled.h2`\n  font-size: 1.75rem;\n  /* font-size: 3.5rem; */\n  font-weight: inherit;\n  text-align: center;\n`;\n\nconst Line = styled.span`\n  display: block;\n  width: 100%;\n  border: none;\n  height: 1px;\n  margin-top: 2rem;\n\n  background: -webkit-gradient(\n    radial,\n    50% 50%,\n    0,\n    50% 50%,\n    200,\n    from(midnightblue),\n    to(Cornsilk)\n  );\n`;\n\nconst ProfileDetail = styled.h5`\n  font-size: 1.1rem;\n  /* font-size: 2.2rem; */\n  font-weight: inherit;\n  color: darkslateblue;\n`;\n\nconst ProfileDescription = styled.p`\n  font-family: \"Raleway\";\n  /* font-size: 1.8rem; */\n  font-size: 1.0rem;\n  max-width: 40rem;\n`;\n\n/*\n\n  return (\n    <div className=\"profile-box\">\n      <div className=\"profile-image-box\">\n        <img\n          src={\n            avatar\n              ? avatar.replace(`size=80x80`, `size=300x300`)\n              : \"https://robohash.org/eadoloresiste.jpg?size=80x80\\u0026set=set1\"\n          }\n          alt=\"avatr\"\n        />\n      </div>\n\n      <div className=\"profile-details-box\">\n          <h2 className=\"profile-title\"> {first_name} {last_name} </h2>\n        <span className=\"grad-line mt20\" />      \n        <h5 className=\"profile-detail mt20\"> Id: {id}</h5>\n        <h5 className=\"profile-detail\"> Country: {country}</h5>\n        <h5 className=\"profile-detail\"> Email: {email}</h5>\n        <p className=\"profile-description mt20\"> {description}</p>\n      </div>\n    </div>\n  );\n*/\n/*} */\n/*\n  return (\n    <div className=\"card-item\">\n      <Card {...selected_card} />\n    </div>\n  );\n*/\n","//import React, { Component } from \"react\";\nimport React, { useContext } from \"react\";\nimport { StateDataManager } from \"../stateProvider/DataManager\";\n\nimport List from \"./List\";\nimport Filter from \"./Filter\";\nimport Profile from \"./Profile\";\n\n//import \"../styles.css\";\nimport styled from \"styled-components\";\n\nconst ProfilesBrowser = () => {\n  const { loading_profiles } = useContext(StateDataManager);\n\n  return (\n    <Box>\n      {loading_profiles === false ? (\n        <div>\n          <Filter />\n          <ContentBox>\n            <Profile />\n            <List />\n          </ContentBox>\n        </div>\n      ) : (\n        <h1>... Loding ...</h1>\n      )}\n    </Box>\n  );\n};\nexport default ProfilesBrowser;\n\nconst Box = styled.div`\n  background: Cornsilk;\n\n  border-radius: 0.4rem;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 0.4rem 1.5rem DimGrey;\n  position: relative;\n  padding: 7.0rem 1.5rem 1.5rem;\n  margin-top: 3rem;\n  font-size: 1.5rem;\n\n  /* padding: 8.5rem 1.5rem 1.5rem; */\n  /* margin-top: 10rem; */\n  /* font-size: 3rem; */\n`;\n\nconst ContentBox = styled.div`\n  /*border:red solid 2px;*/\n  border-radius: 5px;\n  display: flex;\n`;\n\n/*\n  return (\n    <div className=\"app\">\n      <Filter />\n      <div className=\"content-box\">\n        <Profile />\n        <List />\n      </div>\n    </div>\n  ); \n  */\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport AppBar from '@material-ui/core/AppBar';\n\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport LocationOnIcon from '@material-ui/icons/LocationOn';\nimport PlaceIcon from '@material-ui/icons/Place';\nimport CategoryIcon from '@material-ui/icons/Category';\nimport ProfilesBrowser from \"./ProfilesBrowser\";\nimport HomePage from \"./HomePage\";\n\n\nconst useStyles = makeStyles({\n  \n  BottomNavigation: { \n \n    display: \"flex\",\n    justifyContent: \"center\",\n    // margin: 20,\n    // padding: 20,\n    \n    width: '100%', \n    minWidth: '100%', \n    maxWidth: '100%', \n\n    height: 40,\n    fontSize: \"120rem\", \n    htmlFontSize: \"1rem\",\n    fontfamily: \"Yanone Kaffeesatz\",\n    fontweight: 400,\n    position: \"fixed\",\n    bottom: 0,\n    left: 0,\n  },\n  icon: { \n    fontsize: \"30rem\",\n    textSizeAdjust: \"auto\",\n    fontweight: \"normal\",\n    cursor: \"pointer\",  \n  },\n\n  actionButtonLabel : {\n    fontSize: \"14px\",\n  }\n\n});\n\nconst MainBottomBar = () => {\n  const classes = useStyles();\n  const [value, setValue] = React.useState('recents');\n\n  const handleChange= (event, newValue) =>{\n    setValue(newValue);\n  }\n   \n\n  return (\n    \n    <BottomNavigation \n      value={value}\n      onChange={handleChange}\n      showLabels\n      className={classes.BottomNavigation }  \n      >\n\n      <BottomNavigationAction \n        component={Link}\n        to=\"/categories\"\n        label={<span className={classes.actionButtonLabel } >Categories</span>} //\"Categories\" \n        value=\"categories\" \n        icon={<CategoryIcon />}\n       // classes={actionClasses} \n        //className={classes.icon} \n      />\n      <BottomNavigationAction \n        component={Link}\n        to=\"/locations\"\n        label={<span className={classes.actionButtonLabel } >Locations</span>} //\"Locations\"\n        value=\"locations\" \n        icon={<PlaceIcon />} \n       // classes={actionClasses}\n        //className={classes.icon} \n      />\n\n    </BottomNavigation>\n\n   );\n  }\n\nexport default withStyles(useStyles)(MainBottomBar);\n\n//Extending React Link\nconst StyledLink = styled(Link)`\n  color: mintcream;\n`;\n\nconst Nav = styled.ul`\n  display: flex;\n  list-style-type: none;\n  font-family: \"Yanone Kaffeesatz\";\n  font-weight: 400;\n  font-size: 2.8rem;\n  width: 30rem;\n  justify-content: space-between;\n`;\n/*\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        margin: 20,\n        padding: 20,\n        width: \"100rem\", \n      }}\n        */  \n\n    //   label={<span style={{fontSize: '14px'}}>Categories</span>} //\"Categories\" ","import React, { useMemo } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\n//customize\n// import styled from \"styled-components\";\n//import \"./styles.css\";\nimport GlobalStyles from \"../style.lib/globalStyles\";\n// customize with material-ui\nimport main_palete_theme from '../style.lib/PalleteStyles';\n\n\n\n// Material-UI\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport marker from '@ajar/marker';\n\nimport { WrapperDataManager } from \"../stateProvider/DataManager\";\nimport HomePage from \"./HomePage\";\n\nimport CategoriesBrowser from \"./Categories/CategoriesBrowser\";\n\nimport LocationsBrowser from \"./Locations/LocationsBrowser\";\n\n\n// since Links is exported as default,\n// we can name it as we wish' hence, Menu\nimport Menu from \"./MainMenu\";\nimport TopBar from \"./TopBar\";\nimport MainBottomBar from \"./MainBottomBar\";\n\n\n// let theme = createMuiTheme({\n//   palette: {\n//     primary: settings.theme.primaryColor.import,\n//     secondary: settings.theme.secondaryColor.import,\n//     type: settings.theme.type\n//   }\n// });\n\n\n\nconst history = createBrowserHistory();\n\n\nconst App = () => {\n\n\n  // According to:\n  // https://material-ui.com/customization/palette/#example\n\n  const MainTheme = useMemo(\n    () => createMuiTheme(\n      main_palete_theme),\n    [],\n  );\n\n  // According to:\n  // https://material-ui.com/customization/palette/#example\n  // const MainTheme = useMemo(\n  //   () => createMuiTheme({\n  //     palette:  main_palete_theme.palette,\n  //     overrides: main_palete_theme.overrides,  \n\n  //     }) ,\n  //     [],\n  //   );\n\n  // const MainTheme = useMemo(\n  // this creates a new empty object, great interview Q\n  //   () => createMuiTheme({main_palete_theme}) ,\n  //     [],\n  //   );\n  /*\n  const [color, setColor] = React.useState('default');\n\n  const blue_theme = React.useMemo(() => {\n  if (color === 'blue') {\n    return createMuiTheme({\n      palette: {\n        secondary: {\n          main: blue[500],\n          contrastText: '#fff',\n        },\n      },\n    });\n  }\n  return createMuiTheme();\n}, [color]);\n*/\n\n  // const table_theme = createMuiTheme({\n\n  //  direction: direction,\n  //   palette: {    \n  //    type: 'light',\n  //   },\n  //   overrides: {\n  //     MuiTooltip: {\n  //       tooltip: {\n  //         fontSize: 30,\n  //         color: '#18ffff',\n  //         backgroundColor: '#2962ff',\n  //         margin: \"150px\",\n  //       },\n  //      },\n  //   }\n  // });\n\n\n  //   console.log (`COLORRRRRRRRRRRR \n  // ============================================================================`,main_palete_theme);\n\n\n\n  return (\n\n    <Router history={history}>\n      <MuiThemeProvider theme={MainTheme}>\n\n        <AppBox>\n          {/* <TopBar>\n            <Menu />\n          </TopBar> */}\n\n          <Route exact path=\"/\" component={HomePage} />\n\n          <WrapperDataManager>\n\n            <Switch>\n\n              {/* <Route path=\"/locations\" component={ProfilesBrowser} /> */}\n\n              {/* <Route exact path=\"/categories\" children={< AddLocation />} /> */}\n              <Route exact path=\"/categories\" children={< CategoriesBrowser />} />\n\n\n\n              <Route exact path=\"/locations\" children={<LocationsBrowser />} />\n              {/* component={LocationsBrowser} /> */}\n\n              <Route exact path=\"/locations/view\"\n                children={() => <LocationsBrowser />} />\n              <Route exact path=\"/locations/add\"\n                children={() => <LocationsBrowser />} />\n              <Route exact path=\"/locations/edit\"\n                children={() => <LocationsBrowser />} />\n              <Route path=\"/locations/remove\"\n                children={() => <LocationsBrowser />} />\n              {/* <Route path=\"/locations\" children={<AddLocation />} /> */}\n\n\n            </Switch>\n\n\n          </WrapperDataManager>\n\n          <MainBottomBar />\n\n        </AppBox>\n        <GlobalStyles />\n      </MuiThemeProvider>\n    </Router>\n  );\n};\n\nexport default App;\n\n\n\nconst AppBox = styled('div')({\n  height: 'fit-content',\n  maxWidth: '100vw',\n\n  margin: 'auto',\n  // padding: '3rem 7.5rem', \n  padding: '2rem 10rem 5rem 10rem',\n  borderRadius: '0.8rem',\n\n  display: 'flex',\n  flexDirection: 'column',\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./view/App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n//render(<App />, rootElement);\n\n/*\nReactDOM.render(\n  <WrapperDataManager>\n    <ProfileBrowser />\n    <GlobalStyles />\n  </WrapperDataManager>,\n  rootElement\n);\n*/\n"],"sourceRoot":""}